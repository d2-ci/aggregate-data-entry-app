import{P as h,f as y,g as Oi,l as Kw,s as kD,h as N,i as OD,t as X,r as O,R as D,k as Rn,m as j,n as dc,o as Ve,B as We,L as Qu,p as uc,q as Xd,S as Ku,a as xs,I as Gw,u as RD,v as k,F as ag,w as lg,x as cg,y as Jt,z as ID,D as ND,E as AD,j as w,G as Pe,H as jD,J as Ar,K as hc,M as Zw,N as es,O as LD,Q as $D,T as FD,U as BD,V as UD,W as kr,X as ri,Y as Xw,Z as Sl,$ as dg,a0 as YD,a1 as zD,a2 as ug,a3 as WD,a4 as nv,a5 as sr,a6 as HD,C as Jw,b as qD}from"./index-3fssXvim.js";import"./index-DbPbRB15.js";const VD=t=>typeof t>"u"||t===null||t==="",rv=(t,e,n)=>(r,i,s)=>{const o=r[i];return n?new Error(`Property \`${i}\` on component \`${s}\` is using the \`requiredIf\` prop-validator combined with \`.isRequired\`. This is an invalid combination.`):typeof t!="function"?new Error("The `condition` argument passed to the `requiredIf` prop-validator was not a function."):typeof e!="function"?new Error("The `propType` argument passed to the `requiredIf` prop-validator was not a function."):t(r)&&VD(o)?new Error(`Invalid prop \`${i}\` supplied to \`${s}\`, this prop is conditionally required but has value \`${o}\`. The condition that made this prop required is: \`${t.toString()}\`.`):(h.checkPropTypes({[i]:e},r,"prop",s),null)};function ht(t,e){const n=rv(t,e,!1);return n.isRequired=rv(t,e,!0),n}const QD=Object.freeze(Object.defineProperty({__proto__:null,colors:y,elevations:Oi,layers:Kw,sharedPropTypes:kD,spacers:N,spacersNum:OD,theme:X},Symbol.toStringTag,{value:"Module"}));function Bp(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M11.707 5.293a1 1 0 01.083 1.32l-.083.094L7.414 11H18a1 1 0 01.117 1.993L18 13H7.414l4.293 4.293a1 1 0 01.083 1.32l-.083.094a1 1 0 01-1.32.083l-.094-.083-6-6-.073-.082a1.005 1.005 0 01-.007-.008l.08.09A1.008 1.008 0 014 12.02v-.037c0-.024.002-.048.004-.071L4 12a1.008 1.008 0 01.21-.613c.028-.035.054-.066.083-.094l6-6a1 1 0 011.414 0z",fill:"currentColor"}))}Bp.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Up(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M13.613 5.21l.094.083 6 6a1 1 0 01.083 1.32l-.083.094-6 6a1 1 0 01-1.497-1.32l.083-.094L16.584 13H5a1 1 0 01-.117-1.993L5 11h11.586l-4.293-4.293a1 1 0 01-.083-1.32l.083-.094a1 1 0 011.32-.083z",fill:"currentColor"}))}Up.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function ex(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M7 1a3 3 0 012.995 2.824L10 4v7a2 2 0 01-3.995.15L6 11V5a.5.5 0 01.992-.09L7 5v6a1 1 0 001.993.117L9 11V4a2 2 0 00-3.995-.15L5 4v7a3 3 0 005.995.176L11 11V5a.5.5 0 01.992-.09L12 5v6a4 4 0 01-7.995.2L4 11V4a3 3 0 013-3z",fill:"currentColor"}))}ex.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function hg(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M4.146 6.146a.5.5 0 01.638-.057l.07.057L8 9.293l3.146-3.147a.5.5 0 01.638-.057l.07.057a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 010-.708z",fill:"currentColor"}))}hg.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Gu(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M11.293 15.707a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293a1 1 0 00-1.414 1.414z",fill:"currentColor"}))}Gu.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Jd(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M9.146 4.146a.5.5 0 01.765.638l-.057.07L6.707 8l3.147 3.146a.5.5 0 01.057.638l-.057.07a.5.5 0 01-.638.057l-.07-.057-3.5-3.5a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}Jd.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function eu(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M6.146 4.146a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01.057.638l-.057.07-3.5 3.5a.5.5 0 01-.765-.638l.057-.07L9.293 8 6.146 4.854a.5.5 0 01-.057-.638z",fill:"currentColor"}))}eu.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function tx(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M7.646 5.646a.5.5 0 01.638-.057l.07.057 3.5 3.5a.5.5 0 01-.638.765l-.07-.057L8 6.707 4.854 9.854a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07z",fill:"currentColor"}))}tx.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Zu(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M11.293 8.293a1 1 0 011.32-.083l.094.083 5 5a1 1 0 01-1.32 1.497l-.094-.083L12 10.415l-4.293 4.292a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094z",fill:"currentColor"}))}Zu.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function nx(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M9.5 16a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm-5-6a1.5 1.5 0 110 3 1.5 1.5 0 010-3zm5 0a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"currentColor",fillRule:"evenodd"}))}nx.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function fg(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 9a1 1 0 100 2 1 1 0 000-2zm1-6H7v5h2z",fill:"currentColor",fillRule:"evenodd"}))}fg.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function rx(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M10 10l-1 1H7l-1-1zm3-3l-1 1H4L3 7zm2-3l-1 1H2L1 4z",fill:"currentColor",fillRule:"evenodd"}))}rx.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function ix(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M3 1v1h11l-3.5 4.5L14 11H3v4H2V1zm8.955 2H3v7h8.955L9.233 6.5z",fill:"currentColor"}))}ix.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function sx(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M6 2v2h13.066a1 1 0 01.816 1.578L16.75 10l3.132 4.422A1 1 0 0119.066 16H6v6H4V2zm11.131 4H6v8h11.132l-2.833-4z",fill:"currentColor",fillRule:"evenodd"}))}sx.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Ta(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M8 1a7 7 0 110 14A7 7 0 018 1zm0 1a6 6 0 100 12A6 6 0 008 2zm.5 5v4H10v1H6v-1h1.5V7zM8 4a.75.75 0 110 1.5A.75.75 0 018 4z",fill:"currentColor"}))}Ta.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function pg(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M3 7a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2zm5 0a1 1 0 110 2 1 1 0 010-2z",fill:"currentColor",fillRule:"evenodd"}))}pg.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function ox(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M6 1a5 5 0 013.871 8.164l4.483 4.482-.708.708L9.164 9.87A5 5 0 116 1zm0 1a4 4 0 100 8 4 4 0 000-8z",fill:"currentColor"}))}ox.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function ax(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:24,viewBox:"0 0 24 24",width:24,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M20 14a1 1 0 01.993.883L21 15v3a3 3 0 01-2.824 2.995L18 21H6a3 3 0 01-2.995-2.824L3 18v-3a1 1 0 011.993-.117L5 15v3a1 1 0 00.883.993L6 19h12a1 1 0 00.993-.883L19 18v-3a1 1 0 011-1zM12 4h.02c.023 0 .046.002.07.004L12 4a1.008 1.008 0 01.625.22l.082.073 4 4a1 1 0 01-1.32 1.497l-.094-.083L13 7.415V16a1 1 0 01-1.993.117L11 16V7.413L8.707 9.707a1 1 0 01-1.32.083l-.094-.083a1 1 0 01-.083-1.32l.083-.094 4-4 .082-.073.008-.007-.09.08A1.008 1.008 0 0111.982 4H12z",fill:"currentColor"}))}ax.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function lx(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 16 16",width:16,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M8.85 1.839l.056.103 5.43 11.635a1 1 0 01-.79 1.416L13.43 15H2.57a1 1 0 01-.95-1.314l.044-.109 5.43-11.635a1 1 0 011.757-.103zM8 2.365L2.57 14h10.86zM8 11a1 1 0 110 2 1 1 0 010-2zm.5-6v5h-1V5z",fill:"currentColor"}))}lx.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function fc(t){let{color:e,dataTest:n,ariaLabel:r}=t;return O.createElement("svg",{height:16,viewBox:"0 0 15 16",width:15,xmlns:"http://www.w3.org/2000/svg",color:e,"data-test":n},O.createElement("path",{d:"M8.85 1.839l.056.103 5.43 11.635a1 1 0 01-.79 1.416L13.43 15H2.57a1 1 0 01-.95-1.314l.044-.109 5.43-11.635a1 1 0 011.757-.103zM8 11a1 1 0 100 2 1 1 0 000-2zm1-6H7v5h2z",fill:"currentColor"}))}fc.propTypes={color:h.string,dataTest:h.string,ariaLabel:h.string};function Ne(){return Ne=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(null,arguments)}function po(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KD=46,GD=/\\(\\)?/g,ZD=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),XD=function(e){var n=[];return e.charCodeAt(0)===KD&&n.push(""),e.replace(ZD,function(r,i,s,o){var a=r;s?a=o.replace(GD,"$1"):i&&(a=i.trim()),n.push(a)}),n},Jc={},JD=/[.[\]]+/,cx=function(e){if(e==null||!e.length)return[];if(typeof e!="string")throw new Error("toPath() expects a string");return Jc[e]==null&&(e.endsWith("[]")?Jc[e]=e.split(JD).filter(Boolean):Jc[e]=XD(e)),Jc[e]},ct=function(e,n){for(var r=cx(n),i=e,s=0;s<r.length;s++){var o=r[s];if(i==null||typeof i!="object"||Array.isArray(i)&&isNaN(o))return;i=i[o]}return i};function eM(t){var e=tM(t,"string");return typeof e=="symbol"?e:String(e)}function tM(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nM=function t(e,n,r,i,s){if(n>=r.length)return i;var o=r[n];if(isNaN(o)){var a;if(e==null){var l,c=t(void 0,n+1,r,i,s);return c===void 0?void 0:(l={},l[o]=c,l)}if(Array.isArray(e))throw new Error("Cannot set a non-numeric property on an array");var d=t(e[o],n+1,r,i,s);if(d===void 0){var u=Object.keys(e).length;if(e[o]===void 0&&u===0)return;if(e[o]!==void 0&&u<=1)return!isNaN(r[n-1])&&!s?{}:void 0;e[o];var f=po(e,[o].map(eM));return f}return Ne({},e,(a={},a[o]=d,a))}var p=Number(o);if(e==null){var m=t(void 0,n+1,r,i,s);if(m===void 0)return;var v=[];return v[p]=m,v}if(!Array.isArray(e))throw new Error("Cannot set a numeric property on an object");var b=e[p],x=t(b,n+1,r,i,s),T=[].concat(e);if(s&&x===void 0){if(T.splice(p,1),T.length===0)return}else T[p]=x;return T},tr=function(e,n,r,i){if(i===void 0&&(i=!1),e==null)throw new Error("Cannot call setIn() with "+String(e)+" state");if(n==null)throw new Error("Cannot call setIn() with "+String(n)+" key");return nM(e,0,cx(n),r,i)},iv="FINAL_FORM/form-error",Cl="FINAL_FORM/array-error";function sv(t,e){var n=t.errors,r=t.initialValues,i=t.lastSubmittedValues,s=t.submitErrors,o=t.submitFailed,a=t.submitSucceeded,l=t.submitting,c=t.values,d=e.active,u=e.blur,f=e.change,p=e.data,m=e.focus,v=e.modified,b=e.modifiedSinceLastSubmit,x=e.name,T=e.touched,E=e.validating,S=e.visited,C=ct(c,x),M=ct(n,x);M&&M[Cl]&&(M=M[Cl]);var P=s&&ct(s,x),R=r&&ct(r,x),I=e.isEqual(R,C),U=!!(i&&!e.isEqual(ct(i,x),C)),L=!M&&!P;return{active:d,blur:u,change:f,data:p,dirty:!I,dirtySinceLastSubmit:U,error:M,focus:m,initial:R,invalid:!L,length:Array.isArray(C)?C.length:void 0,modified:v,modifiedSinceLastSubmit:b,name:x,pristine:I,submitError:P,submitFailed:o,submitSucceeded:a,submitting:l,touched:T,valid:L,value:C,visited:S,validating:E}}var dx=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],ni=function(e,n){if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),o=0;o<r.length;o++){var a=r[o];if(!s(a)||e[a]!==n[a])return!1}return!0};function ux(t,e,n,r,i,s){var o=!1;return i.forEach(function(a){r[a]&&(t[a]=e[a],(!n||(~s.indexOf(a)?!ni(e[a],n[a]):e[a]!==n[a]))&&(o=!0))}),o}var rM=["data"],iM=function(e,n,r,i){var s={blur:e.blur,change:e.change,focus:e.focus,name:e.name},o=ux(s,e,n,r,dx,rM)||!n;return o||i?s:void 0},hx=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],sM=["touched","visited"];function ov(t,e,n,r){var i={},s=ux(i,t,e,n,hx,sM)||!e;return s||r?i:void 0}var av=function(e){var n,r;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(!n||s.length!==n.length||s.some(function(a,l){return!ni(n[l],a)}))&&(n=s,r=e.apply(void 0,s)),r}},Rf=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"},oM="4.20.9",aM=function(e,n){return e===n},Ho=function t(e){return Object.keys(e).some(function(n){var r=e[n];return r&&typeof r=="object"&&!(r instanceof Error)?t(r):typeof r<"u"})};function lM(t){var e=t.active,n=t.dirtySinceLastSubmit,r=t.modifiedSinceLastSubmit,i=t.error,s=t.errors,o=t.initialValues,a=t.pristine,l=t.submitting,c=t.submitFailed,d=t.submitSucceeded,u=t.submitError,f=t.submitErrors,p=t.valid,m=t.validating,v=t.values;return{active:e,dirty:!a,dirtySinceLastSubmit:n,modifiedSinceLastSubmit:r,error:i,errors:s,hasSubmitErrors:!!(u||f&&Ho(f)),hasValidationErrors:!!(i||Ho(s)),invalid:!p,initialValues:o,pristine:a,submitting:l,submitFailed:c,submitSucceeded:d,submitError:u,submitErrors:f,valid:p,validating:m>0,values:v}}function fx(t,e,n,r,i,s){var o=i(n,r,e,s);return o?(t(o),!0):!1}function lv(t,e,n,r,i){var s=t.entries;Object.keys(s).forEach(function(o){var a=s[Number(o)];if(a){var l=a.subscription,c=a.subscriber,d=a.notified;fx(c,l,e,n,r,i||!d)&&(a.notified=!0)}})}function cM(t){if(!t)throw new Error("No config specified");var e=t.debug,n=t.destroyOnUnregister,r=t.keepDirtyOnReinitialize,i=t.initialValues,s=t.mutators,o=t.onSubmit,a=t.validate,l=t.validateOnBlur;if(!o)throw new Error("No onSubmit function specified");var c={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{asyncErrors:{},dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:i&&Ne({},i),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:i?Ne({},i):{}},lastFormState:void 0},d=0,u=!1,f=!1,p=!1,m=0,v={},b=function(A){return function(F){return delete v[A],F}},x=function(A,F,H){var V=ct(A.formState.values,F),se=H(V);A.formState.values=tr(A.formState.values,F,se)||{}},T=function(A,F,H){if(A.fields[F]){var V,se;A.fields=Ne({},A.fields,(V={},V[H]=Ne({},A.fields[F],{name:H,blur:function(){return K.blur(H)},change:function(De){return K.change(H,De)},focus:function(){return K.focus(H)},lastFieldState:void 0}),V)),delete A.fields[F],A.fieldSubscribers=Ne({},A.fieldSubscribers,(se={},se[H]=A.fieldSubscribers[F],se)),delete A.fieldSubscribers[F];var de=ct(A.formState.values,F);A.formState.values=tr(A.formState.values,F,void 0)||{},A.formState.values=tr(A.formState.values,H,de),delete A.lastFormState}},E=function(A){return function(){if(s){for(var F={formState:c.formState,fields:c.fields,fieldSubscribers:c.fieldSubscribers,lastFormState:c.lastFormState},H=arguments.length,V=new Array(H),se=0;se<H;se++)V[se]=arguments[se];var de=s[A](V,F,{changeValue:x,getIn:ct,renameField:T,resetFieldState:K.resetFieldState,setIn:tr,shallowEqual:ni});return c.formState=F.formState,c.fields=F.fields,c.fieldSubscribers=F.fieldSubscribers,c.lastFormState=F.lastFormState,R(void 0,function(){I(),Z()}),de}}},S=s?Object.keys(s).reduce(function(Q,A){return Q[A]=E(A),Q},{}):{},C=function(A){var F=[];if(a){var H=a(Ne({},c.formState.values));Rf(H)?F.push(H.then(function(V){return A(V,!0)})):A(H,!1)}return F},M=function(A){return Object.keys(A.validators).reduce(function(F,H){var V=A.validators[Number(H)]();return V&&F.push(V),F},[])},P=function(A,F){var H=[],V=M(A);if(V.length){var se;V.forEach(function(de){var Se=de(ct(c.formState.values,A.name),c.formState.values,de.length===0||de.length===3?sv(c.formState,c.fields[A.name]):void 0);if(Se&&Rf(Se)){A.validating=!0;var De=Se.then(function(Oe){c.fields[A.name]&&(c.fields[A.name].validating=!1,F(Oe))});H.push(De)}else se||(se=Se)}),F(se)}return H},R=function(A,F){if(u){f=!0,F();return}var H=c.fields,V=c.formState,se=Ne({},H),de=Object.keys(se);if(!a&&!de.some(function($r){return M(se[$r]).length})){F();return}var Se=!1;if(A){var De=se[A];if(De){var Oe=De.validateFields;Oe&&(Se=!0,de=Oe.length?Oe.concat(A):[A])}}var pt={},Ct={},Nn={},En=[].concat(C(function($r,Zr){Zr?Ct=$r||{}:pt=$r||{}}),de.reduce(function($r,Zr){return $r.concat(P(H[Zr],function(vr){Nn[Zr]=vr}))},[])),kt=En.length>0,yt=++m,ur=Promise.all(En).then(b(yt));kt&&(v[yt]=ur);var Ds=function(Zr){var vr=Ne({},Se?V.errors:{},pt,Zr?Ct:V.asyncErrors),ko=function(Xn){de.forEach(function(An){if(H[An]){var Vi=ct(pt,An),qc=ct(vr,An),Vc=M(se[An]).length,qa=Nn[An];Xn(An,Vc&&qa||a&&Vi||(!Vi&&!Se?qc:void 0))}})};ko(function(Fr,Xn){vr=tr(vr,Fr,Xn)||{}}),ko(function(Fr,Xn){if(Xn&&Xn[Cl]){var An=ct(vr,Fr),Vi=[].concat(An);Vi[Cl]=Xn[Cl],vr=tr(vr,Fr,Vi)}}),ni(V.errors,vr)||(V.errors=vr),Zr&&(V.asyncErrors=Ct),V.error=pt[iv]};if(kt&&(c.formState.validating++,F()),Ds(!1),F(),kt){var Ms=function(){c.formState.validating--,F()};ur.then(function(){m>yt||Ds(!0)}).then(Ms,Ms)}},I=function(A){if(!d){var F=c.fields,H=c.fieldSubscribers,V=c.formState,se=Ne({},F),de=function(De){var Oe=se[De],pt=sv(V,Oe),Ct=Oe.lastFieldState;Oe.lastFieldState=pt;var Nn=H[De];Nn&&lv(Nn,pt,Ct,iM,Ct===void 0)};A?de(A):Object.keys(se).forEach(de)}},U=function(){Object.keys(c.fields).forEach(function(A){c.fields[A].touched=!0})},L=function(){return!!(c.formState.error||Ho(c.formState.errors))},z=function(){var A=c.fields,F=c.formState,H=c.lastFormState,V=Ne({},A),se=Object.keys(V),de=!1,Se=se.reduce(function(kt,yt){var ur=!V[yt].isEqual(ct(F.values,yt),ct(F.initialValues||{},yt));return ur&&(de=!0,kt[yt]=!0),kt},{}),De=se.reduce(function(kt,yt){var ur=F.lastSubmittedValues||{};return V[yt].isEqual(ct(F.values,yt),ct(ur,yt))||(kt[yt]=!0),kt},{});F.pristine=!de,F.dirtySinceLastSubmit=!!(F.lastSubmittedValues&&Object.values(De).some(function(kt){return kt})),F.modifiedSinceLastSubmit=!!(F.lastSubmittedValues&&Object.keys(V).some(function(kt){return V[kt].modifiedSinceLastSubmit})),F.valid=!F.error&&!F.submitError&&!Ho(F.errors)&&!(F.submitErrors&&Ho(F.submitErrors));var Oe=lM(F),pt=se.reduce(function(kt,yt){return kt.modified[yt]=V[yt].modified,kt.touched[yt]=V[yt].touched,kt.visited[yt]=V[yt].visited,kt},{modified:{},touched:{},visited:{}}),Ct=pt.modified,Nn=pt.touched,En=pt.visited;return Oe.dirtyFields=H&&ni(H.dirtyFields,Se)?H.dirtyFields:Se,Oe.dirtyFieldsSinceLastSubmit=H&&ni(H.dirtyFieldsSinceLastSubmit,De)?H.dirtyFieldsSinceLastSubmit:De,Oe.modified=H&&ni(H.modified,Ct)?H.modified:Ct,Oe.touched=H&&ni(H.touched,Nn)?H.touched:Nn,Oe.visited=H&&ni(H.visited,En)?H.visited:En,H&&ni(H,Oe)?H:Oe},q=function(){return e&&!0&&e(z(),Object.keys(c.fields).reduce(function(A,F){return A[F]=c.fields[F],A},{}))},W=!1,B=!1,Z=function Q(){if(W)B=!0;else{if(W=!0,q(),!d&&!(u&&p)){var A=c.lastFormState,F=z();F!==A&&(c.lastFormState=F,lv(c.subscribers,F,A,ov))}W=!1,B&&(B=!1,Q())}},ne=function(){return Object.keys(c.fields).some(function(A){return c.fields[A].beforeSubmit&&c.fields[A].beforeSubmit()===!1})},J=function(){return Object.keys(c.fields).forEach(function(A){return c.fields[A].afterSubmit&&c.fields[A].afterSubmit()})},G=function(){return Object.keys(c.fields).forEach(function(A){return c.fields[A].modifiedSinceLastSubmit=!1})};R(void 0,function(){Z()});var K={batch:function(A){d++,A(),d--,I(),Z()},blur:function(A){var F=c.fields,H=c.formState,V=F[A];V&&(delete H.active,F[A]=Ne({},V,{active:!1,touched:!0}),l?R(A,function(){I(),Z()}):(I(),Z()))},change:function(A,F){var H=c.fields,V=c.formState;if(ct(V.values,A)!==F){x(c,A,function(){return F});var se=H[A];se&&(H[A]=Ne({},se,{modified:!0,modifiedSinceLastSubmit:!!V.lastSubmittedValues})),l?(I(),Z()):R(A,function(){I(),Z()})}},get destroyOnUnregister(){return!!n},set destroyOnUnregister(Q){n=Q},focus:function(A){var F=c.fields[A];F&&!F.active&&(c.formState.active=A,F.active=!0,F.visited=!0,I(),Z())},mutators:S,getFieldState:function(A){var F=c.fields[A];return F&&F.lastFieldState},getRegisteredFields:function(){return Object.keys(c.fields)},getState:function(){return z()},initialize:function(A){var F=c.fields,H=c.formState,V=Ne({},F),se=typeof A=="function"?A(H.values):A;r||(H.values=se);var de=r?Object.keys(V).reduce(function(Se,De){var Oe=V[De],pt=Oe.isEqual(ct(H.values,De),ct(H.initialValues||{},De));return pt||(Se[De]=ct(H.values,De)),Se},{}):{};H.initialValues=se,H.values=se,Object.keys(de).forEach(function(Se){H.values=tr(H.values,Se,de[Se])||{}}),R(void 0,function(){I(),Z()})},isValidationPaused:function(){return u},pauseValidation:function(A){A===void 0&&(A=!0),u=!0,p=A},registerField:function(A,F,H,V){H===void 0&&(H={}),c.fieldSubscribers[A]||(c.fieldSubscribers[A]={index:0,entries:{}});var se=c.fieldSubscribers[A].index++;c.fieldSubscribers[A].entries[se]={subscriber:av(F),subscription:H,notified:!1};var de=c.fields[A]||{active:!1,afterSubmit:V&&V.afterSubmit,beforeSubmit:V&&V.beforeSubmit,data:V&&V.data||{},isEqual:V&&V.isEqual||aM,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:A,touched:!1,valid:!0,validateFields:V&&V.validateFields,validators:{},validating:!1,visited:!1};de.blur=de.blur||function(){return K.blur(A)},de.change=de.change||function(Ct){return K.change(A,Ct)},de.focus=de.focus||function(){return K.focus(A)},c.fields[A]=de;var Se=!1,De=V&&V.silent,Oe=function(){De&&c.fields[A]?I(A):(Z(),I())};if(V){Se=!!(V.getValidator&&V.getValidator()),V.getValidator&&(c.fields[A].validators[se]=V.getValidator);var pt=ct(c.formState.values,A)===void 0;V.initialValue!==void 0&&(pt||ct(c.formState.values,A)===ct(c.formState.initialValues,A))&&(c.formState.initialValues=tr(c.formState.initialValues||{},A,V.initialValue),c.formState.values=tr(c.formState.values,A,V.initialValue),R(void 0,Oe)),V.defaultValue!==void 0&&V.initialValue===void 0&&ct(c.formState.initialValues,A)===void 0&&pt&&(c.formState.values=tr(c.formState.values,A,V.defaultValue))}return Se?R(void 0,Oe):Oe(),function(){var Ct=!1;c.fields[A]&&(Ct=!!(c.fields[A].validators[se]&&c.fields[A].validators[se]()),delete c.fields[A].validators[se]);var Nn=!!c.fieldSubscribers[A];Nn&&delete c.fieldSubscribers[A].entries[se];var En=Nn&&!Object.keys(c.fieldSubscribers[A].entries).length;En&&(delete c.fieldSubscribers[A],delete c.fields[A],Ct&&(c.formState.errors=tr(c.formState.errors,A,void 0)||{}),n&&(c.formState.values=tr(c.formState.values,A,void 0,!0)||{})),De||(Ct?R(void 0,function(){Z(),I()}):En&&Z())}},reset:function(A){A===void 0&&(A=c.formState.initialValues),c.formState.submitting&&(c.formState.resetWhileSubmitting=!0),c.formState.submitFailed=!1,c.formState.submitSucceeded=!1,delete c.formState.submitError,delete c.formState.submitErrors,delete c.formState.lastSubmittedValues,K.initialize(A||{})},resetFieldState:function(A){c.fields[A]=Ne({},c.fields[A],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),R(void 0,function(){I(),Z()})},restart:function(A){A===void 0&&(A=c.formState.initialValues),K.batch(function(){for(var F in c.fields)K.resetFieldState(F),c.fields[F]=Ne({},c.fields[F],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});K.reset(A)})},resumeValidation:function(){u=!1,p=!1,f&&R(void 0,function(){I(),Z()}),f=!1},setConfig:function(A,F){switch(A){case"debug":e=F;break;case"destroyOnUnregister":n=F;break;case"initialValues":K.initialize(F);break;case"keepDirtyOnReinitialize":r=F;break;case"mutators":s=F,F?(Object.keys(S).forEach(function(H){H in F||delete S[H]}),Object.keys(F).forEach(function(H){S[H]=E(H)})):Object.keys(S).forEach(function(H){delete S[H]});break;case"onSubmit":o=F;break;case"validate":a=F,R(void 0,function(){I(),Z()});break;case"validateOnBlur":l=F;break;default:throw new Error("Unrecognised option "+A)}},submit:function(){var A=c.formState;if(!A.submitting){if(delete A.submitErrors,delete A.submitError,A.lastSubmittedValues=Ne({},A.values),L()){U(),G(),c.formState.submitFailed=!0,Z(),I();return}var F=Object.keys(v);if(F.length){Promise.all(F.map(function(De){return v[Number(De)]})).then(K.submit,console.error);return}var H=ne();if(!H){var V,se=!1,de=function(Oe){A.submitting=!1;var pt=A.resetWhileSubmitting;return pt&&(A.resetWhileSubmitting=!1),Oe&&Ho(Oe)?(A.submitFailed=!0,A.submitSucceeded=!1,A.submitErrors=Oe,A.submitError=Oe[iv],U()):(pt||(A.submitFailed=!1,A.submitSucceeded=!0),J()),Z(),I(),se=!0,V&&V(Oe),Oe};A.submitting=!0,A.submitFailed=!1,A.submitSucceeded=!1,A.lastSubmittedValues=Ne({},A.values),G();var Se=o(A.values,K,de);if(!se){if(Se&&Rf(Se))return Z(),I(),Se.then(de,function(De){throw de(),De});if(o.length>=3)return Z(),I(),new Promise(function(De){V=De});de(Se)}}}},subscribe:function(A,F){if(!A)throw new Error("No callback given.");if(!F)throw new Error("No subscription provided. What values do you want to listen to?");var H=av(A),V=c.subscribers,se=V.index++;V.entries[se]={subscriber:H,subscription:F,notified:!1};var de=z();return fx(H,F,de,de,ov,!0),function(){delete V.entries[se]}}};return K}var dM=["render","children","component"];function uM(t,e,n){var r=t.render,i=t.children,s=t.component,o=po(t,dM);if(s)return O.createElement(s,Object.assign(e,o,{children:i,render:r}));if(r)return r(i===void 0?Object.assign(e,o):Object.assign(e,o,{children:i}));if(typeof i!="function")throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return i(Object.assign(e,o))}function Qi(t,e,n){n===void 0&&(n=function(s,o){return s===o});var r=D.useRef(t);D.useEffect(function(){n(t,r.current)||(e(),r.current=t)})}function hM(t){var e=D.useRef();return e.current||(e.current=t()),e.current}var cv=function(e,n){if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),o=0;o<r.length;o++){var a=r[o];if(!s(a)||e[a]!==n[a])return!1}return!0},fM=function(e){return!!(e&&typeof e.stopPropagation=="function")},px=O.createContext();function mx(t){var e=D.useRef(t);return D.useEffect(function(){e.current=t}),e}var pM="6.5.8",gx=function(e,n,r){r.forEach(function(i){Object.defineProperty(e,i,{get:function(){return n[i]},enumerable:!0})})},mM=function(e,n){return gx(e,n,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},gM=function(e,n){return gx(e,n,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])},yM=["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"],vM={"final-form":oM,"react-final-form":pM},bM=hx.reduce(function(t,e){return t[e]=!0,t},{});function yx(t){var e=t.debug,n=t.decorators,r=n===void 0?[]:n,i=t.destroyOnUnregister,s=t.form,o=t.initialValues,a=t.initialValuesEqual,l=t.keepDirtyOnReinitialize,c=t.mutators,d=t.onSubmit,u=t.subscription,f=u===void 0?bM:u,p=t.validate,m=t.validateOnBlur,v=po(t,yM),b={debug:e,destroyOnUnregister:i,initialValues:o,keepDirtyOnReinitialize:l,mutators:c,onSubmit:d,validate:p,validateOnBlur:m},x=hM(function(){var R=s||cM(b);return R.pauseValidation(),R}),T=O.useState(function(){var R={};return x.subscribe(function(I){R=I},f)(),R}),E=T[0],S=T[1],C=mx(E);O.useEffect(function(){x.isValidationPaused()&&x.resumeValidation();var R=[x.subscribe(function(I){cv(I,C.current)||S(I)},f)].concat(r?r.map(function(I){return I(x)}):[]);return function(){x.pauseValidation(),R.reverse().forEach(function(I){return I()})}},r),Qi(e,function(){x.setConfig("debug",e)}),Qi(i,function(){x.destroyOnUnregister=!!i}),Qi(l,function(){x.setConfig("keepDirtyOnReinitialize",l)}),Qi(o,function(){x.setConfig("initialValues",o)},a||cv),Qi(c,function(){x.setConfig("mutators",c)}),Qi(d,function(){x.setConfig("onSubmit",d)}),Qi(p,function(){x.setConfig("validate",p)}),Qi(m,function(){x.setConfig("validateOnBlur",m)});var M=function(I){return I&&(typeof I.preventDefault=="function"&&I.preventDefault(),typeof I.stopPropagation=="function"&&I.stopPropagation()),x.submit()},P={form:Ne({},x,{reset:function(I){fM(I)?x.reset():x.reset(I)}}),handleSubmit:M};return mM(P,E),O.createElement(px.Provider,{value:x},uM(Ne({},v,{__versions:vM}),P,"ReactFinalForm"))}function vx(t){var e=O.useContext(px);if(!e)throw new Error((t||"useForm")+" must be used inside of a <Form> component");return e}var wM=typeof window<"u"&&window.navigator&&window.navigator.product&&window.navigator.product==="ReactNative",xM=function(e){var n=[];if(e)for(var r=0;r<e.length;r++){var i=e[r];i.selected&&n.push(i.value)}return n},_M=function(e,n,r,i){if(!i&&e.nativeEvent&&e.nativeEvent.text!==void 0||i&&e.nativeEvent)return e.nativeEvent.text;var s=e,o=s.target,a=o.type,l=o.value,c=o.checked;switch(a){case"checkbox":if(r!==void 0){if(c)return Array.isArray(n)?n.concat(r):[r];if(!Array.isArray(n))return n;var d=n.indexOf(r);return d<0?n:n.slice(0,d).concat(n.slice(d+1))}else return!!c;case"select-multiple":return xM(e.target.options);default:return l}};function If(t){var e=O.useRef(t);return O.useEffect(function(){e.current=t}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(null,r)},[])}var TM=dx.reduce(function(t,e){return t[e]=!0,t},{}),Nf=function(e,n){return e===void 0?"":e},EM=function(e,n){return e===""?void 0:e},SM=function(e,n){return e===n};function Yp(t,e){e===void 0&&(e={});var n=e,r=n.afterSubmit,i=n.allowNull,s=n.component,o=n.data,a=n.defaultValue,l=n.format,c=l===void 0?Nf:l,d=n.formatOnBlur,u=n.initialValue,f=n.multiple,p=n.parse,m=p===void 0?EM:p,v=n.subscription,b=v===void 0?TM:v,x=n.type,T=n.validateFields,E=n.value,S=vx("useField"),C=mx(e),M=function(B,Z){return S.registerField(t,B,b,{afterSubmit:r,beforeSubmit:function(){var J=C.current,G=J.beforeSubmit,K=J.formatOnBlur,Q=J.format,A=Q===void 0?Nf:Q;if(K){var F=S.getFieldState(t),H=F.value,V=A(H,t);V!==H&&S.change(t,V)}return G&&G()},data:o,defaultValue:a,getValidator:function(){return C.current.validate},initialValue:u,isEqual:function(J,G){return(C.current.isEqual||SM)(J,G)},silent:Z,validateFields:T})},P=O.useRef(!0),R=O.useState(function(){var W={},B=S.destroyOnUnregister;return S.destroyOnUnregister=!1,M(function(Z){W=Z},!0)(),S.destroyOnUnregister=B,W}),I=R[0],U=R[1];O.useEffect(function(){return M(function(W){P.current?P.current=!1:U(W)},!1)},[t,o,a,u]);var L={};gM(L,I);var z={name:t,get value(){var W=I.value;return d?s==="input"&&(W=Nf(W)):W=c(W,t),W===null&&!i&&(W=""),x==="checkbox"||x==="radio"?E:s==="select"&&f?W||[]:W},get checked(){var W=I.value;if(x==="checkbox")return W=c(W,t),E===void 0?!!W:!!(Array.isArray(W)&&~W.indexOf(E));if(x==="radio")return c(W,t)===E},onBlur:If(function(W){if(I.blur(),d){var B=S.getFieldState(I.name);I.change(c(B.value,I.name))}}),onChange:If(function(W){var B=W&&W.target?_M(W,I.value,E,wM):W;I.change(m(B,t))}),onFocus:If(function(W){return I.focus()})};f&&(z.multiple=f),x!==void 0&&(z.type=x);var q={input:z,meta:L};return q}var bx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(bx);var CM=bx.exports;const Af=Rn(CM),Bn=["svg.jsx-4069423049{display:block;pointer-events:none;}",`svg.jsx-4069423049 .border.jsx-4069423049{fill:${y.grey800};}`,`svg.jsx-4069423049 .background.jsx-4069423049,svg.jsx-4069423049 .indeterminate.jsx-4069423049,svg.jsx-4069423049 .checkmark.jsx-4069423049{fill:${y.white};}`,`svg.checked.jsx-4069423049 .background.jsx-4069423049,svg.indeterminate.jsx-4069423049 .background.jsx-4069423049{fill:${y.teal500};}`,`svg.valid.jsx-4069423049 .background.jsx-4069423049{fill:${y.blue600};}`,`svg.warning.jsx-4069423049 .background.jsx-4069423049{fill:${y.yellow700};}`,`svg.error.jsx-4069423049 .background.jsx-4069423049{fill:${y.red500};}`,`svg.checked.jsx-4069423049 .border.jsx-4069423049,svg.indeterminate.jsx-4069423049 .border.jsx-4069423049{fill:${y.teal900};}`,"svg.jsx-4069423049:not(.checked) .checkmark.jsx-4069423049,svg.jsx-4069423049:not(.indeterminate) .indeterminate.jsx-4069423049{fill:none;}",`svg.jsx-4069423049:not(.checked):not(.indeterminate) .background.jsx-4069423049{fill:${y.white};}`];Bn.__hash="4069423049";function wx(t){let{className:e}=t;return D.createElement("svg",{viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${Bn.__hash} `+j.dynamic([["2753140462",[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]]])+" "+(e||"")},D.createElement("rect",{x:"0",y:"0",width:"18",height:"18",rx:"3",className:`jsx-${Bn.__hash} `+j.dynamic([["2753140462",[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]]])+" background"}),D.createElement("path",{d:"M15,0 C16.6568542,0 18,1.34314575 18,3 L18,15 C18,16.6568542 16.6568542,18 15,18 L3,18 C1.34314575,18 0,16.6568542 0,15 L0,3 C0,1.34314575 1.34314575,0 3,0 L15,0 Z M15,1 L3,1 C1.9456382,1 1.08183488,1.81587779 1.00548574,2.85073766 L1,3 L1,15 C1,16.0543618 1.81587779,16.9181651 2.85073766,16.9945143 L3,17 L15,17 C16.0543618,17 16.9181651,16.1841222 16.9945143,15.1492623 L17,15 L17,3 C17,1.9456382 16.1841222,1.08183488 15.1492623,1.00548574 L15,1 Z",className:`jsx-${Bn.__hash} `+j.dynamic([["2753140462",[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]]])+" border"}),D.createElement("path",{d:"M4.74451387,8.02852516 C4.39595738,8.11985643 4.12375034,8.39235188 4.03251575,8.74127768 C3.94128115,9.09020348 4.04521722,9.46125864 4.30437605,9.71182782 L7.29823844,12.7078028 C7.68753993,13.0973991 8.31859767,13.0973991 8.70789916,12.7078028 L13.695624,6.71585285 C13.9547828,6.46528367 14.0587189,6.09422851 13.9674843,5.74530271 C13.8762497,5.39637691 13.6040426,5.12388146 13.2554861,5.0325502 C12.9069296,4.94121893 12.5362672,5.04526513 12.2859632,5.30469855 L8.0030688,10.5910713 L5.71403676,8.30067351 C5.46373279,8.0412401 5.09307036,7.9371939 4.74451387,8.02852516 Z",className:`jsx-${Bn.__hash} `+j.dynamic([["2753140462",[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]]])+" checkmark"}),D.createElement("rect",{x:"4",y:"8",width:"10",height:"2",rx:"1",className:`jsx-${Bn.__hash} `+j.dynamic([["2753140462",[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]]])+" indeterminate"}),D.createElement(j,{id:Bn.__hash},Bn),D.createElement(j,{id:"2753140462",dynamic:[y.grey300,y.grey400,y.blue600,y.blue700,y.yellow700,y.yellow800,y.red500,y.red700]},["svg.__jsx-style-dynamic-selector{width:18px;height:18px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${y.grey300};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.grey400};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.blue700};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.red700};}`]))}wx.propTypes={className:h.string};function xx(t){let{className:e}=t;return D.createElement("svg",{viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",className:`jsx-${Bn.__hash} `+j.dynamic([["86695588",[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]]])+" "+(e||"")},D.createElement("rect",{x:"0",y:"0",width:"14",height:"14",rx:"2",className:`jsx-${Bn.__hash} `+j.dynamic([["86695588",[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]]])+" background"}),D.createElement("path",{d:"M2,0 L12,0 C13.1045695,0 14,0.8954305 14,2 L14,12 C14,13.1045695 13.1045695,14 12,14 L2,14 C0.8954305,14 0,13.1045695 0,12 L0,2 C0,0.8954305 0.8954305,0 2,0 Z M2,1 C1.44771525,1 1,1.44771525 1,2 L1,12 C1,12.5522847 1.44771525,13 2,13 L12,13 C12.5522847,13 13,12.5522847 13,12 L13,2 C13,1.44771525 12.5522847,1 12,1 L2,1 Z",className:`jsx-${Bn.__hash} `+j.dynamic([["86695588",[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]]])+" border"}),D.createElement("path",{d:"M10.3520005,3.30015877 L5.54268293,8.03252726 L3.64634146,6.16652726 L2.28668615,7.5044281 L5.54310367,10.7010587 L11.7145993,4.628307 L10.3520005,3.30015877 Z M5.54268293,9.43547274 L5.61193184,9.36733181 L5.54226219,9.29894127 L5.47309681,9.367 L5.54268293,9.43547274 Z M10.6496329,4.41023392 L10.6495057,4.35652297 L10.5648412,4.35672356 L10.2854007,4.631693 L10.3553166,4.69984123 L10.6496329,4.41023392 Z M3.42891348,7.22439304 L3.35030905,7.22439304 L3.35034135,7.27820863 L3.64634146,7.56947274 L3.71331385,7.5035719 L3.42891348,7.22439304 Z",className:`jsx-${Bn.__hash} `+j.dynamic([["86695588",[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]]])+" checkmark"}),D.createElement("rect",{x:"3",y:"6",width:"8",height:"2",className:`jsx-${Bn.__hash} `+j.dynamic([["86695588",[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]]])+" indeterminate"}),D.createElement(j,{id:Bn.__hash},Bn),D.createElement(j,{id:"86695588",dynamic:[y.grey400,y.grey400,y.grey500,y.blue600,y.blue800,y.yellow700,y.yellow800,y.red500,y.red800]},["svg.__jsx-style-dynamic-selector{width:14px;height:14px;}",`svg.disabled.__jsx-style-dynamic-selector .background.__jsx-style-dynamic-selector{fill:${y.grey400};}`,`svg.disabled.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.grey400};}`,`svg.disabled.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.disabled.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.grey500};}`,`svg.valid.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.blue600};}`,`svg.valid.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.valid.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.blue800};}`,`svg.warning.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.yellow700};}`,`svg.warning.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.warning.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.yellow800};}`,`svg.error.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.red500};}`,`svg.error.checked.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector,svg.error.indeterminate.__jsx-style-dynamic-selector .border.__jsx-style-dynamic-selector{fill:${y.red800};}`]))}xx.propTypes={className:h.string};function Uo(t,e,n){return(e=DM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DM(t){var e=MM(t,"string");return typeof e=="symbol"?e:e+""}function MM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pc extends O.Component{constructor(){super(...arguments),Uo(this,"ref",O.createRef()),Uo(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Uo(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Uo(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Uo(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus(),this.setIndeterminate(this.props.indeterminate)}componentDidUpdate(e){e.indeterminate!==this.props.indeterminate&&this.setIndeterminate(this.props.indeterminate)}setIndeterminate(e){this.ref.current.indeterminate=e}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e=!1,indeterminate:n=!1,className:r,disabled:i,error:s,label:o,name:a,tabIndex:l,valid:c,value:d,warning:u,dense:f,dataTest:p="dhis2-uicore-checkbox"}=this.props,m=Af({checked:e,indeterminate:n,disabled:i,valid:c,error:s,warning:u});return D.createElement("label",{"data-test":p,className:j.dynamic([["1252368010",[y.grey900,X.disabled,N.dp4,X.focus]]])+" "+(Af(r,{disabled:i,dense:f})||"")},D.createElement("input",{type:"checkbox",ref:this.ref,name:a,value:d,checked:e,disabled:i,tabIndex:l,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:j.dynamic([["1252368010",[y.grey900,X.disabled,N.dp4,X.focus]]])}),D.createElement("div",{className:j.dynamic([["1252368010",[y.grey900,X.disabled,N.dp4,X.focus]]])+" "+(Af("icon",{dense:f})||"")},f?D.createElement(xx,{className:m}):D.createElement(wx,{className:m})),o,D.createElement(j,{id:"1252368010",dynamic:[y.grey900,X.disabled,N.dp4,X.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;cursor:pointer;color:${y.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${X.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;inset-inline-start:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",`.icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-inline-end:${N.dp4};border:2px solid transparent;padding:1px;border-radius:5px;}`,"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-inline-end:3px;border-radius:4px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${X.focus};outline-offset:-3px;}`]))}}Uo(pc,"defaultProps",{checked:!1,indeterminate:!1,dataTest:"dhis2-uicore-checkbox"});const dv=dc(["checked","indeterminate"],h.bool);pc.propTypes={checked:dv,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,error:Ve,indeterminate:dv,initialFocus:h.bool,label:h.node,name:h.string,tabIndex:h.string,valid:Ve,value:h.string,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};const PM=(t,e)=>(n,r)=>{t.onBlur(r),e&&typeof e=="function"&&e(n,r)},kM=new Set(["string","number","boolean"]),OM=t=>{let{onChange:e}=t;return n=>{if(n&&"value"in n)e(n.value);else if(n&&n.target&&"value"in n.target)e(n.target.value);else if(kM.has(typeof n))e(n);else throw new Error("Could not process event payload")}},RM=(t,e)=>(n,r)=>{t.onFocus(r),e&&typeof e=="function"&&e(n,r)},_x=(t,e)=>e||t.touched&&t.invalid,IM=(t,e,n)=>{if(e)return e;if(_x(t,n)){if(t.error)return t.error;if(t.submitError)return t.submitError}return""},NM=(t,e,n)=>e||n&&t.validating,AM=(t,e,n)=>e||n&&t.touched&&t.valid;h.arrayOf(h.shape({label:h.string.isRequired,value:h.string.isRequired}));const jM=h.shape({name:h.string.isRequired,onChange:h.func.isRequired,value:h.any,onBlur:h.func,onFocus:h.func}),LM=h.shape({error:h.string,invalid:h.bool,touched:h.bool,valid:h.bool,validating:h.bool});function pl(t,e,n){return(e=$M(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $M(t){var e=FM(t,"string");return typeof e=="symbol"?e:e+""}function FM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tx(t){let{className:e}=t;return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",className:"jsx-2347926856 "+(e||"")},D.createElement("path",{d:"m5.29289 8.7071c.39053.3905 1.02369.3905 1.41422 0l2.99999-2.99999c.3905-.39053.3905-1.02369 0-1.41422-.3905-.39052-1.0237-.39052-1.4142 0l-2.2929 2.2929-2.29289-2.2929c-.39053-.39052-1.02369-.39052-1.41422 0-.39052.39053-.39052 1.02369 0 1.41422z",className:"jsx-2347926856"}),D.createElement(j,{id:"2347926856"},["svg.jsx-2347926856{fill:inherit;height:12px;width:12px;vertical-align:middle;pointer-events:none;}"]))}Tx.propTypes={className:h.string};function Ex(t){let{className:e}=t;return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",className:"jsx-2347926856 "+(e||"")},D.createElement("path",{d:"m5.29289 8.7071c.39053.3905 1.02369.3905 1.41422 0l2.99999-2.99999c.3905-.39053.3905-1.02369 0-1.41422-.3905-.39052-1.0237-.39052-1.4142 0l-2.2929 2.2929-2.29289-2.2929c-.39053-.39052-1.02369-.39052-1.41422 0-.39052.39053-.39052 1.02369 0 1.41422z",transform:"matrix(1 0 0 -1 0 12.999974)",className:"jsx-2347926856"}),D.createElement(j,{id:"2347926856"},["svg.jsx-2347926856{fill:inherit;height:12px;width:12px;vertical-align:middle;pointer-events:none;}"]))}Ex.propTypes={className:h.string};class mg extends O.Component{constructor(){super(...arguments),pl(this,"state",{open:!1}),pl(this,"anchorRef",D.createRef()),pl(this,"handleKeyDown",e=>{e.key==="Escape"&&this.state.open&&(e.preventDefault(),e.stopPropagation(),this.setState({open:!1}))}),pl(this,"onClickHandler",(e,n)=>{let{name:r,value:i}=e;const s=o=>{this.props.onClick&&this.props.onClick({name:r,value:i,open:o},n)};typeof this.props.open=="boolean"?s(!this.props.open):this.setState({open:!this.state.open},()=>{s(this.state.open)})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{component:e,children:n,className:r,destructive:i,disabled:s,icon:o,large:a,primary:l,secondary:c,small:d,name:u,value:f,tabIndex:p,type:m,initialFocus:v,dataTest:b="dhis2-uicore-dropdownbutton"}=this.props,x=typeof this.props.open=="boolean"?this.props.open:this.state.open,T=x?Ex:Tx;return D.createElement("div",{ref:this.anchorRef,"data-test":b,className:j.dynamic([["2538493196",[N.dp8,N.dp4]]])},D.createElement(We,{className:r,destructive:i,disabled:s,icon:o,large:a,primary:l,secondary:c,small:d,onClick:this.onClickHandler,name:u,value:f,tabIndex:p,type:m,initialFocus:v,"data-test":"dhis2-uicore-dropdownbutton-toggle"},n,D.createElement(T,{className:j.dynamic([["2538493196",[N.dp8,N.dp4]]])+` arrow ${d&&"arrow-small"}`})),x&&D.createElement(Qu,{onBackdropClick:this.onClickHandler,transparent:!0},D.createElement(uc,{dataTest:`${b}-popper`,placement:"bottom-start",reference:this.anchorRef},e)),D.createElement(j,{id:"2538493196",dynamic:[N.dp8,N.dp4]},[`.arrow.__jsx-style-dynamic-selector{margin-inline-start:${N.dp8};}`,`.arrow-small.__jsx-style-dynamic-selector{margin-inline-start:${N.dp4};}`,"div.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;position:relative;color:inherit;white-space:nowrap;}"]))}}pl(mg,"defaultProps",{dataTest:"dhis2-uicore-dropdownbutton"});mg.propTypes={children:h.node,className:h.string,component:h.element,dataTest:h.string,destructive:h.bool,disabled:h.bool,icon:h.element,initialFocus:h.bool,large:Xd,name:h.string,open:h.bool,primary:h.bool,secondary:h.bool,small:Xd,tabIndex:h.string,type:h.oneOf(["submit","reset","button"]),value:h.string,onClick:ht(t=>typeof t.open=="boolean",h.func)};var Sx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Sx);var BM=Sx.exports;const UM=Rn(BM);function Is(t,e,n){return(e=YM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YM(t){var e=zM(t,"string");return typeof e=="symbol"?e:e+""}function zM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gg extends O.Component{constructor(){super(...arguments),Is(this,"ref",O.createRef()),Is(this,"handleClick",()=>{this.ref.current.click()}),Is(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e),this.ref.current.value=""}),Is(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Is(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Is(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}createHandlerPayload(){return{files:this.ref.current.files,name:this.props.name}}render(){const{accept:e="*",buttonLabel:n,className:r,dataTest:i="dhis2-uicore-fileinput",disabled:s,error:o,initialFocus:a,large:l,multiple:c,name:d,small:u,tabIndex:f,valid:p,warning:m}=this.props;return D.createElement("div",{"data-test":i,className:j.dynamic([["1746996489",[N.dp8,N.dp4]]])+" "+(UM("file-input",r)||"")},D.createElement("div",{className:j.dynamic([["1746996489",[N.dp8,N.dp4]]])},D.createElement("input",{id:d,name:d,type:"file",ref:this.ref,onChange:this.handleChange,accept:e,multiple:c,disabled:s,"data-test":`${i}-input`,className:j.dynamic([["1746996489",[N.dp8,N.dp4]]])}),D.createElement(We,{disabled:s,icon:D.createElement(ax,{color:y.grey700}),initialFocus:a,large:l,onBlur:this.handleBlur,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,small:u,tabIndex:f,type:"button"},n)),D.createElement(Ku,{error:o,valid:p,warning:m}),D.createElement(j,{id:"1746996489",dynamic:[N.dp8,N.dp4]},["input.__jsx-style-dynamic-selector{display:none;}",`.file-input.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:${N.dp8};padding-bottom:${N.dp4};}`]))}}Is(gg,"defaultProps",{accept:"*",dataTest:"dhis2-uicore-fileinput"});gg.propTypes={accept:h.string,buttonLabel:h.string,className:h.string,dataTest:h.string,disabled:h.bool,error:Ve,initialFocus:h.bool,large:Xd,multiple:h.bool,name:h.string,small:Xd,tabIndex:h.string,valid:Ve,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};var WM=void 0;const HM=(t,e,n)=>{let r;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=WM,l=()=>{r=null,t.apply(a,s)};clearTimeout(r),r=setTimeout(l,e)}};var Cx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Cx);var qM=Cx.exports;const mo=Rn(qM),Dx=t=>{let{dataTest:e,onToggle:n,children:r,tabIndex:i="0",error:s,warning:o,valid:a,disabled:l,dense:c,className:d,inputRef:u}=t;const f=mo(d,"root",{error:s,warning:o,valid:a,disabled:l,dense:c});return D.createElement("div",{onClick:n,tabIndex:i,ref:u,"data-test":e,className:j.dynamic([["1240267656",[y.grey500,X.focus,X.focus,X.valid,X.warning,X.error,y.grey100,y.grey500,X.disabled]]])+" "+(f||"")},D.createElement("div",{className:j.dynamic([["1240267656",[y.grey500,X.focus,X.focus,X.valid,X.warning,X.error,y.grey100,y.grey500,X.disabled]]])+" root-children"},r),D.createElement("div",{className:j.dynamic([["1240267656",[y.grey500,X.focus,X.focus,X.valid,X.warning,X.error,y.grey100,y.grey500,X.disabled]]])+" root-right"},D.createElement(hg,null)),D.createElement(j,{id:"1240267656",dynamic:[y.grey500,X.focus,X.focus,X.valid,X.warning,X.error,y.grey100,y.grey500,X.disabled]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:white;border-radius:3px;border:1px solid ${y.grey500};box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;min-height:40px;padding-block:6px;padding-inline:12px 6px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);}`,`.root.__jsx-style-dynamic-selector:not(.disabled):focus,.root.__jsx-style-dynamic-selector:not(.disabled):active{outline:none;box-shadow:inset 0 0 0 2px ${X.focus};border-color:${X.focus};}`,`.root.valid.__jsx-style-dynamic-selector{border-color:${X.valid};}`,`.root.warning.__jsx-style-dynamic-selector{border-color:${X.warning};}`,`.root.error.__jsx-style-dynamic-selector{border-color:${X.error};}`,`.root.disabled.__jsx-style-dynamic-selector{background-color:${y.grey100};border-color:${y.grey500};color:${X.disabled};cursor:not-allowed;}`,".root.dense.__jsx-style-dynamic-selector{padding-block:2px;padding-inline:8px 4px;min-height:32px;}",".root-children.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".root-right.__jsx-style-dynamic-selector{margin-block-start:4px;margin-inline-start:2px;}"]))};Dx.propTypes={dataTest:h.string.isRequired,inputRef:h.object.isRequired,onToggle:h.func.isRequired,children:h.element,className:h.string,dense:h.bool,disabled:h.bool,error:Ve,tabIndex:h.string,valid:Ve,warning:Ve};const Mx=t=>{let{children:e,dataTest:n,maxHeight:r="280px",menuWidth:i,onClick:s,selectRef:o}=t;return D.createElement(Qu,{onBackdropClick:s,transparent:!0},D.createElement(uc,{reference:o,placement:"bottom-start",observeReferenceResize:!0},D.createElement("div",{"data-test":`${n}-menuwrapper`,className:j.dynamic([["1871652546",[i,r,y.white,y.grey200,Oi.popover]]])},e,D.createElement(j,{id:"1871652546",dynamic:[i,r,y.white,y.grey200,Oi.popover]},[`div.__jsx-style-dynamic-selector{width:${i};height:auto;max-height:${r};overflow:auto;background:${y.white};border:1px solid ${y.grey200};border-radius:3px;box-shadow:${Oi.popover};}`]))))};Mx.propTypes={dataTest:h.string.isRequired,menuWidth:h.string.isRequired,selectRef:h.object.isRequired,children:h.node,maxHeight:h.string,onClick:h.func};function xr(t,e,n){return(e=VM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VM(t){var e=QM(t,"string");return typeof e=="symbol"?e:e+""}function QM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const KM=27,GM=32,ZM=38,XM=40;class Xu extends O.Component{constructor(){super(...arguments),xr(this,"state",{open:!1,menuWidth:"auto"}),xr(this,"selectRef",D.createRef()),xr(this,"inputRef",D.createRef()),xr(this,"onResize",HM(()=>{const e=this.getMenuWidth();this.state.menuWidth!==e&&this.setState({menuWidth:e})},50)),xr(this,"handleFocusInput",()=>{this.inputRef.current.focus()}),xr(this,"onFocus",e=>{const{onFocus:n,disabled:r,selected:i}=this.props;r||!n||n({selected:i},e)}),xr(this,"handleOpen",()=>{this.setState({open:!0,menuWidth:this.getMenuWidth()})}),xr(this,"handleClose",()=>{this.setState({open:!1})}),xr(this,"onToggle",e=>{this.props.disabled||(e.stopPropagation(),this.state.open?this.handleClose():this.handleOpen())}),xr(this,"onOutsideClick",e=>{const{onBlur:n,disabled:r,selected:i}=this.props;r||(this.handleClose(),n&&n({selected:i},e))}),xr(this,"onKeyDown",e=>{const{onKeyDown:n,disabled:r,selected:i}=this.props;if(r||(n&&n({selected:i},e),e.defaultPrevented))return;const{open:s}=this.state,{keyCode:o}=e,a=!s&&(o===GM||o===ZM||o===XM),l=s&&o===KM;if((s||a)&&e.stopPropagation(),l)return this.handleClose();if(a)return this.handleOpen()})}componentDidMount(){this.props.initialFocus&&this.inputRef.current.focus(),this.setState({menuWidth:this.getMenuWidth()}),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}getMenuWidth(){const{offsetWidth:e}=this.inputRef.current,{menuWidth:n}=this.state;return e&&`${e}px`!==n?`${e}px`:n}render(){const{open:e,menuWidth:n}=this.state,{children:r,className:i,selected:s,onChange:o,tabIndex:a,maxHeight:l,error:c,warning:d,valid:u,disabled:f,dense:p,dataTest:m}=this.props,v={selected:s,onChange:o,options:r,disabled:f},b=D.cloneElement(this.props.input,v),x={selected:s,onChange:o,options:r,handleClose:this.handleClose,handleFocusInput:this.handleFocusInput},T=D.cloneElement(this.props.menu,x);return D.createElement("div",{className:i,ref:this.selectRef,onFocus:this.onFocus,onKeyDown:this.onKeyDown,"data-test":m},D.createElement(Dx,{onToggle:this.onToggle,inputRef:this.inputRef,tabIndex:f?"-1":a,error:c,warning:d,valid:u,disabled:f,dense:p,dataTest:`${m}-input`},b),e&&D.createElement(Mx,{onClick:this.onOutsideClick,maxHeight:l,selectRef:this.selectRef,menuWidth:n,dataTest:`${m}-menu`},T))}}xr(Xu,"defaultProps",{dataTest:"dhis2-uicore-select"});Xu.propTypes={input:h.element.isRequired,menu:h.element.isRequired,selected:h.oneOfType([h.string,h.arrayOf(h.string)]).isRequired,children:h.node,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,error:Ve,initialFocus:h.bool,maxHeight:h.string,tabIndex:h.string,valid:Ve,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};const yg=t=>{let{message:e,className:n,dataTest:r}=t;return D.createElement("div",{"data-test":r,className:j.dynamic([["3603755746",[N.dp16,y.grey700,X.fonts,N.dp8,N.dp24]]])+" "+(mo(n,"container")||"")},D.createElement("div",{className:j.dynamic([["3603755746",[N.dp16,y.grey700,X.fonts,N.dp8,N.dp24]]])},D.createElement(xs,{small:!0})),e,D.createElement(j,{id:"3603755746",dynamic:[N.dp16,y.grey700,X.fonts,N.dp8,N.dp24]},[`.container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${N.dp16};-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;color:${y.grey700};font-family:${X.fonts};font-size:13px;padding-block:${N.dp8};padding-inline:${N.dp24};}`]))};yg.propTypes={dataTest:h.string.isRequired,className:h.string,message:h.string};const zp=t=>{let{value:e,onChange:n,placeholder:r,className:i,dataTest:s}=t;return D.createElement("div",{className:j.dynamic([["730881408",[y.white,N.dp8,N.dp8,N.dp4,N.dp8]]])+" "+(i||"")},D.createElement(Gw,{dense:!0,dataTest:s,value:e,onChange:n,type:"text",name:"filter",placeholder:r,initialFocus:!0}),D.createElement(j,{id:"730881408",dynamic:[y.white,N.dp8,N.dp8,N.dp4,N.dp8]},[`div.__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;-webkit-inset-block-start:0;-ms-intb-rlock-start:0;inset-block-start:0;background:${y.white};padding-block-start:${N.dp8};padding-inline-end:${N.dp8};padding-block-end:${N.dp4};padding-inline-start:${N.dp8};z-index:1;}`]))};zp.propTypes={dataTest:h.string.isRequired,value:h.string.isRequired,className:h.string,placeholder:h.string,onChange:h.func};const Px=t=>{let{message:e,className:n}=t;return D.createElement("div",{className:j.dynamic([["3788156646",[y.grey700,X.fonts,N.dp8,N.dp24]]])+" "+(n||"")},e,D.createElement(j,{id:"3788156646",dynamic:[y.grey700,X.fonts,N.dp8,N.dp24]},[`div.__jsx-style-dynamic-selector{color:${y.grey700};font-family:${X.fonts};font-size:13px;line-height:16px;padding-block:${N.dp8};padding-inline:${N.dp24};text-align:center;}`]))};Px.propTypes={message:h.string.isRequired,className:h.string};const vg=t=>t&&"props"in t&&"value"in t.props&&"label"in t.props,bg=t=>D.Children.toArray(t).filter(e=>e!==null&&e!==!1&&e!==void 0),kx=(t,e)=>D.Children.toArray(e).find(n=>n.props?t===n.props.value:!1),JM=(t,e)=>e.find(n=>t===n),Ox=(t,e)=>e.filter(n=>n!==t);function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(null,arguments)}function uv(t,e,n){return(e=eP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eP(t){var e=tP(t,"string");return typeof e=="symbol"?e:e+""}function tP(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}let wg=class extends O.Component{constructor(){super(...arguments),uv(this,"state",{filter:""}),uv(this,"onFilterChange",e=>{let{value:n}=e;this.setState({filter:n})})}render(){const{dataTest:e,options:n,onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,placeholder:l,noMatchText:c,Menu:d}=this.props,{filter:u}=this.state,f={onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,dataTest:e},p=bg(n);if(D.Children.count(p)===0||!u)return D.createElement(D.Fragment,null,D.createElement(zp,{dataTest:`${e}-filterinput`,placeholder:l,value:u,onChange:this.onFilterChange}),D.createElement(d,tu({},f,{options:n})));const m=D.Children.map(n,b=>{if(!vg(b))return null;const{label:T}=b.props;return T.toLowerCase().includes(u.toLowerCase())?b:null}),v=D.Children.count(m)>0;return D.createElement(D.Fragment,null,D.createElement(zp,{dataTest:`${e}-filterinput`,placeholder:l,value:u,onChange:this.onFilterChange}),v?D.createElement(d,tu({},f,{options:m})):D.createElement(Px,{message:c}))}};wg.propTypes={Menu:h.elementType.isRequired,dataTest:h.string.isRequired,noMatchText:h.string.isRequired,selected:h.oneOfType([h.string,h.arrayOf(h.string)]).isRequired,empty:h.node,handleClose:h.func,handleFocusInput:h.func,options:h.node,placeholder:h.string,onChange:h.func};const xg=t=>{let{message:e,className:n,dataTest:r}=t;return D.createElement("div",{"data-test":r,className:j.dynamic([["3788156646",[y.grey700,X.fonts,N.dp8,N.dp24]]])+" "+(n||"")},e,D.createElement(j,{id:"3788156646",dynamic:[y.grey700,X.fonts,N.dp8,N.dp24]},[`div.__jsx-style-dynamic-selector{color:${y.grey700};font-family:${X.fonts};font-size:13px;line-height:16px;padding-block:${N.dp8};padding-inline:${N.dp24};text-align:center;}`]))};xg.propTypes={dataTest:h.string.isRequired,message:h.string.isRequired,className:h.string};const nP=4,hv={styles:D.createElement(j,{id:"1892168270"},[`.jsx-1892168270{z-index:${Kw.applicationTop};}`,'div[data-popper-reference-hidden="true"].jsx-1892168270{visibility:hidden;}']),className:"jsx-1892168270"},rP={name:"offset",options:{offset:[0,nP]}},iP={name:"hide"},sP={name:"flip",options:{altBoundary:!0}},Nt=t=>{let{children:e,className:n,closeDelay:r=200,content:i,dataTest:s="dhis2-uicore-tooltip",maxWidth:o=300,openDelay:a=200,placement:l="top"}=t;const[c,d]=O.useState(!1),u=O.useRef(),f=O.useRef(null),p=O.useRef(null),m=()=>{clearTimeout(p.current),f.current=setTimeout(()=>{d(!0)},a)},v=()=>{clearTimeout(f.current),p.current=setTimeout(()=>{d(!1)},r)},b=()=>{clearTimeout(p.current),f.current=setTimeout(()=>{d(!0)},a)},x=()=>{clearTimeout(f.current),p.current=setTimeout(()=>{d(!1)},r)},T=E=>{E.key==="Escape"&&(p.current=setTimeout(()=>{d(!1)},r))};return O.useEffect(()=>(document.addEventListener("keydown",T),()=>{clearTimeout(f.current),clearTimeout(p.current),document.removeEventListener("keydown",T)}),[]),D.createElement(D.Fragment,null,typeof e=="function"?e({onMouseOver:m,onMouseOut:v,onFocus:b,onBlur:x,ref:u}):D.createElement("span",{onMouseOver:m,onMouseOut:v,onFocus:b,onBlur:x,ref:u,tabIndex:0,"aria-describedby":c?"tooltipContenDhis2Ui":"","data-test":`${s}-reference`,className:j.dynamic([["3515683788",[o,y.grey900,y.white]]])},e),c&&D.createElement(RD,null,D.createElement(uc,{className:hv.className,placement:l,reference:u,modifiers:[rP,sP,iP]},D.createElement("div",{id:"tooltipContenDhis2Ui",onMouseOver:m,onMouseOut:v,"data-test":`${s}-content`,role:"tooltip",className:j.dynamic([["3515683788",[o,y.grey900,y.white]]])+" "+(n||"")},i))),hv.styles,D.createElement(j,{id:"3515683788",dynamic:[o,y.grey900,y.white]},[`div.__jsx-style-dynamic-selector{max-width:${o}px;}`,`div.__jsx-style-dynamic-selector{padding:4px 6px;background-color:${y.grey900};border-radius:3px;color:${y.white};font-size:13px;line-height:17px;}`]))};Nt.propTypes={children:h.oneOfType([h.node,h.func]),className:h.string,closeDelay:h.number,content:h.node,dataTest:h.string,maxWidth:h.number,openDelay:h.number,placement:h.oneOf(["top","right","bottom","left"])};const _g=t=>{let{onClear:e,clearText:n,className:r,dataTest:i}=t;return D.createElement(Nt,{openDelay:500,content:n},D.createElement("button",{"data-test":i,onClick:e,type:"button",className:j.dynamic([["2859518049",[y.grey500,y.grey800,y.grey200,X.focus]]])+" "+(r||"")},D.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:j.dynamic([["2859518049",[y.grey500,y.grey800,y.grey200,X.focus]]])},D.createElement("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.536-5.879a1 1 0 1 1-1.415 1.414l-2.12-2.12-2.122 2.121a1 1 0 1 1-1.415-1.414L6.586 8 4.464 5.878A1 1 0 1 1 5.88 4.464L8 6.586l2.121-2.121a1 1 0 1 1 1.415 1.414L9.415 8l2.12 2.121Z",fill:"none",className:j.dynamic([["2859518049",[y.grey500,y.grey800,y.grey200,X.focus]]])})),D.createElement(j,{id:"2859518049",dynamic:[y.grey500,y.grey800,y.grey200,X.focus]},["button.__jsx-style-dynamic-selector{background:none;border:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;height:24px;width:24px;border-radius:3px;}","button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",`button.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${y.grey500};}`,`button.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${y.grey800};}`,`button.__jsx-style-dynamic-selector:hover{background:${y.grey200};}`,`button.__jsx-style-dynamic-selector:focus{outline:2px solid ${X.focus};}`])))};_g.propTypes={clearText:h.string.isRequired,dataTest:h.string.isRequired,onClear:h.func.isRequired,className:h.string};const Tg=t=>{let{placeholder:e,className:n,dataTest:r}=t;return e?D.createElement("div",{"data-test":r,className:j.dynamic([["1027033961",[y.grey600]]])+" "+(n||"")},e,D.createElement(j,{id:"1027033961",dynamic:[y.grey600]},[`div.__jsx-style-dynamic-selector{color:${y.grey600};-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};Tg.propTypes={dataTest:h.string.isRequired,className:h.string,placeholder:h.string};const Eg=t=>{let{prefix:e,className:n,dataTest:r}=t;return e?D.createElement("div",{"data-test":r,className:j.dynamic([["1343055987",[y.grey600,N.dp12]]])+" "+(n||"")},e,D.createElement(j,{id:"1343055987",dynamic:[y.grey600,N.dp12]},[`div.__jsx-style-dynamic-selector{color:${y.grey600};padding-inline-end:${N.dp12};font-size:14px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`])):null};Eg.propTypes={dataTest:h.string.isRequired,className:h.string,prefix:h.string};const oP=(t,e)=>{e.stopPropagation(),e.preventDefault()},aP=t=>{let{isActive:e,onChange:n,selected:r,value:i}=t;return(s,o)=>{if(o.stopPropagation(),e){const c={selected:Ox(i,r)};return n(c,o)}const a={selected:r.concat([i])};return n(a,o)}},Sg=t=>{let{options:e,onChange:n,selected:r,empty:i="",dataTest:s}=t;const o=bg(e);if(D.Children.count(o)===0)return typeof i=="string"?D.createElement(xg,{message:i,dataTest:`${s}-empty`}):i;const a=D.Children.map(e,l=>{if(!vg(l))return l;const{value:d,label:u,disabled:f}=l.props,p=!!JM(d,r),m=f?oP:aP({isActive:p,onChange:n,selected:r,value:d});return D.cloneElement(l,{...l.props,onClick:m,active:p})});return D.createElement(D.Fragment,null,a)};Sg.propTypes={dataTest:h.string.isRequired,empty:h.node,options:h.node,selected:h.arrayOf(h.string),onChange:h.func};const Rx=t=>{let{dataTest:e,options:n,onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,placeholder:l,noMatchText:c}=t;return D.createElement(wg,{dataTest:e,options:n,onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,placeholder:l,noMatchText:c,Menu:Sg})};Rx.propTypes={dataTest:h.string.isRequired,noMatchText:h.string.isRequired,empty:h.node,handleClose:h.func,handleFocusInput:h.func,options:h.node,placeholder:h.string,selected:h.arrayOf(h.string),onChange:h.func};var Ix={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ix);var lP=Ix.exports;const Nx=Rn(lP),Ax=t=>{let{children:e,overflow:n}=t;return D.createElement("span",{className:j.dynamic([["765109298",[N.dp12]]])+" "+(Nx({overflow:n})||"")},e,D.createElement(j,{id:"765109298",dynamic:[N.dp12]},[`span.__jsx-style-dynamic-selector{margin:0 ${N.dp12};color:inherit;white-space:nowrap;}`,".overflow.__jsx-style-dynamic-selector{max-width:150px;overflow:hidden;text-overflow:ellipsis;}"]))};Ax.propTypes={children:h.any,overflow:h.bool};const jx=t=>{let{icon:e,dataTest:n}=t;return e?D.createElement("span",{"data-test":n,className:j.dynamic([["1889825154",[N.dp4]]])},e,D.createElement(j,{id:"1889825154",dynamic:[N.dp4]},[`span.__jsx-style-dynamic-selector{width:24px;height:24px;margin-inline-start:${N.dp4};margin-inline-end:-6px;border-radius:50%;overflow:hidden;}`,"span.__jsx-style-dynamic-selector>*{max-height:24px;max-width:24px;}"])):null};jx.propTypes={dataTest:h.string.isRequired,icon:h.element};function Lx(t){let{className:e}=t;return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",className:"jsx-2898942518 "+(e||"")},D.createElement("path",{d:"M11.2928932,3.29289322 L12.7071068,4.70710678 L9.41389322,7.99989322 L12.7071068,11.2928932 L11.2928932,12.7071068 L7.99989322,9.41389322 L4.70710678,12.7071068 L3.29289322,11.2928932 L6.58589322,7.99989322 L3.29289322,4.70710678 L4.70710678,3.29289322 L7.99989322,6.58589322 L11.2928932,3.29289322 Z",className:"jsx-2898942518"}),D.createElement(j,{id:"2898942518"},["svg.jsx-2898942518{fill:inherit;height:16px;width:16px;vertical-align:middle;pointer-events:none;}"]))}Lx.propTypes={className:h.string};const Od=["span.jsx-2824632002{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:20px;width:20px;margin-inline-end:4px;border-radius:12px;margin-inline-start:-8px;}",`span.jsx-2824632002:hover{background:${y.grey400};}`];Od.__hash="2824632002";const fv={styles:D.createElement(j,{id:"2658726446"},[`svg.jsx-2658726446{fill:${y.grey600};height:16px;width:16px;cursor:pointer;opacity:1;pointer-events:all;}`]),className:"jsx-2658726446"},$x=t=>{let{onRemove:e,dataTest:n}=t;return e?D.createElement("span",{onClick:r=>{r.stopPropagation(),e({},r)},"data-test":n,className:`jsx-${Od.__hash}`},D.createElement(Lx,{className:fv.className}),fv.styles,D.createElement(j,{id:Od.__hash},Od)):null};$x.propTypes={dataTest:h.string.isRequired,onRemove:h.func};const Io="4",Fx=t=>{var e,n,r,i;let{selected:s,dense:o,disabled:a,dragging:l,overflow:c,className:d,children:u,onRemove:f,onClick:p,icon:m,dataTest:v="dhis2-uicore-chip",marginBottom:b=4,marginLeft:x,marginRight:T,marginTop:E=4,marginInlineStart:S,marginInlineEnd:C}=t;return D.createElement("span",{onClick:M=>{!a&&p&&p({},M)},"data-test":v,className:j.dynamic([["3780556490",[y.grey200,y.grey900,y.grey300,X.secondary600,y.white]],["1687525377",[b&&`margin-bottom: ${b}px;`,(e=S??x)!==null&&e!==void 0?e:Io,(n=C??T)!==null&&n!==void 0?n:Io,E&&`margin-top: ${E}px`]]])+" "+(Nx(d,{selected:s,dense:o,disabled:a,dragging:l})||"")},D.createElement(jx,{icon:m,dataTest:`${v}-icon`}),D.createElement(Ax,{overflow:c},u),D.createElement($x,{onRemove:f,dataTest:`${v}-remove`}),D.createElement(j,{id:"3780556490",dynamic:[y.grey200,y.grey900,y.grey300,X.secondary600,y.white]},[`span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:32px;border-radius:16px;background-color:${y.grey200};font-size:14px;line-height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:${y.grey900};}`,".dense.__jsx-style-dynamic-selector{height:24px;font-size:13px;line-height:15px;}",`span.__jsx-style-dynamic-selector:hover{background-color:${y.grey300};}`,`.selected.__jsx-style-dynamic-selector{background-color:${X.secondary600};font-weight:500;}`,".selected.__jsx-style-dynamic-selector:hover{background-color:#00695c;}",`.selected.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector,.selected.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{color:${y.white};}`,".disabled.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:0.3;}",".disabled.__jsx-style-dynamic-selector .remove-icon.__jsx-style-dynamic-selector{pointer-events:none;}",".dragging.__jsx-style-dynamic-selector{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);}"]),D.createElement(j,{id:"1687525377",dynamic:[b&&`margin-bottom: ${b}px;`,(e=S??x)!==null&&e!==void 0?e:Io,(n=C??T)!==null&&n!==void 0?n:Io,E&&`margin-top: ${E}px`]},[`span.__jsx-style-dynamic-selector{${b&&`margin-bottom: ${b}px;`} margin-inline-start:${(r=S??x)!==null&&r!==void 0?r:Io}px;margin-inline-end:${(i=C??T)!==null&&i!==void 0?i:Io}px;${E&&`margin-top: ${E}px`};}`]))};Fx.propTypes={children:h.any,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,dragging:h.bool,icon:h.element,marginBottom:h.number,marginInlineEnd:h.number,marginInlineStart:h.number,marginLeft:h.number,marginRight:h.number,marginTop:h.number,overflow:h.bool,selected:h.bool,onClick:h.func,onRemove:h.func};const cP=t=>{let{selected:e,onChange:n,value:r}=t;return(i,s)=>{const a={selected:Ox(r,e)};n(a,s)}},Bx=t=>{let{selected:e,onChange:n,disabled:r,options:i}=t;return D.createElement(D.Fragment,null,e.map(s=>{const o=kx(s,i);if(!o){const d=`There is no option with the value: "${s}". Make sure that all the values passed to the selected prop match the value of an existing option.`;console.error(d)}const a=o&&o.props.disabled||r,l=o?o.props.label:s,c=a?void 0:cP({selected:e,onChange:n,value:s});return D.createElement(Fx,{key:s,onRemove:c,disabled:a,marginBottom:0,marginLeft:0,marginTop:0,marginRight:0,overflow:!0,dense:!0},l)}))};Bx.propTypes={disabled:h.bool,options:h.node,selected:h.arrayOf(h.string),onChange:h.func};const Ux=t=>{let{selected:e,onChange:n,clearable:r,clearText:i,placeholder:s,dataTest:o,prefix:a,options:l,className:c,disabled:d,inputMaxHeight:u="100px"}=t;const f=e.length>0,p=m=>{const v={selected:[]};m.stopPropagation(),n(v,m)};return D.createElement("div",{className:j.dynamic([["64009541",[y.grey900]],["1331770409",[u]]])+" "+(mo("root",c)||"")},D.createElement(Eg,{prefix:a,dataTest:`${o}-prefix`}),!f&&!a&&D.createElement(Tg,{placeholder:s,dataTest:`${o}-placeholder`}),f&&D.createElement("div",{className:j.dynamic([["64009541",[y.grey900]],["1331770409",[u]]])+" root-input"},D.createElement(Bx,{selected:e,onChange:n,options:l,disabled:d})),f&&r&&!d&&D.createElement("div",{className:j.dynamic([["64009541",[y.grey900]],["1331770409",[u]]])+" root-right"},D.createElement(_g,{onClear:p,clearText:i,dataTest:`${o}-clear`})),D.createElement(j,{id:"64009541",dynamic:[y.grey900]},[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${y.grey900};font-size:14px;line-height:16px;}`,".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;gap:4px;}",".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}"]),D.createElement(j,{id:"1331770409",dynamic:[u]},[`.root-input.__jsx-style-dynamic-selector{max-height:${u};}`]))};Ux.propTypes={dataTest:h.string.isRequired,className:h.string,clearText:ht(t=>t.clearable,h.string),clearable:h.bool,disabled:h.bool,inputMaxHeight:h.string,options:h.node,placeholder:h.string,prefix:h.string,selected:h.arrayOf(h.string),onChange:h.func};const dP=[],Yx=t=>{let{className:e,selected:n=dP,tabIndex:r,maxHeight:i,inputMaxHeight:s,onChange:o,onFocus:a,onKeyDown:l,onBlur:c,loading:d,error:u,warning:f,valid:p,disabled:m,children:v,clearable:b,clearText:x,filterable:T,filterPlaceholder:E,placeholder:S,prefix:C,empty:M,loadingText:P,noMatchText:R,initialFocus:I,dense:U,dataTest:L="dhis2-uicore-multiselect"}=t;const z=T?D.createElement(Rx,{dataTest:L,empty:M,noMatchText:R,placeholder:E}):D.createElement(Sg,{empty:M,dataTest:L});return D.createElement("div",{"data-test":L,className:j.dynamic([["2180377457",[N.dp8]]])+" root"},D.createElement("div",{className:j.dynamic([["2180377457",[N.dp8]]])+" root-input"},D.createElement(Xu,{className:e,selected:n,input:D.createElement(Ux,{clearable:b,clearText:x,dataTest:L,placeholder:S,prefix:C,inputMaxHeight:s}),menu:z,tabIndex:r,maxHeight:i,onChange:o,onFocus:a,onKeyDown:l,onBlur:c,error:u,warning:f,valid:p,disabled:m,initialFocus:I,dense:U},v,d&&D.createElement(yg,{message:P,dataTest:`${L}-loading`}))),D.createElement(Ku,{error:u,valid:p,warning:f}),D.createElement(j,{id:"2180377457",dynamic:[N.dp8]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${N.dp8};}`,".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};Yx.propTypes={children:h.node,className:h.string,clearText:ht(t=>t.clearable,h.string),clearable:h.bool,dataTest:h.string,dense:h.bool,disabled:h.bool,empty:h.node,error:Ve,filterPlaceholder:h.string,filterable:h.bool,initialFocus:h.bool,inputMaxHeight:h.string,loading:h.bool,loadingText:h.string,maxHeight:h.string,noMatchText:ht(t=>t.filterable,h.string),placeholder:h.string,prefix:h.string,selected:h.arrayOf(h.string),tabIndex:h.string,valid:Ve,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};const uP="",hP={Clear:uP,"No data found":"   ","Type to filter options":"  ","Loading options":" ","No options found":"    "},fP="",pP={Clear:fP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},mP="",gP={Clear:mP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},yP="Vyistit",vP={Clear:yP,"No data found":"Nenalezena dn data","Type to filter options":"Zadnm filtrujete monosti","Loading options":"Monosti natn","No options found":"Nenalezeny dn monosti"},bP="Clear",wP={Clear:bP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},xP="",_P={Clear:xP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},TP="Limpiar",EP={Clear:TP,"No data found":"Datos no encontrados","Type to filter options":"Escriba para filtrar opciones","Loading options":"Cargando las opciones","No options found":"No se ha encontrado ninguna opcin"},SP="Limpiar",CP={Clear:SP,"No data found":"No se han encontrado datos","Type to filter options":"Escriba para filtrar opciones","Loading options":"Opciones de carga","No options found":"No se han encontrado opciones"},DP="Effacer",MP={Clear:DP,"No data found":"Aucune valeur trouve","Type to filter options":"","Loading options":"Chargement des options","No options found":""},PP="Hapus",kP={Clear:PP,"No data found":"Tidak ada data yang ditemukan","Type to filter options":"Tipe opsi filter","Loading options":"Opsi mengunggah","No options found":"Opsi tidak tersedia"},OP="",RP={Clear:OP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},IP="",NP={Clear:IP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},AP="",jP={Clear:AP,"No data found":"data ","Type to filter options":"","Loading options":"","No options found":""},LP="Fjern",$P={Clear:LP,"No data found":"Ingen data funnet","Type to filter options":"Skriv for  filtrere alternativer","Loading options":"Laster alternativer","No options found":"Ingen alternativer funnet"},FP="Duidelijk",BP={Clear:FP,"No data found":"Geen gegevens gevonden","Type to filter options":"Typ om opties te filteren","Loading options":"Laad opties","No options found":"Geen opties gevonden"},UP=" ",YP={Clear:UP,"No data found":"   ","Type to filter options":"","Loading options":"","No options found":""},zP="  ",WP={Clear:zP,"No data found":"      ","Type to filter options":"","Loading options":"","No options found":""},HP="Limpar",qP={Clear:HP,"No data found":"No foram encontrados dados","Type to filter options":"Tipo de opes de filtros","Loading options":"Carregando opes","No options found":"No foram encontradas opes"},VP="Limpar",QP={Clear:VP,"No data found":"Dado no encontrado","Type to filter options":"","Loading options":"","No options found":""},KP="",GP={Clear:KP,"No data found":"  ","Type to filter options":"    ","Loading options":" ","No options found":"  "},ZP="Klar",XP={Clear:ZP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},JP="Hams",ek={Clear:JP,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},tk=" ",nk={Clear:tk,"No data found":"   ","Type to filter options":"","Loading options":"","No options found":""},rk="",ik={Clear:rk,"No data found":"  ","Type to filter options":"  ","Loading options":" ","No options found":"  "},sk="",ok={Clear:sk,"No data found":"   ","Type to filter options":"","Loading options":"","No options found":""},ak="",lk={Clear:ak,"No data found":"Malumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},ck="",dk={Clear:ck,"No data found":" ","Type to filter options":"","Loading options":" ","No options found":""},uk="",hk={Clear:uk,"No data found":"Malumotlar topilmadi","Type to filter options":"","Loading options":"","No options found":""},fk="Xa",pk={Clear:fk,"No data found":"Khng tm thy d liu","Type to filter options":"Nhp  lc ty chn","Loading options":"","No options found":""},mk="",gk={Clear:mk,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},yk="",vk={Clear:yk,"No data found":"","Type to filter options":"","Loading options":"","No options found":""},He="default";k.addResources("ar",He,hP);k.addResources("ar_IQ",He,pP);k.addResources("ckb",He,gP);k.addResources("cs",He,vP);k.addResources("da",He,wP);k.addResources("en",He,_P);k.addResources("es",He,EP);k.addResources("es_419",He,CP);k.addResources("fr",He,MP);k.addResources("id",He,kP);k.addResources("km",He,RP);k.addResources("lo",He,NP);k.addResources("my",He,jP);k.addResources("nb",He,$P);k.addResources("nl",He,BP);k.addResources("prs",He,YP);k.addResources("ps",He,WP);k.addResources("pt",He,qP);k.addResources("pt_BR",He,QP);k.addResources("ru",He,GP);k.addResources("sv",He,XP);k.addResources("tet",He,ek);k.addResources("tg",He,nk);k.addResources("uk",He,ik);k.addResources("ur",He,ok);k.addResources("uz_Latn",He,lk);k.addResources("uz_UZ_Cyrl",He,dk);k.addResources("uz_UZ_Latn",He,hk);k.addResources("vi",He,pk);k.addResources("zh",He,gk);k.addResources("zh_CN",He,vk);const{styles:bk,className:wk}={styles:D.createElement(j,{id:"2013783366"},[`.jsx-2013783366{padding:${N.dp8} ${N.dp12};}`]),className:"jsx-2013783366"},zx=t=>{let{label:e,active:n,disabled:r,onClick:i,className:s,dataTest:o="dhis2-uicore-multiselectoption",value:a}=t;return D.createElement("div",{"data-test":o,"data-value":a,"data-label":e,className:j.dynamic([["2722881483",[y.grey200,y.teal050]]])+" "+(mo(s,{active:n,disabled:r})||"")},D.createElement(pc,{name:e,className:wk,checked:n,label:e,onChange:i,disabled:r,dense:!0}),bk,D.createElement(j,{id:"2722881483",dynamic:[y.grey200,y.teal050]},[`div.__jsx-style-dynamic-selector:hover{background-color:${y.grey200};}`,`div.active.__jsx-style-dynamic-selector{background-color:${y.teal050};}`,"div.active.__jsx-style-dynamic-selector:hover{background-color:#e6f4f4;}","div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}"]))};zx.propTypes={label:h.string.isRequired,value:h.string.isRequired,active:h.bool,className:h.string,dataTest:h.string,disabled:h.bool,onClick:h.func};const xk=(t,e)=>{e.stopPropagation(),e.preventDefault()},Cg=t=>{let{options:e,onChange:n,selected:r,empty:i="",handleFocusInput:s,handleClose:o,dataTest:a}=t;const l=bg(e);if(D.Children.count(l)===0)return typeof i=="string"?D.createElement(xg,{message:i,dataTest:`${a}-empty`}):i;const c=D.Children.map(e,d=>{if(!vg(d))return d;const{value:f,disabled:p}=d.props,m=f===r,v=(x,T)=>{const E={selected:f};T.stopPropagation(),n(E,T),o(),s()},b=m||p;return D.cloneElement(d,{...d.props,onClick:b?xk:v,active:m})});return D.createElement(D.Fragment,null,c)};Cg.propTypes={dataTest:h.string.isRequired,empty:h.node,handleClose:h.func,handleFocusInput:h.func,options:h.node,selected:h.string,onChange:h.func};const Wx=t=>{let{dataTest:e,options:n,onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,placeholder:l,noMatchText:c}=t;return D.createElement(wg,{dataTest:e,options:n,onChange:r,selected:i,empty:s,handleClose:o,handleFocusInput:a,placeholder:l,noMatchText:c,Menu:Cg})};Wx.propTypes={dataTest:h.string.isRequired,noMatchText:h.string.isRequired,empty:h.node,handleClose:h.func,handleFocusInput:h.func,options:h.node,placeholder:h.string,selected:h.string,onChange:h.func};const Hx=t=>{let{options:e,selected:n,className:r}=t;const i=kx(n,e);if(!i){const a=`There is no option with the value: "${n}". Make sure that the value passed to the selected prop matches the value of an existing option.`;console.error(a)}const s=i&&i.props.icon,o=i?i.props.label:n;return D.createElement("div",{className:j.dynamic([["1914911415",[N.dp8,N.dp16,N.dp16]]])+" "+(mo(r,"root")||"")},s&&D.createElement("div",{className:j.dynamic([["1914911415",[N.dp8,N.dp16,N.dp16]]])+" root-icon"},s),o,D.createElement(j,{id:"1914911415",dynamic:[N.dp8,N.dp16,N.dp16]},[".root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",`.root-icon.__jsx-style-dynamic-selector{margin-inline-end:${N.dp8};width:${N.dp16};height:${N.dp16};overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}`]))};Hx.propTypes={className:h.string,options:h.node,selected:h.string};const qx=t=>{let{selected:e,onChange:n,clearable:r,clearText:i,placeholder:s,dataTest:o,prefix:a,options:l,className:c,disabled:d,inputMaxHeight:u="100px"}=t;const f=e&&typeof e=="string",p=m=>{const v={selected:""};m.stopPropagation(),n(v,m)};return D.createElement("div",{className:j.dynamic([["2186325794",[y.grey900]],["1331770409",[u]]])+" "+(mo("root",c)||"")},D.createElement(Eg,{prefix:a,dataTest:`${o}-prefix`}),!f&&!a&&D.createElement(Tg,{placeholder:s,dataTest:`${o}-placeholder`}),f&&D.createElement("div",{className:j.dynamic([["2186325794",[y.grey900]],["1331770409",[u]]])+" root-input"},D.createElement(Hx,{selected:e,options:l})),f&&r&&!d&&D.createElement("div",{className:j.dynamic([["2186325794",[y.grey900]],["1331770409",[u]]])+" root-right"},D.createElement(_g,{onClear:p,clearText:i,dataTest:`${o}-clear`})),D.createElement(j,{id:"2186325794",dynamic:[y.grey900]},[`.root.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:${y.grey900};font-size:14px;line-height:16px;}`,".root-input.__jsx-style-dynamic-selector{overflow-y:auto;-webkit-flex:1;-ms-flex:1;flex:1;}",".root-right.__jsx-style-dynamic-selector{margin-inline-start:auto;}"]),D.createElement(j,{id:"1331770409",dynamic:[u]},[`.root-input.__jsx-style-dynamic-selector{max-height:${u};}`]))};qx.propTypes={dataTest:h.string.isRequired,className:h.string,clearText:ht(t=>t.clearable,h.string),clearable:h.bool,disabled:h.bool,inputMaxHeight:h.string,options:h.node,placeholder:h.string,prefix:h.string,selected:h.string,onChange:h.func};const Ju=t=>{let{className:e,selected:n="",tabIndex:r,maxHeight:i,inputMaxHeight:s,onChange:o,onFocus:a,onKeyDown:l,onBlur:c,loading:d,error:u,warning:f,valid:p,disabled:m,children:v,clearable:b,clearText:x,filterable:T,filterPlaceholder:E,placeholder:S,prefix:C,empty:M,loadingText:P,noMatchText:R,initialFocus:I,dense:U,dataTest:L="dhis2-uicore-singleselect"}=t;const z=T?D.createElement(Wx,{dataTest:L,empty:M,noMatchText:R,placeholder:E}):D.createElement(Cg,{empty:M,dataTest:L});return D.createElement("div",{"data-test":L,className:j.dynamic([["2180377457",[N.dp8]]])+" root"},D.createElement("div",{className:j.dynamic([["2180377457",[N.dp8]]])+" root-input"},D.createElement(Xu,{className:e,selected:n,input:D.createElement(qx,{clearable:b,clearText:x,dataTest:L,placeholder:S,prefix:C,inputMaxHeight:s}),menu:z,tabIndex:r,maxHeight:i,onChange:o,onFocus:a,onKeyDown:l,onBlur:c,error:u,warning:f,valid:p,disabled:m,initialFocus:I,dense:U},v,d&&D.createElement(yg,{message:P,dataTest:`${L}-loading`}))),D.createElement(Ku,{error:u,valid:p,warning:f}),D.createElement(j,{id:"2180377457",dynamic:[N.dp8]},[`.root.__jsx-style-dynamic-selector{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${N.dp8};}`,".root-input.__jsx-style-dynamic-selector{-webkit-flex:1;-ms-flex:1;flex:1;}"]))};Ju.propTypes={children:h.node,className:h.string,clearText:ht(t=>t.clearable,h.string),clearable:h.bool,dataTest:h.string,dense:h.bool,disabled:h.bool,empty:h.node,error:Ve,filterPlaceholder:h.string,filterable:h.bool,initialFocus:h.bool,inputMaxHeight:h.string,loading:h.bool,loadingText:h.string,maxHeight:h.string,noMatchText:ht(t=>t.filterable,h.string),placeholder:h.string,prefix:h.string,selected:h.string,tabIndex:h.string,valid:Ve,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};function _k(t,e,n){return(e=Tk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tk(t){var e=Ek(t,"string");return typeof e=="symbol"?e:e+""}function Ek(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}const Ka=(t,e)=>typeof t=="function"?t(e):t;class zr extends D.Component{render(){const{className:e,onChange:n,onFocus:r,onKeyDown:i,onBlur:s,required:o,label:a,valid:l,error:c,warning:d,disabled:u,loading:f,selected:p=zr.defaultProps.selected,tabIndex:m,helpText:v,validationText:b,maxHeight:x,inputMaxHeight:T,inputWidth:E,children:S,clearable:C,clearText:M=zr.defaultProps.clearText,filterable:P,filterPlaceholder:R=zr.defaultProps.filterPlaceholder,placeholder:I,prefix:U,empty:L=zr.defaultProps.empty,loadingText:z=zr.defaultProps.loadingText,noMatchText:q=zr.defaultProps.noMatchText,initialFocus:W,dense:B,dataTest:Z=zr.defaultProps.dataTest}=this.props;return D.createElement(ag,{className:e,dataTest:Z,disabled:u,required:o,label:a,helpText:v,validationText:b,error:c,warning:d,valid:l},D.createElement(lg,{width:E,minWidth:"100px"},D.createElement(Ju,{selected:p,tabIndex:m,maxHeight:x,inputMaxHeight:T,onChange:n,onFocus:r,onKeyDown:i,onBlur:s,loading:f,error:c,warning:d,valid:l,disabled:u,clearable:C,clearText:Ka(M),filterable:P,filterPlaceholder:Ka(R),placeholder:I,prefix:U,empty:Ka(L),loadingText:Ka(z),noMatchText:Ka(q),initialFocus:W,dense:B},S)))}}_k(zr,"defaultProps",{dataTest:"dhis2-uiwidgets-singleselectfield",selected:"",clearText:()=>k.t("Clear"),empty:()=>k.t("No data found"),filterPlaceholder:()=>k.t("Type to filter options"),loadingText:()=>k.t("Loading options"),noMatchText:()=>k.t("No options found")});zr.propTypes={children:h.node,className:h.string,clearText:h.oneOfType([h.string,h.func]),clearable:h.bool,dataTest:h.string,dense:h.bool,disabled:h.bool,empty:h.oneOfType([h.node,h.func]),error:Ve,filterPlaceholder:h.oneOfType([h.node,h.func]),filterable:h.bool,helpText:h.string,initialFocus:h.bool,inputMaxHeight:h.string,inputWidth:h.string,label:h.string,loading:h.bool,loadingText:h.oneOfType([h.string,h.func]),maxHeight:h.string,noMatchText:h.oneOfType([h.string,h.func]),placeholder:h.string,prefix:h.string,required:h.bool,selected:h.string,tabIndex:h.string,valid:Ve,validationText:h.string,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};const eh=t=>{let{label:e,active:n,disabled:r,onClick:i,className:s,dataTest:o="dhis2-uicore-singleselectoption",value:a}=t;return D.createElement("div",{onClick:l=>i({},l),"data-test":o,"data-value":a,"data-label":e,className:j.dynamic([["1307386342",[y.grey900,N.dp8,N.dp12,y.grey200,y.teal050,y.grey500,n?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" "+(mo(s,{disabled:r,active:n})||"")},D.createElement("span",{"aria-hidden":"true",className:j.dynamic([["1307386342",[y.grey900,N.dp8,N.dp12,y.grey200,y.teal050,y.grey500,n?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" checkmark"}),D.createElement("span",{className:j.dynamic([["1307386342",[y.grey900,N.dp8,N.dp12,y.grey200,y.teal050,y.grey500,n?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]]])+" content"},e),D.createElement(j,{id:"1307386342",dynamic:[y.grey900,N.dp8,N.dp12,y.grey200,y.teal050,y.grey500,n?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:${y.grey900};padding-block:${N.dp8};padding-inline:6px ${N.dp12};}`,`div.__jsx-style-dynamic-selector:hover{background-color:${y.grey200};}`,`div.__jsx-style-dynamic-selector:active,div.active.__jsx-style-dynamic-selector{background-color:${y.teal050};cursor:auto;}`,`div.disabled.__jsx-style-dynamic-selector{color:${y.grey500};cursor:not-allowed;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}`,"div.disabled.__jsx-style-dynamic-selector:hover{background-color:initial;}",`div.__jsx-style-dynamic-selector .checkmark.__jsx-style-dynamic-selector{width:16px;height:16px;margin-inline-end:6px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;background-size:contain;background-repeat:no-repeat;background-image:${n?"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMuNjMyMDkgNy44MzIxNEMzLjI3MjA5IDcuNDcyMTQgMi43MjAwOSA3LjQ3MjE0IDIuMzYwMDkgNy44MzIxNEMyLjAwMDA5IDguMTkyMTQgMi4wMDAwOSA4Ljc0NDE0IDIuMzYwMDkgOS4xMDQxNEw1LjYyNDA5IDEyLjM2ODFDNS45ODQwOSAxMi43MjgxIDYuNTM2MDkgMTIuNzI4MSA2Ljg5NjA5IDEyLjM2ODFMMTQuNjQ4MSA0LjY0MDE0QzE1LjAwODEgNC4yODAxNCAxNS4wMDgxIDMuNzI4MTQgMTQuNjQ4MSAzLjM2ODE0QzE0LjI4ODEgMy4wMDgxNCAxMy43MzYxIDMuMDA4MTQgMTMuMzUyMSAzLjM2ODE0TDYuMjcyMDkgMTAuNDcyMUwzLjYzMjA5IDcuODMyMTRaIiBmaWxsPSIjMDA2OTVDIi8+Cjwvc3ZnPgo=')":"none"};}`]))};eh.propTypes={label:h.string.isRequired,value:h.string.isRequired,active:h.bool,className:h.string,dataTest:h.string,disabled:h.bool,onClick:h.func};var Vx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Vx);var Sk=Vx.exports;const jf=Rn(Sk),Un=["svg.jsx-1120332023{display:block;pointer-events:none;}",`svg.jsx-1120332023{fill:${y.grey800};}`,`circle.background.jsx-1120332023{fill:${y.white};}`,`svg.checked.jsx-1120332023{fill:${y.teal700};}`,`svg.disabled.jsx-1120332023{fill:${y.grey400};}`,`svg.error.jsx-1120332023{fill:${X.error};}`,`svg.valid.jsx-1120332023{fill:${X.valid};}`,`svg.warning.jsx-1120332023{fill:${X.warning};}`,"svg.jsx-1120332023:not(.checked) .inner.jsx-1120332023,svg.jsx-1120332023:not(.checked) .outer.checked.jsx-1120332023{fill:none;}"];Un.__hash="1120332023";function Qx(t){let{className:e}=t;return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",className:`jsx-1260643562 jsx-${Un.__hash} `+(e||"")},D.createElement("circle",{cx:"9",cy:"9",r:"9",className:`jsx-1260643562 jsx-${Un.__hash} background`}),D.createElement("path",{d:"M9,0 C13.9705627,0 18,4.02943725 18,9 C18,13.9705627 13.9705627,18 9,18 C4.02943725,18 0,13.9705627 0,9 C0,4.02943725 4.02943725,0 9,0 Z M9,1 C4.581722,1 1,4.581722 1,9 C1,13.418278 4.581722,17 9,17 C13.418278,17 17,13.418278 17,9 C17,4.581722 13.418278,1 9,1 Z",className:`jsx-1260643562 jsx-${Un.__hash} outer unchecked`}),D.createElement("path",{d:"M9,18 C13.9705627,18 18,13.9705627 18,9 C18,4.02943725 13.9705627,0 9,0 C4.02943725,0 0,4.02943725 0,9 C0,13.9705627 4.02943725,18 9,18 Z M9,16 C5.13400675,16 2,12.8659932 2,9 C2,5.13400675 5.13400675,2 9,2 C12.8659932,2 16,5.13400675 16,9 C16,12.8659932 12.8659932,16 9,16 Z",className:`jsx-1260643562 jsx-${Un.__hash} outer checked`}),D.createElement("circle",{cx:"9",cy:"9",r:"5",className:`jsx-1260643562 jsx-${Un.__hash} inner`}),D.createElement(j,{id:"1260643562"},["svg.jsx-1260643562{height:18px;width:18px;}"]),D.createElement(j,{id:Un.__hash},Un))}Qx.propTypes={className:h.string};function Kx(t){let{className:e}=t;return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",className:`jsx-1659897952 jsx-${Un.__hash} `+(e||"")},D.createElement("circle",{cx:"7",cy:"7",r:"7",className:`jsx-1659897952 jsx-${Un.__hash} background`}),D.createElement("path",{d:"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,13 C3.6862915,13 1,10.3137085 1,7 C1,3.6862915 3.6862915,1 7,1 C10.3137085,1 13,3.6862915 13,7 C13,10.3137085 10.3137085,13 7,13 Z",className:`jsx-1659897952 jsx-${Un.__hash} outer unchecked`}),D.createElement("path",{d:"M7,14 C10.8659932,14 14,10.8659932 14,7 C14,3.13400675 10.8659932,0 7,0 C3.13400675,0 0,3.13400675 0,7 C0,10.8659932 3.13400675,14 7,14 Z M7,12 C4.23857625,12 2,9.76142375 2,7 C2,4.23857625 4.23857625,2 7,2 C9.76142375,2 12,4.23857625 12,7 C12,9.76142375 9.76142375,12 7,12 Z",className:`jsx-1659897952 jsx-${Un.__hash} outer checked`}),D.createElement("circle",{cx:"7",cy:"7",r:"3",className:`jsx-1659897952 jsx-${Un.__hash} inner`}),D.createElement(j,{id:"1659897952"},["svg.jsx-1659897952{height:14px;width:14px;}"]),D.createElement(j,{id:Un.__hash},Un))}Kx.propTypes={className:h.string};function Yo(t,e,n){return(e=Ck(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ck(t){var e=Dk(t,"string");return typeof e=="symbol"?e:e+""}function Dk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class nu extends O.Component{constructor(){super(...arguments),Yo(this,"ref",O.createRef()),Yo(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(),e)}),Yo(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(),e)}),Yo(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(),e)}),Yo(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(),e)})}componentDidMount(){this.props.initialFocus&&this.ref.current.focus()}createHandlerPayload(){return{value:this.props.value,name:this.props.name,checked:!this.props.checked}}render(){const{checked:e=!1,className:n,disabled:r,error:i,label:s,name:o,tabIndex:a,valid:l,value:c,warning:d,dense:u,dataTest:f="dhis2-uicore-radio"}=this.props,p=jf({checked:e,disabled:r,valid:l,error:i,warning:d});return D.createElement("label",{"data-test":f,className:j.dynamic([["2849316266",[y.grey900,X.disabled,s?N.dp4:0,X.focus]]])+" "+(jf(n,{disabled:r,dense:u})||"")},D.createElement("input",{type:"radio",ref:this.ref,name:o,value:c,checked:e,disabled:r,tabIndex:a,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,className:j.dynamic([["2849316266",[y.grey900,X.disabled,s?N.dp4:0,X.focus]]])}),D.createElement("div",{className:j.dynamic([["2849316266",[y.grey900,X.disabled,s?N.dp4:0,X.focus]]])+" "+(jf("icon",{dense:u})||"")},u?D.createElement(Kx,{className:p}):D.createElement(Qx,{className:p})),s,D.createElement(j,{id:"2849316266",dynamic:[y.grey900,X.disabled,s?N.dp4:0,X.focus]},[`label.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;color:${y.grey900};font-size:14px;line-height:19px;}`,"label.dense.__jsx-style-dynamic-selector{font-size:14px;line-height:16px;}",`label.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;color:${X.disabled};}`,"input.__jsx-style-dynamic-selector{opacity:0;position:absolute;height:18px;width:18px;inset-inline-start:3px;}","label.dense.__jsx-style-dynamic-selector input.__jsx-style-dynamic-selector{height:14px;width:14px;}",`.icon.__jsx-style-dynamic-selector{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-inline-end:${s?N.dp4:0};border:2px solid transparent;padding:1px;border-radius:50%;}`,"label.dense.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{margin-inline-end:3px;}",`input.__jsx-style-dynamic-selector:focus+.icon.__jsx-style-dynamic-selector{outline:3px solid ${X.focus};outline-offset:-3px;}`]))}}Yo(nu,"defaultProps",{dataTest:"dhis2-uicore-radio"});nu.propTypes={checked:h.bool,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,error:Ve,initialFocus:h.bool,label:h.node,name:h.string,tabIndex:h.string,valid:Ve,value:h.string,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};var Gx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Gx);var Mk=Gx.exports;const pv=Rn(Mk),ml=[`.textarea.jsx-1284170182{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:${N.dp8};}`,`textarea.jsx-1284170182{box-sizing:border-box;padding:8px 12px;color:${y.grey900};background-color:white;border:1px solid ${y.grey500};border-radius:3px;box-shadow:inset 0 0 1px 0 rgba(48,54,60,0.1);outline:0;font-size:14px;line-height:17px;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;}`,"textarea.dense.jsx-1284170182{padding:6px 8px;}",`textarea.jsx-1284170182:focus{outline:none;box-shadow:inset 0 0 0 2px ${X.focus};border-color:${X.focus};}`,`textarea.valid.jsx-1284170182{border-color:${X.valid};}`,`textarea.warning.jsx-1284170182{border-color:${X.warning};}`,`textarea.error.jsx-1284170182{border-color:${X.error};}`,`textarea.read-only.jsx-1284170182{background-color:${y.grey100};border-color:${y.grey500};cursor:text;}`,`textarea.disabled.jsx-1284170182{background-color:${y.grey100};border-color:${y.grey500};color:${X.disabled};cursor:not-allowed;}`];ml.__hash="1284170182";function Br(t,e,n){return(e=Pk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pk(t){var e=kk(t,"string");return typeof e=="symbol"?e:e+""}function kk(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dg extends O.Component{constructor(){super(...arguments),Br(this,"textareaRef",D.createRef()),Br(this,"state",{height:"auto"}),Br(this,"textareaDimensions",{width:0,height:0}),Br(this,"userHasResized",!1),Br(this,"setTextareaDimensions",()=>{const e=this.textareaRef.current;this.textareaDimensions={width:e.clientWidth,height:e.clientHeight}}),Br(this,"hasUserResized",()=>{const{width:e,height:n}=this.textareaDimensions;this.setTextareaDimensions();const{width:r,height:i}=this.textareaDimensions;(r!==e||i!==n)&&(this.userHasResized=!0,this.removeResizeListener())}),Br(this,"handleChange",e=>{this.props.onChange&&this.props.onChange(this.createHandlerPayload(e),e)}),Br(this,"handleBlur",e=>{this.props.onBlur&&this.props.onBlur(this.createHandlerPayload(e),e)}),Br(this,"handleFocus",e=>{this.props.onFocus&&this.props.onFocus(this.createHandlerPayload(e),e)}),Br(this,"handleKeyDown",e=>{this.props.onKeyDown&&this.props.onKeyDown(this.createHandlerPayload(e),e)})}componentDidMount(){this.attachResizeListener(),this.props.initialFocus&&this.textareaRef.current.focus(),this.shouldDoAutoGrow()&&this.setHeight()}componentDidUpdate(e){this.shouldDoAutoGrow()&&this.props.value!==e.value&&this.setHeight()}attachResizeListener(){const e=this.textareaRef.current;e.addEventListener("mousedown",this.setTextareaDimensions),e.addEventListener("mouseup",this.hasUserResized)}removeResizeListener(){const e=this.textareaRef.current;e.removeEventListener("mousedown",this.setTextareaDimensions),e.removeEventListener("mouseup",this.hasUserResized)}setHeight(){const e=this.textareaRef.current,n=e.offsetHeight-e.clientHeight,r=e.scrollHeight+n+"px";this.setState({height:r})}shouldDoAutoGrow(){return this.props.autoGrow&&!this.userHasResized}createHandlerPayload(e){return{value:e.target.value,name:this.props.name}}render(){const{className:e,dense:n,disabled:r,readOnly:i,placeholder:s,name:o,valid:a,error:l,warning:c,loading:d,value:u,tabIndex:f,resize:p="vertical",rows:m=4,width:v="100%",dataTest:b="dhis2-uicore-textarea"}=this.props,{height:x}=this.state;return D.createElement("div",{"data-test":b,className:`jsx-${ml.__hash} `+j.dynamic([["3036048772",[v,x,p]]])+" "+(pv("textarea",e)||"")},D.createElement("textarea",{id:o,name:o,placeholder:s,ref:this.textareaRef,value:u,disabled:r,readOnly:i,tabIndex:f,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onBlur:this.handleBlur,onChange:this.handleChange,rows:m,className:`jsx-${ml.__hash} `+j.dynamic([["3036048772",[v,x,p]]])+" "+(pv({dense:n,disabled:r,error:l,valid:a,warning:c,"read-only":i})||"")}),D.createElement(Ku,{error:l,valid:a,loading:d,warning:c}),D.createElement(j,{id:ml.__hash},ml),D.createElement(j,{id:"3036048772",dynamic:[v,x,p]},[`textarea.__jsx-style-dynamic-selector{width:${v};height:${x};resize:${p};}`]))}}Br(Dg,"defaultProps",{rows:4,width:"100%",resize:"vertical",dataTest:"dhis2-uicore-textarea"});Dg.propTypes={autoGrow:h.bool,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,error:Ve,initialFocus:h.bool,loading:h.bool,name:h.string,placeholder:h.string,readOnly:h.bool,resize:h.oneOf(["none","both","horizontal","vertical"]),rows:h.number,tabIndex:h.string,valid:Ve,value:h.string,warning:Ve,width:h.string,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};const Zx=t=>{let{className:e,onChange:n,onFocus:r,onKeyDown:i,onBlur:s,initialFocus:o,dense:a,required:l,label:c,disabled:d,placeholder:u,name:f,valid:p,error:m,warning:v,loading:b,value:x,tabIndex:T,helpText:E,validationText:S,autoGrow:C,readOnly:M,resize:P="vertical",rows:R=4,inputWidth:I,dataTest:U="dhis2-uiwidgets-textareafield"}=t;return D.createElement(ag,{className:e,dataTest:U,disabled:d,required:l,name:f,helpText:E,validationText:S,error:m,warning:v,valid:p,label:c},D.createElement(lg,{width:I,minWidth:"220px"},D.createElement(Dg,{onFocus:r,onKeyDown:i,onBlur:s,onChange:n,name:f,value:x||"",placeholder:u,disabled:d,valid:p,warning:v,error:m,loading:b,dense:a,tabIndex:T,initialFocus:o,autoGrow:C,readOnly:M,resize:P,rows:R})))};Zx.propTypes={autoGrow:h.bool,className:h.string,dataTest:h.string,dense:h.bool,disabled:h.bool,error:Ve,helpText:h.string,initialFocus:h.bool,inputWidth:h.string,label:h.string,loading:h.bool,name:h.string,placeholder:h.string,readOnly:h.bool,required:h.bool,resize:h.oneOf(["none","both","horizontal","vertical"]),rows:h.number,tabIndex:h.string,valid:Ve,validationText:h.string,value:h.string,warning:Ve,onBlur:h.func,onChange:h.func,onFocus:h.func,onKeyDown:h.func};function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(null,arguments)}const Xx=t=>{let{input:e,meta:n,error:r,showValidStatus:i,valid:s,validationText:o,onBlur:a,onFocus:l,loading:c,showLoadingStatus:d,...u}=t;return D.createElement(Zx,Wp({},u,{name:e.name,error:_x(n,r),valid:AM(n,s,i),loading:NM(n,c,d),validationText:IM(n,o,r),onFocus:RM(e,l),onChange:OM(e),onBlur:PM(e,a),value:e.value}))};Xx.propTypes={input:jM.isRequired,meta:LM.isRequired,error:h.bool,loading:h.bool,showLoadingStatus:h.bool,showValidStatus:h.bool,valid:h.bool,validationText:h.string,onBlur:h.func,onFocus:h.func};const Ok="",Rk={"Bi-Week":" ",Week:Ok},Ik="Tden",Nk={"Bi-Week":"Dvoutden",Week:Ik},Ak="Week",jk={'Couldn\'t find a monthly period for weekly period id "{{periodId}}"':`Couldn't find a monthly period for weekly period id "{{periodId}}"`,'Couldn\'t find a weekly period for weekly period id "{{periodId}}"':`Couldn't find a weekly period for weekly period id "{{periodId}}"`,'Couldn\'t handle unknown period id "{{periodId}}"':`Couldn't handle unknown period id "{{periodId}}"`,'Could not find a period type for period id "{{periodId}}"':'Could not find a period type for period id "{{periodId}}"','Could not determine a period type for period id "{{periodId}}"':'Could not determine a period type for period id "{{periodId}}"','Couldn\'t find a period type for weekly period id "{{periodId}}"':`Couldn't find a period type for weekly period id "{{periodId}}"`,"Bi-Week":"Bi-Week",Week:Ak,'Date string is invalid, received "{{dateString}}"':'Date string is invalid, received "{{dateString}}"',"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.":"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.",'Unrecognized date, received "{{date}}"':'Unrecognized date, received "{{date}}"',"Date is not given":"Date is not given","Invalid date in specified calendar":"Invalid date in specified calendar","Date {{dateString}} is less than the minimum allowed date {{minDateString}}.":"Date {{dateString}} is less than the minimum allowed date {{minDateString}}.","Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}.":"Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}."},Lk="Semana",$k={"Bi-Week":"Quincenal",Week:Lk},Fk="Semana",Bk={"Bi-Week":"Cada dos semanas",Week:Fk},Uk="Semaine",Yk={"Bi-Week":"Bi-hebdomadaire",Week:Uk},zk="Minggu",Wk={"Bi-Week":"",Week:zk},Hk="",qk={"Bi-Week":"",Week:Hk},Vk="Uke",Qk={"Bi-Week":"Toukentlig",Week:Vk},Kk="Week",Gk={"Bi-Week":"",Week:Kk},Zk="",Xk={"Bi-Week":"",Week:Zk},Jk="",eO={"Bi-Week":"",Week:Jk},tO="Semana",nO={"Bi-Week":"Bimensal",Week:tO},rO="Semana",iO={"Bi-Week":"",Week:rO},sO="",oO={"Bi-Week":"",Week:sO},aO="",lO={"Bi-Week":"",Week:aO},cO="",dO={"Bi-Week":"",Week:cO},uO="",hO={"Bi-Week":"",Week:uO},fO="",pO={"Bi-Week":"-",Week:fO},mO="Hafta",gO={"Bi-Week":"Juft-Hafta",Week:mO},yO="Tun",vO={"Bi-Week":"K 2 tun ny",Week:yO},bO="",wO={"Bi-Week":"",Week:bO},xO="",_O={"Bi-Week":"",Week:xO},Mt="default";k.addResources("ar",Mt,Rk);k.addResources("cs",Mt,Nk);k.addResources("en",Mt,jk);k.addResources("es",Mt,$k);k.addResources("es_419",Mt,Bk);k.addResources("fr",Mt,Yk);k.addResources("id",Mt,Wk);k.addResources("lo",Mt,qk);k.addResources("nb",Mt,Qk);k.addResources("nl",Mt,Gk);k.addResources("prs",Mt,Xk);k.addResources("ps",Mt,eO);k.addResources("pt",Mt,nO);k.addResources("pt_BR",Mt,iO);k.addResources("ru",Mt,oO);k.addResources("si",Mt,lO);k.addResources("uk",Mt,dO);k.addResources("ur",Mt,hO);k.addResources("uz_UZ_Cyrl",Mt,pO);k.addResources("uz_UZ_Latn",Mt,gO);k.addResources("vi",Mt,vO);k.addResources("zh",Mt,wO);k.addResources("zh_CN",Mt,_O);const TO=new Set(["ar","arc","dv","fa","ha","he","khw","ks","ku","ps","ur","yi"]),EO=(t,e)=>t&&["ltr","rtl"].includes(t)?t:e&&TO.has(e.split("-")[0])?"rtl":"ltr";class _ extends Array{constructor(e,n){if(super(e),this.sign=n,Object.setPrototypeOf(this,_.prototype),e>_.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var n=Math.floor,r=Number.isFinite;if(typeof e=="number"){if(e===0)return _.__zero();if(_.__isOneDigitInt(e))return 0>e?_.__oneDigit(-e,!0):_.__oneDigit(e,!1);if(!r(e)||n(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return _.__fromDouble(e)}if(typeof e=="string"){const i=_.__fromString(e);if(i===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if(typeof e=="boolean")return e===!0?_.__oneDigit(1,!1):_.__zero();if(typeof e=="object"){if(e.constructor===_)return e;const i=_.__toPrimitive(e);return _.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const n of this)e.push((n&&(n>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?_.__toStringGeneric(this,e,!1):_.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const n=e.length;if(n===0)return 0;if(n===1){const b=e.__unsignedDigit(0);return e.sign?-b:b}const r=e.__digit(n-1),i=_.__clz30(r),s=30*n-i;if(1024<s)return e.sign?-1/0:1/0;let o=s-1,a=r,l=n-1;const c=i+3;let d=c===32?0:a<<c;d>>>=12;const u=c-12;let f=12<=c?0:a<<20+c,p=20+c;for(0<u&&0<l&&(l--,a=e.__digit(l),d|=a>>>30-u,f=a<<u+2,p=u+2);0<p&&0<l;)l--,a=e.__digit(l),f|=30<=p?a<<p-30:a>>>30-p,p-=30;const m=_.__decideRounding(e,p,l,a);if((m===1||m===0&&(1&f)==1)&&(f=f+1>>>0,f===0&&(d++,d>>>20!=0&&(d=0,o++,1023<o))))return e.sign?-1/0:1/0;const v=e.sign?-2147483648:0;return o=o+1023<<20,_.__kBitConversionInts[1]=v|o|d,_.__kBitConversionInts[0]=f,_.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const n=e.__copy();return n.sign=!e.sign,n}static bitwiseNot(e){return e.sign?_.__absoluteSubOne(e).__trim():_.__absoluteAddOne(e,!0)}static exponentiate(e,n){if(n.sign)throw new RangeError("Exponent must be positive");if(n.length===0)return _.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&n.__digit(0))?_.unaryMinus(e):e;if(1<n.length)throw new RangeError("BigInt too big");let r=n.__unsignedDigit(0);if(r===1)return e;if(r>=_.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const o=1+(0|r/30),a=e.sign&&(1&r)!=0,l=new _(o,a);l.__initializeDigits();const c=1<<r%30;return l.__setDigit(o-1,c),l}let i=null,s=e;for(1&r&&(i=e),r>>=1;r!==0;r>>=1)s=_.multiply(s,s),1&r&&(i===null?i=s:i=_.multiply(i,s));return i}static multiply(e,n){if(e.length===0)return e;if(n.length===0)return n;let r=e.length+n.length;30<=e.__clzmsd()+n.__clzmsd()&&r--;const i=new _(r,e.sign!==n.sign);i.__initializeDigits();for(let s=0;s<e.length;s++)_.__multiplyAccumulate(n,e.__digit(s),i,s);return i.__trim()}static divide(e,n){if(n.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,n))return _.__zero();const r=e.sign!==n.sign,i=n.__unsignedDigit(0);let s;if(n.length===1&&32767>=i){if(i===1)return r===e.sign?e:_.unaryMinus(e);s=_.__absoluteDivSmall(e,i,null)}else s=_.__absoluteDivLarge(e,n,!0,!1);return s.sign=r,s.__trim()}static remainder(e,n){if(n.length===0)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(e,n))return e;const r=n.__unsignedDigit(0);if(n.length===1&&32767>=r){if(r===1)return _.__zero();const s=_.__absoluteModSmall(e,r);return s===0?_.__zero():_.__oneDigit(s,e.sign)}const i=_.__absoluteDivLarge(e,n,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,n){const r=e.sign;return r===n.sign?_.__absoluteAdd(e,n,r):0<=_.__absoluteCompare(e,n)?_.__absoluteSub(e,n,r):_.__absoluteSub(n,e,!r)}static subtract(e,n){const r=e.sign;return r===n.sign?0<=_.__absoluteCompare(e,n)?_.__absoluteSub(e,n,r):_.__absoluteSub(n,e,!r):_.__absoluteAdd(e,n,r)}static leftShift(e,n){return n.length===0||e.length===0?e:n.sign?_.__rightShiftByAbsolute(e,n):_.__leftShiftByAbsolute(e,n)}static signedRightShift(e,n){return n.length===0||e.length===0?e:n.sign?_.__leftShiftByAbsolute(e,n):_.__rightShiftByAbsolute(e,n)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,n){return 0>_.__compareToBigInt(e,n)}static lessThanOrEqual(e,n){return 0>=_.__compareToBigInt(e,n)}static greaterThan(e,n){return 0<_.__compareToBigInt(e,n)}static greaterThanOrEqual(e,n){return 0<=_.__compareToBigInt(e,n)}static equal(e,n){if(e.sign!==n.sign||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==n.__digit(r))return!1;return!0}static notEqual(e,n){return!_.equal(e,n)}static bitwiseAnd(e,n){var r=Math.max;if(!e.sign&&!n.sign)return _.__absoluteAnd(e,n).__trim();if(e.sign&&n.sign){const i=r(e.length,n.length)+1;let s=_.__absoluteSubOne(e,i);const o=_.__absoluteSubOne(n);return s=_.__absoluteOr(s,o,s),_.__absoluteAddOne(s,!0,s).__trim()}return e.sign&&([e,n]=[n,e]),_.__absoluteAndNot(e,_.__absoluteSubOne(n)).__trim()}static bitwiseXor(e,n){var r=Math.max;if(!e.sign&&!n.sign)return _.__absoluteXor(e,n).__trim();if(e.sign&&n.sign){const o=r(e.length,n.length),a=_.__absoluteSubOne(e,o),l=_.__absoluteSubOne(n);return _.__absoluteXor(a,l,a).__trim()}const i=r(e.length,n.length)+1;e.sign&&([e,n]=[n,e]);let s=_.__absoluteSubOne(n,i);return s=_.__absoluteXor(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static bitwiseOr(e,n){var r=Math.max;const i=r(e.length,n.length);if(!e.sign&&!n.sign)return _.__absoluteOr(e,n).__trim();if(e.sign&&n.sign){let o=_.__absoluteSubOne(e,i);const a=_.__absoluteSubOne(n);return o=_.__absoluteAnd(o,a,o),_.__absoluteAddOne(o,!0,o).__trim()}e.sign&&([e,n]=[n,e]);let s=_.__absoluteSubOne(n,i);return s=_.__absoluteAndNot(s,e,s),_.__absoluteAddOne(s,!0,s).__trim()}static asIntN(e,n){var r=Math.floor;if(n.length===0)return n;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(e>=_.__kMaxLengthBits)return n;const i=0|(e+29)/30;if(n.length<i)return n;const s=n.__unsignedDigit(i-1),o=1<<(e-1)%30;if(n.length===i&&s<o)return n;if((s&o)!==o)return _.__truncateToNBits(e,n);if(!n.sign)return _.__truncateAndSubFromPowerOfTwo(e,n,!0);if(!(s&o-1)){for(let a=i-2;0<=a;a--)if(n.__digit(a)!==0)return _.__truncateAndSubFromPowerOfTwo(e,n,!1);return n.length===i&&s===o?n:_.__truncateToNBits(e,n)}return _.__truncateAndSubFromPowerOfTwo(e,n,!1)}static asUintN(e,n){var r=Math.floor;if(n.length===0)return n;if(e=r(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return _.__zero();if(n.sign){if(e>_.__kMaxLengthBits)throw new RangeError("BigInt too big");return _.__truncateAndSubFromPowerOfTwo(e,n,!1)}if(e>=_.__kMaxLengthBits)return n;const i=0|(e+29)/30;if(n.length<i)return n;const s=e%30;return n.length==i&&(s===0||!(n.__digit(i-1)>>>s))?n:_.__truncateToNBits(e,n)}static ADD(e,n){if(e=_.__toPrimitive(e),n=_.__toPrimitive(n),typeof e=="string")return typeof n!="string"&&(n=n.toString()),e+n;if(typeof n=="string")return e.toString()+n;if(e=_.__toNumeric(e),n=_.__toNumeric(n),_.__isBigInt(e)&&_.__isBigInt(n))return _.add(e,n);if(typeof e=="number"&&typeof n=="number")return e+n;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,n){return _.__compare(e,n,0)}static LE(e,n){return _.__compare(e,n,1)}static GT(e,n){return _.__compare(e,n,2)}static GE(e,n){return _.__compare(e,n,3)}static EQ(e,n){for(;;){if(_.__isBigInt(e))return _.__isBigInt(n)?_.equal(e,n):_.EQ(n,e);if(typeof e=="number"){if(_.__isBigInt(n))return _.__equalToNumber(n,e);if(typeof n!="object")return e==n;n=_.__toPrimitive(n)}else if(typeof e=="string"){if(_.__isBigInt(n))return e=_.__fromString(e),e!==null&&_.equal(e,n);if(typeof n!="object")return e==n;n=_.__toPrimitive(n)}else if(typeof e=="boolean"){if(_.__isBigInt(n))return _.__equalToNumber(n,+e);if(typeof n!="object")return e==n;n=_.__toPrimitive(n)}else if(typeof e=="symbol"){if(_.__isBigInt(n))return!1;if(typeof n!="object")return e==n;n=_.__toPrimitive(n)}else if(typeof e=="object"){if(typeof n=="object"&&n.constructor!==_)return e==n;e=_.__toPrimitive(e)}else return e==n}}static NE(e,n){return!_.EQ(e,n)}static DataViewGetBigInt64(e,n,r=!1){return _.asIntN(64,_.DataViewGetBigUint64(e,n,r))}static DataViewGetBigUint64(e,n,r=!1){const[i,s]=r?[4,0]:[0,4],o=e.getUint32(n+i,r),a=e.getUint32(n+s,r),l=new _(3,!1);return l.__setDigit(0,1073741823&a),l.__setDigit(1,(268435455&o)<<2|a>>>30),l.__setDigit(2,o>>>28),l.__trim()}static DataViewSetBigInt64(e,n,r,i=!1){_.DataViewSetBigUint64(e,n,r,i)}static DataViewSetBigUint64(e,n,r,i=!1){r=_.asUintN(64,r);let s=0,o=0;if(0<r.length&&(o=r.__digit(0),1<r.length)){const c=r.__digit(1);o|=c<<30,s=c>>>2,2<r.length&&(s|=r.__digit(2)<<28)}const[a,l]=i?[4,0]:[0,4];e.setUint32(n+a,s,i),e.setUint32(n+l,o,i)}static __zero(){return new _(0,!1)}static __oneDigit(e,n){const r=new _(1,n);return r.__setDigit(0,e),r}__copy(){const e=new _(this.length,this.sign);for(let n=0;n<this.length;n++)e[n]=this[n];return e}__trim(){let e=this.length,n=this[e-1];for(;n===0;)e--,n=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,n,r,i){if(0<n)return-1;let s;if(0>n)s=-n-1;else{if(r===0)return-1;r--,i=e.__digit(r),s=29}let o=1<<s;if(!(i&o))return-1;if(o-=1,(i&o)!=0)return 1;for(;0<r;)if(r--,e.__digit(r)!==0)return 1;return 0}static __fromDouble(e){_.__kBitConversionDouble[0]=e;const n=2047&_.__kBitConversionInts[1]>>>20,r=n-1023,i=(0|r/30)+1,s=new _(i,0>e);let o=1048575&_.__kBitConversionInts[1]|1048576,a=_.__kBitConversionInts[0];const l=20,c=r%30;let d,u=0;if(c<20){const f=l-c;u=f+32,d=o>>>f,o=o<<32-f|a>>>f,a<<=32-f}else if(c===20)u=32,d=o,o=a,a=0;else{const f=c-l;u=32-f,d=o<<f|a>>>32-f,o=a<<f,a=0}s.__setDigit(i-1,d);for(let f=i-2;0<=f;f--)0<u?(u-=30,d=o>>>2,o=o<<30|a>>>2,a<<=30):d=0,s.__setDigit(f,d);return s.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,n=0){let r=0;const i=e.length;let s=0;if(s===i)return _.__zero();let o=e.charCodeAt(s);for(;_.__isWhitespace(o);){if(++s===i)return _.__zero();o=e.charCodeAt(s)}if(o===43){if(++s===i)return null;o=e.charCodeAt(s),r=1}else if(o===45){if(++s===i)return null;o=e.charCodeAt(s),r=-1}if(n===0){if(n=10,o===48){if(++s===i)return _.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(n=16,++s===i)return null;o=e.charCodeAt(s)}else if(o===79||o===111){if(n=8,++s===i)return null;o=e.charCodeAt(s)}else if(o===66||o===98){if(n=2,++s===i)return null;o=e.charCodeAt(s)}}}else if(n===16&&o===48){if(++s===i)return _.__zero();if(o=e.charCodeAt(s),o===88||o===120){if(++s===i)return null;o=e.charCodeAt(s)}}if(r!=0&&n!==10)return null;for(;o===48;){if(++s===i)return _.__zero();o=e.charCodeAt(s)}const a=i-s;let l=_.__kMaxBitsPerChar[n],c=_.__kBitsPerCharTableMultiplier-1;if(a>1073741824/l)return null;const d=l*a+c>>>_.__kBitsPerCharTableShift,u=new _(0|(d+29)/30,!1),f=10>n?n:10,p=10<n?n-10:0;if(n&n-1){u.__initializeDigits();let m=!1,v=0;do{let b=0,x=1;for(;;){let E;if(o-48>>>0<f)E=o-48;else if((32|o)-97>>>0<p)E=(32|o)-87;else{m=!0;break}const S=x*n;if(1073741823<S)break;if(x=S,b=b*n+E,v++,++s===i){m=!0;break}o=e.charCodeAt(s)}c=30*_.__kBitsPerCharTableMultiplier-1;const T=0|(l*v+c>>>_.__kBitsPerCharTableShift)/30;u.__inplaceMultiplyAdd(x,b,T)}while(!m)}else{l>>=_.__kBitsPerCharTableShift;const m=[],v=[];let b=!1;do{let x=0,T=0;for(;;){let E;if(o-48>>>0<f)E=o-48;else if((32|o)-97>>>0<p)E=(32|o)-87;else{b=!0;break}if(T+=l,x=x<<l|E,++s===i){b=!0;break}if(o=e.charCodeAt(s),30<T+l)break}m.push(x),v.push(T)}while(!b);_.__fillFromParts(u,m,v)}if(s!==i){if(!_.__isWhitespace(o))return null;for(s++;s<i;s++)if(o=e.charCodeAt(s),!_.__isWhitespace(o))return null}return u.sign=r==-1,u.__trim()}static __fillFromParts(e,n,r){let i=0,s=0,o=0;for(let a=n.length-1;0<=a;a--){const l=n[a],c=r[a];s|=l<<o,o+=c,o===30?(e.__setDigit(i++,s),o=0,s=0):30<o&&(e.__setDigit(i++,1073741823&s),o-=30,s=l>>>c-o)}if(s!==0){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,s)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,n){const r=e.length;let i=n-1;i=(85&i>>>1)+(85&i),i=(51&i>>>2)+(51&i),i=(15&i>>>4)+(15&i);const s=i,o=n-1,a=e.__digit(r-1),l=_.__clz30(a);let c=0|(30*r-l+s-1)/s;if(e.sign&&c++,268435456<c)throw new Error("string too long");const d=Array(c);let u=c-1,f=0,p=0;for(let v=0;v<r-1;v++){const b=e.__digit(v),x=(f|b<<p)&o;d[u--]=_.__kConversionChars[x];const T=s-p;for(f=b>>>T,p=30-T;p>=s;)d[u--]=_.__kConversionChars[f&o],f>>>=s,p-=s}const m=(f|a<<p)&o;for(d[u--]=_.__kConversionChars[m],f=a>>>s-p;f!==0;)d[u--]=_.__kConversionChars[f&o],f>>>=s;if(e.sign&&(d[u--]="-"),u!=-1)throw new Error("implementation bug");return d.join("")}static __toStringGeneric(e,n,r){const i=e.length;if(i===0)return"";if(i===1){let v=e.__unsignedDigit(0).toString(n);return r===!1&&e.sign&&(v="-"+v),v}const s=30*i-_.__clz30(e.__digit(i-1)),o=_.__kMaxBitsPerChar[n],a=o-1;let l=s*_.__kBitsPerCharTableMultiplier;l+=a-1,l=0|l/a;const c=l+1>>1,d=_.exponentiate(_.__oneDigit(n,!1),_.__oneDigit(c,!1));let u,f;const p=d.__unsignedDigit(0);if(d.length===1&&32767>=p){u=new _(e.length,!1),u.__initializeDigits();let v=0;for(let b=2*e.length-1;0<=b;b--){const x=v<<15|e.__halfDigit(b);u.__setHalfDigit(b,0|x/p),v=0|x%p}f=v.toString(n)}else{const v=_.__absoluteDivLarge(e,d,!0,!0);u=v.quotient;const b=v.remainder.__trim();f=_.__toStringGeneric(b,n,!0)}u.__trim();let m=_.__toStringGeneric(u,n,!0);for(;f.length<c;)f="0"+f;return r===!1&&e.sign&&(m="-"+m),m+f}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,n){const r=e.sign;if(r!==n.sign)return _.__unequalSign(r);const i=_.__absoluteCompare(e,n);return 0<i?_.__absoluteGreater(r):0>i?_.__absoluteLess(r):0}static __compareToNumber(e,n){if(_.__isOneDigitInt(n)){const r=e.sign,i=0>n;if(r!==i)return _.__unequalSign(r);if(e.length===0){if(i)throw new Error("implementation bug");return n===0?0:-1}if(1<e.length)return _.__absoluteGreater(r);const s=Math.abs(n),o=e.__unsignedDigit(0);return o>s?_.__absoluteGreater(r):o<s?_.__absoluteLess(r):0}return _.__compareToDouble(e,n)}static __compareToDouble(e,n){if(n!==n)return n;if(n===1/0)return-1;if(n===-1/0)return 1;const r=e.sign;if(r!==0>n)return _.__unequalSign(r);if(n===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;_.__kBitConversionDouble[0]=n;const i=2047&_.__kBitConversionInts[1]>>>20;if(i==2047)throw new Error("implementation bug: handled elsewhere");const s=i-1023;if(0>s)return _.__absoluteGreater(r);const o=e.length;let a=e.__digit(o-1);const l=_.__clz30(a),c=30*o-l,d=s+1;if(c<d)return _.__absoluteLess(r);if(c>d)return _.__absoluteGreater(r);let u=1048576|1048575&_.__kBitConversionInts[1],f=_.__kBitConversionInts[0];const p=20,m=29-l;if(m!==(0|(c-1)%30))throw new Error("implementation bug");let v,b=0;if(20>m){const x=p-m;b=x+32,v=u>>>x,u=u<<32-x|f>>>x,f<<=32-x}else if(m===20)b=32,v=u,u=f,f=0;else{const x=m-p;b=32-x,v=u<<x|f>>>32-x,u=f<<x,f=0}if(a>>>=0,v>>>=0,a>v)return _.__absoluteGreater(r);if(a<v)return _.__absoluteLess(r);for(let x=o-2;0<=x;x--){0<b?(b-=30,v=u>>>2,u=u<<30|f>>>2,f<<=30):v=0;const T=e.__unsignedDigit(x);if(T>v)return _.__absoluteGreater(r);if(T<v)return _.__absoluteLess(r)}if(u!==0||f!==0){if(b===0)throw new Error("implementation bug");return _.__absoluteLess(r)}return 0}static __equalToNumber(e,n){var r=Math.abs;return _.__isOneDigitInt(n)?n===0?e.length===0:e.length===1&&e.sign===0>n&&e.__unsignedDigit(0)===r(n):_.__compareToDouble(e,n)===0}static __comparisonResultToBool(e,n){return n===0?0>e:n===1?0>=e:n===2?0<e:n===3?0<=e:void 0}static __compare(e,n,r){if(e=_.__toPrimitive(e),n=_.__toPrimitive(n),typeof e=="string"&&typeof n=="string")switch(r){case 0:return e<n;case 1:return e<=n;case 2:return e>n;case 3:return e>=n}if(_.__isBigInt(e)&&typeof n=="string")return n=_.__fromString(n),n!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,n),r);if(typeof e=="string"&&_.__isBigInt(n))return e=_.__fromString(e),e!==null&&_.__comparisonResultToBool(_.__compareToBigInt(e,n),r);if(e=_.__toNumeric(e),n=_.__toNumeric(n),_.__isBigInt(e)){if(_.__isBigInt(n))return _.__comparisonResultToBool(_.__compareToBigInt(e,n),r);if(typeof n!="number")throw new Error("implementation bug");return _.__comparisonResultToBool(_.__compareToNumber(e,n),r)}if(typeof e!="number")throw new Error("implementation bug");if(_.__isBigInt(n))return _.__comparisonResultToBool(_.__compareToNumber(n,e),2^r);if(typeof n!="number")throw new Error("implementation bug");return r===0?e<n:r===1?e<=n:r===2?e>n:r===3?e>=n:void 0}__clzmsd(){return _.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,n,r){if(e.length<n.length)return _.__absoluteAdd(n,e,r);if(e.length===0)return e;if(n.length===0)return e.sign===r?e:_.unaryMinus(e);let i=e.length;(e.__clzmsd()===0||n.length===e.length&&n.__clzmsd()===0)&&i++;const s=new _(i,r);let o=0,a=0;for(;a<n.length;a++){const l=e.__digit(a)+n.__digit(a)+o;o=l>>>30,s.__setDigit(a,1073741823&l)}for(;a<e.length;a++){const l=e.__digit(a)+o;o=l>>>30,s.__setDigit(a,1073741823&l)}return a<s.length&&s.__setDigit(a,o),s.__trim()}static __absoluteSub(e,n,r){if(e.length===0)return e;if(n.length===0)return e.sign===r?e:_.unaryMinus(e);const i=new _(e.length,r);let s=0,o=0;for(;o<n.length;o++){const a=e.__digit(o)-n.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}for(;o<e.length;o++){const a=e.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}return i.__trim()}static __absoluteAddOne(e,n,r=null){const i=e.length;r===null?r=new _(i,n):r.sign=n;let s=1;for(let o=0;o<i;o++){const a=e.__digit(o)+s;s=a>>>30,r.__setDigit(o,1073741823&a)}return s!=0&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,n){const r=e.length;n=n||r;const i=new _(n,!1);let s=1;for(let o=0;o<r;o++){const a=e.__digit(o)-s;s=1&a>>>30,i.__setDigit(o,1073741823&a)}if(s!=0)throw new Error("implementation bug");for(let o=r;o<n;o++)i.__setDigit(o,0);return i}static __absoluteAnd(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const c=e,d=i;e=n,i=s,n=c,s=d}let a=o;r===null?r=new _(a,!1):a=r.length;let l=0;for(;l<o;l++)r.__setDigit(l,e.__digit(l)&n.__digit(l));for(;l<a;l++)r.__setDigit(l,0);return r}static __absoluteAndNot(e,n,r=null){const i=e.length,s=n.length;let o=s;i<s&&(o=i);let a=i;r===null?r=new _(a,!1):a=r.length;let l=0;for(;l<o;l++)r.__setDigit(l,e.__digit(l)&~n.__digit(l));for(;l<i;l++)r.__setDigit(l,e.__digit(l));for(;l<a;l++)r.__setDigit(l,0);return r}static __absoluteOr(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const c=e,d=i;e=n,i=s,n=c,s=d}let a=i;r===null?r=new _(a,!1):a=r.length;let l=0;for(;l<o;l++)r.__setDigit(l,e.__digit(l)|n.__digit(l));for(;l<i;l++)r.__setDigit(l,e.__digit(l));for(;l<a;l++)r.__setDigit(l,0);return r}static __absoluteXor(e,n,r=null){let i=e.length,s=n.length,o=s;if(i<s){o=i;const c=e,d=i;e=n,i=s,n=c,s=d}let a=i;r===null?r=new _(a,!1):a=r.length;let l=0;for(;l<o;l++)r.__setDigit(l,e.__digit(l)^n.__digit(l));for(;l<i;l++)r.__setDigit(l,e.__digit(l));for(;l<a;l++)r.__setDigit(l,0);return r}static __absoluteCompare(e,n){const r=e.length-n.length;if(r!=0)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===n.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>n.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,n,r,i){if(n===0)return;const s=32767&n,o=n>>>15;let a=0,l=0;for(let c,d=0;d<e.length;d++,i++){c=r.__digit(i);const u=e.__digit(d),f=32767&u,p=u>>>15,m=_.__imul(f,s),v=_.__imul(f,o),b=_.__imul(p,s),x=_.__imul(p,o);c+=l+m+a,a=c>>>30,c&=1073741823,c+=((32767&v)<<15)+((32767&b)<<15),a+=c>>>30,l=x+(v>>>15)+(b>>>15),r.__setDigit(i,1073741823&c)}for(;a!=0||l!==0;i++){let c=r.__digit(i);c+=a+l,l=0,a=c>>>30,r.__setDigit(i,1073741823&c)}}static __internalMultiplyAdd(e,n,r,i,s){let o=r,a=0;for(let l=0;l<i;l++){const c=e.__digit(l),d=_.__imul(32767&c,n),u=_.__imul(c>>>15,n),f=d+((32767&u)<<15)+a+o;o=f>>>30,a=u>>>15,s.__setDigit(l,1073741823&f)}if(s.length>i)for(s.__setDigit(i++,o+a);i<s.length;)s.__setDigit(i++,0);else if(o+a!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,n,r){r>this.length&&(r=this.length);const i=32767&e,s=e>>>15;let o=0,a=n;for(let l=0;l<r;l++){const c=this.__digit(l),d=32767&c,u=c>>>15,f=_.__imul(d,i),p=_.__imul(d,s),m=_.__imul(u,i),v=_.__imul(u,s);let b=a+f+o;o=b>>>30,b&=1073741823,b+=((32767&p)<<15)+((32767&m)<<15),o+=b>>>30,a=v+(p>>>15)+(m>>>15),this.__setDigit(l,1073741823&b)}if(o!=0||a!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,n,r=null){r===null&&(r=new _(e.length,!1));let i=0;for(let s,o=2*e.length-1;0<=o;o-=2){s=(i<<15|e.__halfDigit(o))>>>0;const a=0|s/n;i=0|s%n,s=(i<<15|e.__halfDigit(o-1))>>>0;const l=0|s/n;i=0|s%n,r.__setDigit(o>>>1,a<<15|l)}return r}static __absoluteModSmall(e,n){let r=0;for(let i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%n;return r}static __absoluteDivLarge(e,n,r,i){const s=n.__halfDigitLength(),o=n.length,a=e.__halfDigitLength()-s;let l=null;r&&(l=new _(a+2>>>1,!1),l.__initializeDigits());const c=new _(s+2>>>1,!1);c.__initializeDigits();const d=_.__clz15(n.__halfDigit(s-1));0<d&&(n=_.__specialLeftShift(n,d,0));const u=_.__specialLeftShift(e,d,1),f=n.__halfDigit(s-1);let p=0;for(let m,v=a;0<=v;v--){m=32767;const b=u.__halfDigit(v+s);if(b!==f){const T=(b<<15|u.__halfDigit(v+s-1))>>>0;m=0|T/f;let E=0|T%f;const S=n.__halfDigit(s-2),C=u.__halfDigit(v+s-2);for(;_.__imul(m,S)>>>0>(E<<16|C)>>>0&&(m--,E+=f,!(32767<E)););}_.__internalMultiplyAdd(n,m,0,o,c);let x=u.__inplaceSub(c,v,s+1);x!==0&&(x=u.__inplaceAdd(n,v,s),u.__setHalfDigit(v+s,32767&u.__halfDigit(v+s)+x),m--),r&&(1&v?p=m<<15:l.__setDigit(v>>>1,p|m))}if(i)return u.__inplaceRightShift(d),r?{quotient:l,remainder:u}:u;if(r)return l;throw new Error("unreachable")}static __clz15(e){return _.__clz30(e)-15}__inplaceAdd(e,n,r){let i=0;for(let s=0;s<r;s++){const o=this.__halfDigit(n+s)+e.__halfDigit(s)+i;i=o>>>15,this.__setHalfDigit(n+s,32767&o)}return i}__inplaceSub(e,n,r){let i=0;if(1&n){n>>=1;let s=this.__digit(n),o=32767&s,a=0;for(;a<r-1>>>1;a++){const d=e.__digit(a),u=(s>>>15)-(32767&d)-i;i=1&u>>>15,this.__setDigit(n+a,(32767&u)<<15|32767&o),s=this.__digit(n+a+1),o=(32767&s)-(d>>>15)-i,i=1&o>>>15}const l=e.__digit(a),c=(s>>>15)-(32767&l)-i;if(i=1&c>>>15,this.__setDigit(n+a,(32767&c)<<15|32767&o),n+a+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(s=this.__digit(n+a+1),o=(32767&s)-(l>>>15)-i,i=1&o>>>15,this.__setDigit(n+e.length,1073709056&s|32767&o))}else{n>>=1;let s=0;for(;s<e.length-1;s++){const d=this.__digit(n+s),u=e.__digit(s),f=(32767&d)-(32767&u)-i;i=1&f>>>15;const p=(d>>>15)-(u>>>15)-i;i=1&p>>>15,this.__setDigit(n+s,(32767&p)<<15|32767&f)}const o=this.__digit(n+s),a=e.__digit(s),l=(32767&o)-(32767&a)-i;i=1&l>>>15;let c=0;!(1&r)&&(c=(o>>>15)-(a>>>15)-i,i=1&c>>>15),this.__setDigit(n+s,(32767&c)<<15|32767&l)}return i}__inplaceRightShift(e){if(e===0)return;let n=this.__digit(0)>>>e;const r=this.length-1;for(let i=0;i<r;i++){const s=this.__digit(i+1);this.__setDigit(i,1073741823&s<<30-e|n),n=s>>>e}this.__setDigit(r,n)}static __specialLeftShift(e,n,r){const i=e.length,s=new _(i+r,!1);if(n===0){for(let a=0;a<i;a++)s.__setDigit(a,e.__digit(a));return 0<r&&s.__setDigit(i,0),s}let o=0;for(let a=0;a<i;a++){const l=e.__digit(a);s.__setDigit(a,1073741823&l<<n|o),o=l>>>30-n}return 0<r&&s.__setDigit(i,o),s}static __leftShiftByAbsolute(e,n){const r=_.__toShiftAmount(n);if(0>r)throw new RangeError("BigInt too big");const i=0|r/30,s=r%30,o=e.length,a=s!==0&&e.__digit(o-1)>>>30-s!=0,l=o+i+(a?1:0),c=new _(l,e.sign);if(s===0){let d=0;for(;d<i;d++)c.__setDigit(d,0);for(;d<l;d++)c.__setDigit(d,e.__digit(d-i))}else{let d=0;for(let u=0;u<i;u++)c.__setDigit(u,0);for(let u=0;u<o;u++){const f=e.__digit(u);c.__setDigit(u+i,1073741823&f<<s|d),d=f>>>30-s}if(a)c.__setDigit(o+i,d);else if(d!==0)throw new Error("implementation bug")}return c.__trim()}static __rightShiftByAbsolute(e,n){const r=e.length,i=e.sign,s=_.__toShiftAmount(n);if(0>s)return _.__rightShiftByMaximum(i);const o=0|s/30,a=s%30;let l=r-o;if(0>=l)return _.__rightShiftByMaximum(i);let c=!1;if(i){if(e.__digit(o)&(1<<a)-1)c=!0;else for(let u=0;u<o;u++)if(e.__digit(u)!==0){c=!0;break}}c&&a===0&&!~e.__digit(r-1)&&l++;let d=new _(l,i);if(a===0){d.__setDigit(l-1,0);for(let u=o;u<r;u++)d.__setDigit(u-o,e.__digit(u))}else{let u=e.__digit(o)>>>a;const f=r-o-1;for(let p=0;p<f;p++){const m=e.__digit(p+o+1);d.__setDigit(p,1073741823&m<<30-a|u),u=m>>>a}d.__setDigit(f,u)}return c&&(d=_.__absoluteAddOne(d,!0,d)),d.__trim()}static __rightShiftByMaximum(e){return e?_.__oneDigit(1,!0):_.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const n=e.__unsignedDigit(0);return n>_.__kMaxLengthBits?-1:n}static __toPrimitive(e,n="default"){if(typeof e!="object"||e.constructor===_)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const s=e[Symbol.toPrimitive];if(s){const o=s(n);if(typeof o!="object")return o;throw new TypeError("Cannot convert object to primitive value")}}const r=e.valueOf;if(r){const s=r.call(e);if(typeof s!="object")return s}const i=e.toString;if(i){const s=i.call(e);if(typeof s!="object")return s}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return _.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===_}static __truncateToNBits(e,n){const r=0|(e+29)/30,i=new _(r,n.sign),s=r-1;for(let a=0;a<s;a++)i.__setDigit(a,n.__digit(a));let o=n.__digit(s);if(e%30!=0){const a=32-e%30;o=o<<a>>>a}return i.__setDigit(s,o),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,n,r){var i=Math.min;const s=0|(e+29)/30,o=new _(s,r);let a=0;const l=s-1;let c=0;for(const p=i(l,n.length);a<p;a++){const m=0-n.__digit(a)-c;c=1&m>>>30,o.__setDigit(a,1073741823&m)}for(;a<l;a++)o.__setDigit(a,0|1073741823&-c);let d=l<n.length?n.__digit(l):0;const u=e%30;let f;if(u==0)f=0-d-c,f&=1073741823;else{const p=32-u;d=d<<p>>>p;const m=1<<32-p;f=m-d-c,f&=m-1}return o.__setDigit(l,f),o.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,n){this[e]=0|n}__setDigitGrow(e,n){this[e]=0|n}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,n){const r=e>>>1,i=this.__digit(r),s=1&e?32767&i|n<<15:1073709056&i|32767&n;this.__setDigit(r,s)}static __digitPow(e,n){let r=1;for(;0<n;)1&n&&(r*=e),n>>>=1,e*=e;return r}static __isOneDigitInt(e){return(1073741823&e)===e}}_.__kMaxLength=33554432,_.__kMaxLengthBits=_.__kMaxLength<<5,_.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],_.__kBitsPerCharTableShift=5,_.__kBitsPerCharTableMultiplier=1<<_.__kBitsPerCharTableShift,_.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_.__kBitConversionBuffer=new ArrayBuffer(8),_.__kBitConversionDouble=new Float64Array(_.__kBitConversionBuffer),_.__kBitConversionInts=new Int32Array(_.__kBitConversionBuffer),_.__clz30=Math.clz32?function(t){return Math.clz32(t)-2}:function(t){return t===0?30:0|29-(0|Math.log(t>>>0)/Math.LN2)},_.__imul=Math.imul||function(t,e){return 0|t*e};const Hp={};function mi(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(t,n,r))}for(const n of Object.getOwnPropertyNames(t.prototype)){const r=Object.getOwnPropertyDescriptor(t.prototype,n);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(t.prototype,n,r))}qp(e,t),qp(`${e}.prototype`,t.prototype)}function qp(t,e){const n=`%${t}%`;if(Hp[n]!==void 0)throw new Error(`intrinsic ${t} already exists`);Hp[n]=e}function ce(t){return Hp[t]}const le="slot-epochNanoSeconds",Xi="slot-timezone-identifier",te="slot-year",re="slot-month",ie="slot-day",me="slot-hour",ge="slot-minute",ye="slot-second",ve="slot-millisecond",be="slot-microsecond",we="slot-nanosecond",Y="slot-calendar",an="slot-cached-instant",je="slot-time-zone",un="slot-years",Ht="slot-months",Cn="slot-weeks",hn="slot-days",fn="slot-hours",pn="slot-minutes",mn="slot-seconds",gn="slot-milliseconds",yn="slot-microseconds",vn="slot-nanoseconds",wt="slot-calendar-identifier",Jx=new WeakMap;function gi(t){Jx.set(t,Object.create(null))}function Mg(t){return Jx.get(t)}function zt(t,...e){if(!t||typeof t!="object")return!1;const n=Mg(t);return!!n&&e.reduce((r,i)=>r&&i in n,!0)}function g(t,e){const n=Mg(t)[e];if(n===void 0)throw new TypeError(`Missing internal slot ${e}`);return n}function _e(t,e,n){Mg(t)[e]=n}const mv=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,SO=new RegExp(`(?:(?:${mv.source})(?:\\/(?:${mv.source}))*|Etc/GMT[-+]\\d{1,2}|${/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source})`),gv=/[A-Za-z0-9]{3,8}/,CO=new RegExp(`(?:${gv.source}(?:-${gv.source})*)`),e3=/(?:[+\u2212-]\d{6}|\d{4})/,ru=/(?:0[1-9]|1[0-2])/,Vp=/(?:0[1-9]|[12]\d|3[01])/,DO=new RegExp(`(${e3.source})(?:-(${ru.source})-(${Vp.source})|(${ru.source})(${Vp.source}))`),t3=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,n3=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,r3=new RegExp(`(?:([zZ])|(?:${n3.source})?)(?:\\[(${SO.source})\\])?`),i3=new RegExp(`\\[u-ca=(${CO.source})\\]`),MO=new RegExp(`^${DO.source}(?:(?:T|\\s+)${t3.source})?${r3.source}(?:${i3.source})?$`,"i"),PO=new RegExp(`^T?${t3.source}(?:${r3.source})?(?:${i3.source})?$`,"i"),kO=new RegExp(`^(${e3.source})-?(${ru.source})$`),OO=new RegExp(`^(?:--)?(${ru.source})-?(${Vp.source})$`),Lf=/(\d+)(?:[.,](\d{1,9}))?/,RO=new RegExp(`(?:${Lf.source}H)?(?:${Lf.source}M)?(?:${Lf.source}S)?`),IO=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${RO.source})?$`,"i"),s3=Array.prototype.includes,Pg=Array.prototype.push,o3=globalThis.Intl.DateTimeFormat,NO=Math.min,AO=Math.max,ke=Math.abs,Ut=Math.floor,zl=Math.sign,zo=Math.trunc,mc=Number.isNaN,Vt=Number.isFinite,jO=Number,gc=String,LO=Number.MAX_SAFE_INTEGER,a3=Object.assign,Xt=Object.create,$O=Object.getOwnPropertyDescriptor,FO=Object.is,kg=Reflect.apply,xt=_.BigInt(0),Og=_.BigInt(1),qs=_.BigInt(60),Le=_.BigInt(1e3),fr=_.BigInt(1e6),Ii=_.BigInt(1e9),BO=_.BigInt(-1),hs=_.multiply(_.BigInt(86400),Ii),Wl=_.multiply(_.BigInt(-86400),_.BigInt(1e17)),Hl=_.multiply(_.BigInt(86400),_.BigInt(1e17)),l3=_.multiply(_.BigInt(-388152),_.BigInt(1e13)),UO=_.multiply(hs,_.BigInt(3660)),c3=_.multiply(hs,_.BigInt(366)),d3=_.multiply(hs,_.BigInt(14)),YO=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function u3(t){if(typeof t!="number"||!Vt(t))return!1;const e=ke(t);return Ut(e)===e}function Qe(t){return typeof t=="object"&&t!==null||typeof t=="function"}function ql(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return jO(t)}function $e(t){const e=ql(t);if(mc(e))return 0;const n=zo(e);return e===0?0:n}function fe(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return gc(t)}function Ue(t){const e=$e(t);if(!Vt(e))throw new RangeError("infinity is out of range");return e}function Vl(t,e){const n=$e(t);if(!Vt(n))throw new RangeError("infinity is out of range");if(n<1)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function Bt(t){const e=ql(t);if(mc(e))return 0;if(!Vt(e))throw new RangeError("infinity is out of range");if(!u3(e))throw new RangeError(`unsupported fractional value ${e}`);return $e(e)}function $t(t,e){return{quotient:_.divide(t,e),remainder:_.remainder(t,e)}}function Rg(t){return _.lessThan(t,xt)?_.multiply(t,BO):t}function Qp(t,...e){return Pg.apply(t,e),t}const yv=new Map([["year",Ue],["month",Vl],["monthCode",fe],["day",Vl],["hour",Ue],["minute",Ue],["second",Ue],["millisecond",Ue],["microsecond",Ue],["nanosecond",Ue],["years",Bt],["months",Bt],["weeks",Bt],["days",Bt],["hours",Bt],["minutes",Bt],["seconds",Bt],["milliseconds",Bt],["microseconds",Bt],["nanoseconds",Bt],["era",fe],["eraYear",$e],["offset",fe]]),zO=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Ea=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],iu=new Map(Ea.map(t=>[t[0],t[1]])),WO=new Map(Ea.map(([t,e])=>[e,t])),vv=Ea.map(([,t])=>t),bv=Array.from(iu.keys()).sort(),wv=new Map;function h3(t){let e=wv.get(t);return e===void 0&&(e=new o3("en-us",{timeZone:gc(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),wv.set(t,e)),e}function Ot(t){return zt(t,le)&&!zt(t,je,Y)}function ei(t){return zt(t,Xi)}function bt(t){return zt(t,wt)}function ot(t){return zt(t,un,Ht,hn,fn,pn,mn,gn,yn,vn)}function Ce(t){return zt(t,"slot-date-brand")}function at(t){return zt(t,me,ge,ye,ve,be,we)&&!zt(t,te,re,ie)}function xe(t){return zt(t,te,re,ie,me,ge,ye,ve,be,we)}function Ie(t){return zt(t,"slot-year-month-brand")}function qt(t){return zt(t,"slot-month-day-brand")}function oe(t){return zt(t,le,je,Y)}function Sa(t){if(zt(t,Y)||zt(t,je))throw new TypeError("with() does not support a calendar or timeZone property");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function f3(t){let{ianaName:e,offset:n,z:r}=function(s){try{let o=Fg(s);if(o)return{ianaName:o.toString()}}catch{}try{const o=yi(s);if(o.z||o.offset||o.ianaName)return o}catch{}throw new RangeError(`Invalid time zone: ${s}`)}(t);return e||(r?"UTC":n)}function yc(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[u-ca=${t}]`}function yi(t){const e=MO.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let n=e[1];if(n[0]===""&&(n=`-${n.slice(1)}`),n==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);const r=$e(n),i=$e(e[2]||e[4]),s=$e(e[3]||e[5]),o=$e(e[6]),a=e[6]!==void 0,l=$e(e[7]||e[10]);let c=$e(e[8]||e[11]);c===60&&(c=59);const d=(e[9]||e[12])+"000000000",u=$e(d.slice(0,3)),f=$e(d.slice(3,6)),p=$e(d.slice(6,9));let m,v=!1;if(e[13])m=void 0,v=!0;else if(e[14]&&e[15]){const T=e[14]==="-"||e[14]===""?"-":"+",E=e[15]||"00",S=e[16]||"00",C=e[17]||"00";let M=e[18]||"0";if(m=`${T}${E}:${S}`,+M){for(;M.endsWith("0");)M=M.slice(0,-1);m+=`:${C}.${M}`}else+C&&(m+=`:${C}`);m==="-00:00"&&(m="+00:00")}let b=e[19];if(b)try{b=Fg(b).toString()}catch{}const x=e[20];return zg(r,i,s,o,l,c,u,f,p),{year:r,month:i,day:s,hasTime:a,hour:o,minute:l,second:c,millisecond:u,microsecond:f,nanosecond:p,ianaName:b,offset:m,z:v,calendar:x}}function p3(t){const e=kO.exec(t);let n,r,i,s;if(e){let o=e[1];if(o[0]===""&&(o=`-${o.slice(1)}`),o==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);n=$e(o),r=$e(e[2]),i=e[3]}else{let o;if({year:n,month:r,calendar:i,day:s,z:o}=yi(t),o)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:r,calendar:i,referenceISODay:s}}function m3(t){const e=OO.exec(t);let n,r,i,s;if(e)n=$e(e[1]),r=$e(e[2]);else{let o;if({month:n,day:r,calendar:i,year:s,z:o}=yi(t),o)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:r,calendar:i,referenceISOYear:s}}function HO(t){const e=IO.exec(t);if(!e)throw new RangeError(`invalid duration: ${t}`);if(e.slice(2).every(b=>b===void 0))throw new RangeError(`invalid duration: ${t}`);const n=e[1]==="-"||e[1]===""?-1:1,r=$e(e[2])*n,i=$e(e[3])*n,s=$e(e[4])*n,o=$e(e[5])*n,a=$e(e[6])*n;let l=e[7],c=$e(e[8])*n,d=e[9],u=$e(e[10])*n;const f=e[11]+"000000000";let p=$e(f.slice(0,3))*n,m=$e(f.slice(3,6))*n,v=$e(f.slice(6,9))*n;return l=l?n*$e(l)/10**l.length:0,d=d?n*$e(d)/10**d.length:0,{minutes:c,seconds:u,milliseconds:p,microseconds:m,nanoseconds:v}=function(x,T,E,S,C,M,P){let R=x,I=T,U=E,L=S,z=C,q=M,W=P;if(R!==0){[I,U,L,z,q,W].forEach(Z=>{if(Z!==0)throw new RangeError("only the smallest unit can be fractional")});const B=60*R;I=zo(B),U=B%1}if(U!==0){[L,z,q,W].forEach(ne=>{if(ne!==0)throw new RangeError("only the smallest unit can be fractional")});const B=60*U;L=zo(B);const Z=B%1;if(Z!==0){const ne=1e3*Z;z=zo(ne);const J=ne%1;if(J!==0){const G=1e3*J;q=zo(G);const K=G%1;K!==0&&(W=zo(1e3*K))}}}return{minutes:I,seconds:L,milliseconds:z,microseconds:q,nanoseconds:W}}(l,c,d,u,p,m,v),ph(r,i,s,o,a,c,u,p,m,v),{years:r,months:i,weeks:s,days:o,hours:a,minutes:c,seconds:u,milliseconds:p,microseconds:m,nanoseconds:v}}function qO(t){let{year:e,month:n,day:r,hour:i,minute:s,second:o,millisecond:a,microsecond:l,nanosecond:c,offset:d,z:u}=function(v){const b=yi(v);if(!b.z&&!b.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return b}(t);if(!u&&!d)throw new RangeError("Temporal.Instant requires a time zone offset");const f=u?0:oo(d);({year:e,month:n,day:r,hour:i,minute:s,second:o,millisecond:a,microsecond:l,nanosecond:c}=Ug(e,n,r,i,s,o,a,l,c-f));const p=ms(e,n,r,i,s,o,a,l,c);if(p===null)throw new RangeError("DateTime outside of supported range");return p}function su(t,e,n,r){let i=t,s=e,o=n;switch(r){case"reject":di(i,s,o);break;case"constrain":({year:i,month:s,day:o}=k3(i,s,o))}return{year:i,month:s,day:o}}function th(t,e,n,r,i,s,o){let a=t,l=e,c=n,d=r,u=i,f=s;switch(o){case"reject":fh(a,l,c,d,u,f);break;case"constrain":({hour:a,minute:l,second:c,millisecond:d,microsecond:u,nanosecond:f}=function(m,v,b,x,T,E){const S=zn(m,0,23),C=zn(v,0,59),M=zn(b,0,59),P=zn(x,0,999),R=zn(T,0,999),I=zn(E,0,999);return{hour:S,minute:C,second:M,millisecond:P,microsecond:R,nanosecond:I}}(a,l,c,d,u,f))}return{hour:a,minute:l,second:c,millisecond:d,microsecond:u,nanosecond:f}}function go(t){if(!Qe(t))return HO(fe(t));if(ot(t))return{years:g(t,un),months:g(t,Ht),weeks:g(t,Cn),days:g(t,hn),hours:g(t,fn),minutes:g(t,pn),seconds:g(t,mn),milliseconds:g(t,gn),microseconds:g(t,yn),nanoseconds:g(t,vn)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(m){if(!Qe(m))throw new TypeError("invalid duration-like");const v={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let b=!1;for(const x of bv){const T=m[x];T!==void 0&&(b=!0,v[x]=Bt(T))}if(!b)throw new TypeError("invalid duration-like");return v}(t);for(const p of bv){const m=n[p];m!==void 0&&(e[p]=m)}let{years:r,months:i,weeks:s,days:o,hours:a,minutes:l,seconds:c,milliseconds:d,microseconds:u,nanoseconds:f}=e;return ph(r,i,s,o,a,l,c,d,u,f),{years:r,months:i,weeks:s,days:o,hours:a,minutes:l,seconds:c,milliseconds:d,microseconds:u,nanoseconds:f}}function Tt(t){return t===void 0?"constrain":ys(t,"overflow",["constrain","reject"],"constrain")}function Ql(t){return t===void 0?"compatible":ys(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function kn(t,e){return ys(t,"roundingMode",["ceil","floor","trunc","halfExpand"],e)}function vc(t){switch(t){case"ceil":return"floor";case"floor":return"ceil";default:return t}}function Kp(t,e){return t===void 0?e:ys(t,"offset",["prefer","use","ignore","reject"],e)}function bc(t){return ys(t,"calendarName",["auto","always","never"],"auto")}function Fi(t,e,n){let r=1/0;e!==void 0&&(r=e),n||e===void 0||(r=e>1?e-1:1);const i=function(o,a,l,c,d){let u=o[a];if(u===void 0)return d;const f=ql(u);if(mc(f)||f<l||f>c)throw new RangeError(`${String(a)} must be between ${l} and ${c}, not ${f}`);return Ut(f)}(t,"roundingIncrement",1,r,1);if(e!==void 0&&e%i!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`);return i}function Ig(t,e){return Fi(t,{year:void 0,month:void 0,week:void 0,day:void 0,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[e],!1)}function wc(t){const e=Yt(t,"smallestUnit","time",void 0);if(e==="hour"){const i=Ea.reduce((s,[o,a,l])=>(l==="time"&&a!=="hour"&&s.push(a,o),s),[]);throw new RangeError(`smallestUnit must be one of ${i.join(", ")}, not ${e}`)}switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}let n=t.fractionalSecondDigits;if(n===void 0&&(n="auto"),typeof n!="number"){const i=fe(n);if(i==="auto")return{precision:"auto",unit:"nanosecond",increment:1};throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${i}`)}if(mc(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`);const r=Ut(n);switch(r){case 0:return{precision:r,unit:"second",increment:1};case 1:case 2:case 3:return{precision:r,unit:"millisecond",increment:10**(3-r)};case 4:case 5:case 6:return{precision:r,unit:"microsecond",increment:10**(6-r)};case 7:case 8:case 9:return{precision:r,unit:"nanosecond",increment:10**(9-r)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${n}`)}}const ro=Symbol("~required~");function Yt(t,e,n,r,i=[]){const s=[];for(const[,c,d]of Ea)n!=="datetime"&&n!==d||s.push(c);s.push(...i);let o=r;o===ro?o=void 0:o!==void 0&&s.push(o);const a=[...s];for(const c of s){const d=WO.get(c);d!==void 0&&a.push(d)}let l=ys(t,e,a,o);if(l===void 0&&r===ro)throw new RangeError(`${e} is required`);return iu.has(l)?iu.get(l):l}function Rd(t){const e=t.relativeTo;if(e===void 0)return e;let n,r,i,s,o,a,l,c,d,u,f,p,m="option",v=!1;if(Qe(e)){if(oe(e)||Ce(e))return e;if(xe(e))return ia(e);u=Ca(e);const b=Te(e,Dt(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]),x=Xt(null);x.overflow="constrain",{year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d}=xc(u,b,x),p=e.offset,p===void 0&&(m="wall"),f=e.timeZone}else{let b,x;({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d,calendar:u,ianaName:b,offset:p,z:x}=yi(fe(e))),b&&(f=b),x?m="exact":p||(m="wall"),u||(u=Et()),u=Qt(u),v=!0}if(f!==void 0){f=xn(f);let b=0;return m==="option"&&(b=oo(fe(p))),Kt(au(n,r,i,s,o,a,l,c,d,m,b,f,"compatible","reject",v),f,u)}return Or(n,r,i,u)}function Gp(t,e,n,r,i,s,o,a,l,c){for(const[d,u]of[["years",t],["months",e],["weeks",n],["days",r],["hours",i],["minutes",s],["seconds",o],["milliseconds",a],["microseconds",l],["nanoseconds",c]])if(u!==0)return iu.get(d);return"nanosecond"}function qn(t,e){return vv.indexOf(t)>vv.indexOf(e)?e:t}function nh(t,e){let n=t;return n===void 0&&(n=Xt(null)),a3(Xt(null),n,{largestUnit:e})}function Te(t,e,n,{emptySourceErrorMessage:r}={emptySourceErrorMessage:"no supported properties found"}){const i=Xt(null);let s=!1;for(const o of e){let a=t[o];if(a!==void 0)s=!0,yv.has(o)&&(a=yv.get(o)(a)),i[o]=a;else if(n!=="partial"){if(s3.call(n,o))throw new TypeError(`required property '${o}' missing or undefined`);a=zO.get(o),i[o]=a}}if(n==="partial"&&!s)throw new TypeError(r);if(i.era===void 0!=(i.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together");return i}function ou(t,e="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],r=Te(t,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),i={};for(const s of n){const o=$O(r,s);o!==void 0?i[s]=o.value:e==="complete"&&(i[s]=0)}return i}function Be(t,e){let n=t;if(Qe(n)){if(Ce(n))return n;if(oe(n)&&(Tt(e),n=or(g(n,je),g(n,an),g(n,Y))),xe(n))return Tt(e),Or(g(n,te),g(n,re),g(n,ie),g(n,Y));const l=Ca(n);return ps(l,Te(n,Dt(l,["day","month","monthCode","year"]),[]),e)}Tt(e);const{year:r,month:i,day:s,calendar:o,z:a}=function(c){return yi(c)}(fe(n));if(a)throw new RangeError("Z designator not supported for PlainDate");return new(ce("%Temporal.PlainDate%"))(r,i,s,o)}function xc(t,e,n){let{hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:l}=ou(e);const c=Tt(n),d=ps(t,e,n),u=g(d,te),f=g(d,re),p=g(d,ie);return{hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:l}=th(r,i,s,o,a,l,c),{year:u,month:f,day:p,hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:l}}function Us(t,e){let n,r,i,s,o,a,l,c,d,u;if(Qe(t)){if(xe(t))return t;if(oe(t))return Tt(e),or(g(t,je),g(t,an),g(t,Y));if(Ce(t))return Tt(e),Yn(g(t,te),g(t,re),g(t,ie),0,0,0,0,0,0,g(t,Y));u=Ca(t);const f=Te(t,Dt(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d}=xc(u,f,e))}else{let f;if(Tt(e),{year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d,calendar:u,z:f}=function(m){return yi(m)}(fe(t)),f)throw new RangeError("Z designator not supported for PlainDateTime");zg(n,r,i,s,o,a,l,c,d),u===void 0&&(u=Et()),u=Qt(u)}return Yn(n,r,i,s,o,a,l,c,d,u)}function Ko(t){if(ot(t))return t;let{years:e,months:n,weeks:r,days:i,hours:s,minutes:o,seconds:a,milliseconds:l,microseconds:c,nanoseconds:d}=go(t);return new(ce("%Temporal.Duration%"))(e,n,r,i,s,o,a,l,c,d)}function ii(t){if(Ot(t))return t;if(oe(t))return new(ce("%Temporal.Instant%"))(g(t,le));const e=qO(fe(t));return new(ce("%Temporal.Instant%"))(e)}function xv(t,e){let n=t;if(Qe(n)){if(qt(n))return n;let l,c;if(zt(n,Y))l=g(n,Y),c=!1;else{let u=n.calendar;c=u===void 0,u===void 0&&(u=Et()),l=Qt(u)}n=n;const d=Te(n,Dt(l,["day","month","monthCode","year"]),[]);return c&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),ra(l,d,e)}Tt(e);let{month:r,day:i,referenceISOYear:s,calendar:o}=m3(fe(n)),a=o;return a===void 0&&(a=Et()),a=Qt(a),s===void 0?(di(1972,r,i),Kl(r,i,a)):ra(a,Kl(r,i,a,s))}function Ri(t,e="constrain"){let n,r,i,s,o,a,l,c=t;if(Qe(c)){if(at(c))return c;if(oe(c)&&(c=or(g(c,je),g(c,an),g(c,Y))),xe(c))return new(ce("%Temporal.PlainTime%"))(g(c,me),g(c,ge),g(c,ye),g(c,ve),g(c,be),g(c,we));if(l=Ca(c),fe(l)!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");({hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a}=ou(c)),{hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a}=th(n,r,i,s,o,a,e)}else if({hour:n,minute:r,second:i,millisecond:s,microsecond:o,nanosecond:a,calendar:l}=function(u){const f=PO.exec(u);let p,m,v,b,x,T,E;if(f){p=$e(f[1]),m=$e(f[2]||f[5]),v=$e(f[3]||f[6]),v===60&&(v=59);const S=(f[4]||f[7])+"000000000";b=$e(S.slice(0,3)),x=$e(S.slice(3,6)),T=$e(S.slice(6,9)),E=f[15]}else{let S,C;if({hasTime:C,hour:p,minute:m,second:v,millisecond:b,microsecond:x,nanosecond:T,calendar:E,z:S}=yi(u),!C)throw new RangeError(`time is missing in string: ${u}`);if(S)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(u))return{hour:p,minute:m,second:v,millisecond:b,microsecond:x,nanosecond:T,calendar:E};try{const{month:S,day:C}=m3(u);di(1972,S,C)}catch{try{const{year:S,month:C}=p3(u);di(S,C,1)}catch{return{hour:p,minute:m,second:v,millisecond:b,microsecond:x,nanosecond:T,calendar:E}}}throw new RangeError(`invalid ISO 8601 time-only string ${u}; may need a T prefix`)}(fe(c)),fh(n,r,i,s,o,a),l!==void 0&&l!=="iso8601")throw new RangeError("PlainTime can only have iso8601 calendar");return new(ce("%Temporal.PlainTime%"))(n,r,i,s,o,a)}function gl(t,e){if(Qe(t)){if(Ie(t))return t;const a=Ca(t);return so(a,Te(t,Dt(a,["month","monthCode","year"]),[]),e)}Tt(e);let{year:n,month:r,referenceISODay:i,calendar:s}=p3(fe(t)),o=s;return o===void 0&&(o=Et()),o=Qt(o),i===void 0?(di(n,r,1),Gl(n,r,o)):so(o,Gl(n,r,o,i))}function au(t,e,n,r,i,s,o,a,l,c,d,u,f,p,m){const v=new(ce("%Temporal.PlainDateTime%"))(t,e,n,r,i,s,o,a,l);if(c==="wall"||p==="ignore")return g(wn(u,v,f),le);if(c==="exact"||p==="use"){const x=ms(t,e,n,r,i,s,o,a,l);if(x===null)throw new RangeError("ZonedDateTime outside of supported range");return _.subtract(x,_.BigInt(d))}const b=lu(u,v);for(const x of b){const T=Qr(u,x),E=_.toNumber(Fn(_.BigInt(T),6e10,"halfExpand"));if(T===d||m&&E===d)return g(x,le)}if(p==="reject"){const x=Bg(d),T=ei(u)?g(u,Xi):"time zone";throw new RangeError(`Offset ${x} is invalid for ${v.toString()} in ${T}`)}return g(T3(b,u,v,f),le)}function yl(t,e){let n,r,i,s,o,a,l,c,d,u,f,p,m=!1,v="option";if(Qe(t)){if(oe(t))return t;p=Ca(t);const x=Te(t,Qp(Dt(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"timeZone","offset"),["timeZone"]);({year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d}=xc(p,x,e)),u=xn(x.timeZone),f=x.offset,f===void 0?v="wall":f=fe(f)}else{let x,T;if(Tt(e),{year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d,ianaName:x,offset:f,z:T,calendar:p}=function(S){const C=yi(S);if(!C.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return C}(fe(t)),!x)throw new RangeError("time zone ID required in brackets");T?v="exact":f||(v="wall"),u=new(ce("%Temporal.TimeZone%"))(x),p||(p=Et()),p=Qt(p),m=!0}let b=0;return v==="option"&&(b=oo(f)),Kt(au(n,r,i,s,o,a,l,c,d,v,b,u,Ql(e),Kp(e,"reject"),m),u,p)}function g3(t,e,n,r,i){di(e,n,r),O3(e,n,r),gi(t),_e(t,te,e),_e(t,re,n),_e(t,ie,r),_e(t,Y,i),_e(t,"slot-date-brand",!0)}function Or(t,e,n,r=Et()){const i=ce("%Temporal.PlainDate%"),s=Xt(i.prototype);return g3(s,t,e,n,r),s}function y3(t,e,n,r,i,s,o,a,l,c,d){zg(e,n,r,i,s,o,a,l,c),R3(e,n,r,i,s,o,a,l,c),gi(t),_e(t,te,e),_e(t,re,n),_e(t,ie,r),_e(t,me,i),_e(t,ge,s),_e(t,ye,o),_e(t,ve,a),_e(t,be,l),_e(t,we,c),_e(t,Y,d)}function Yn(t,e,n,r,i,s,o,a,l,c=Et()){const d=ce("%Temporal.PlainDateTime%"),u=Xt(d.prototype);return y3(u,t,e,n,r,i,s,o,a,l,c),u}function v3(t,e,n,r,i){di(i,e,n),O3(i,e,n),gi(t),_e(t,re,e),_e(t,ie,n),_e(t,te,i),_e(t,Y,r),_e(t,"slot-month-day-brand",!0)}function Kl(t,e,n=Et(),r=1972){const i=ce("%Temporal.PlainMonthDay%"),s=Xt(i.prototype);return v3(s,t,e,n,r),s}function b3(t,e,n,r,i){di(e,n,i),function(o,a){Gt(o,-271821,275760),o===-271821?Gt(a,4,12):o===275760&&Gt(a,1,9)}(e,n),gi(t),_e(t,te,e),_e(t,re,n),_e(t,ie,i),_e(t,Y,r),_e(t,"slot-year-month-brand",!0)}function Gl(t,e,n=Et(),r=1){const i=ce("%Temporal.PlainYearMonth%"),s=Xt(i.prototype);return b3(s,t,e,n,r),s}function w3(t,e,n,r){Ls(e),gi(t),_e(t,le,e),_e(t,je,n),_e(t,Y,r);const i=new(ce("%Temporal.Instant%"))(g(t,le));_e(t,an,i)}function Kt(t,e,n=Et()){const r=ce("%Temporal.ZonedDateTime%"),i=Xt(r.prototype);return w3(i,t,e,n),i}function Et(){return new(ce("%Temporal.Calendar%"))("iso8601")}function Dt(t,e){let n=e;t.fields&&(n=t.fields(n));const r=[];for(const i of n){if(typeof i!="string")throw new TypeError("bad return from calendar.fields()");Pg.call(r,i)}return r}function io(t,e,n){const r=t.mergeFields;if(!r)return{...e,...n};const i=Reflect.apply(r,t,[e,n]);if(!Qe(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function bn(t,e,n,r,i){let s=i;s===void 0&&(s=t.dateAdd);const o=kg(s,t,[e,n,r]);if(!Ce(o))throw new TypeError("invalid result");return o}function fs(t,e,n,r,i){let s=i;s===void 0&&(s=t.dateUntil);const o=kg(s,t,[e,n,r]);if(!ot(o))throw new TypeError("invalid result");return o}function rh(t,e){const n=t.year(e);if(n===void 0)throw new RangeError("calendar year result must be an integer");return Ue(n)}function ih(t,e){const n=t.month(e);if(n===void 0)throw new RangeError("calendar month result must be a positive integer");return Vl(n)}function _c(t,e){const n=t.monthCode(e);if(n===void 0)throw new RangeError("calendar monthCode result must be a string");return fe(n)}function sh(t,e){const n=t.day(e);if(n===void 0)throw new RangeError("calendar day result must be a positive integer");return Vl(n)}function oh(t,e){let n=t.era(e);return n!==void 0&&(n=fe(n)),n}function ah(t,e){let n=t.eraYear(e);return n!==void 0&&(n=Ue(n)),n}function Ng(t,e){return t.dayOfWeek(e)}function Ag(t,e){return t.dayOfYear(e)}function jg(t,e){return t.weekOfYear(e)}function Lg(t,e){return t.daysInWeek(e)}function Tc(t,e){return t.daysInMonth(e)}function lh(t,e){return t.daysInYear(e)}function ch(t,e){return t.monthsInYear(e)}function dh(t,e){return t.inLeapYear(e)}function Qt(t){let e=t;if(Qe(e)){if(zt(e,Y))return g(e,Y);if(!("calendar"in e)||(e=e.calendar,Qe(e)&&!("calendar"in e)))return e}const n=fe(e),r=ce("%Temporal.Calendar%");if($3(n))return new r(n);let i;try{({calendar:i}=yi(n))}catch{throw new RangeError(`Invalid calendar: ${n}`)}return i||(i="iso8601"),new r(i)}function Ca(t){if(zt(t,Y))return g(t,Y);const{calendar:e}=t;return e===void 0?Et():Qt(e)}function Ec(t,e){return t===e?!0:fe(t)===fe(e)}function x3(t,e){if(t===e)return e;const n=fe(t),r=fe(e);if(n===r||n==="iso8601")return e;if(r==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function ps(t,e,n){const r=t.dateFromFields(e,n);if(!Ce(r))throw new TypeError("invalid result");return r}function so(t,e,n){const r=t.yearMonthFromFields(e,n);if(!Ie(r))throw new TypeError("invalid result");return r}function ra(t,e,n){const r=t.monthDayFromFields(e,n);if(!qt(r))throw new TypeError("invalid result");return r}function xn(t){let e=t;if(Qe(e)){if(oe(e))return g(e,je);if(!("timeZone"in e)||(e=e.timeZone,Qe(e)&&!("timeZone"in e)))return e}const n=f3(fe(e));return new(ce("%Temporal.TimeZone%"))(n)}function _3(t,e){return t===e?!0:fe(t)===fe(e)}function ia(t){return Or(g(t,te),g(t,re),g(t,ie),g(t,Y))}function $g(t){return new(ce("%Temporal.PlainTime%"))(g(t,me),g(t,ge),g(t,ye),g(t,ve),g(t,be),g(t,we))}function Qr(t,e){let n=t.getOffsetNanosecondsFor;if(typeof n!="function")throw new TypeError("getOffsetNanosecondsFor not callable");const r=Reflect.apply(n,t,[e]);if(typeof r!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!u3(r)||ke(r)>864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return r}function Zp(t,e){return Bg(Qr(t,e))}function or(t,e,n){const r=g(e,le),i=Qr(t,e);let{year:s,month:o,day:a,hour:l,minute:c,second:d,millisecond:u,microsecond:f,nanosecond:p}=S3(r);return{year:s,month:o,day:a,hour:l,minute:c,second:d,millisecond:u,microsecond:f,nanosecond:p}=Ug(s,o,a,l,c,d,u,f,p+i),Yn(s,o,a,l,c,d,u,f,p,n)}function wn(t,e,n){return T3(lu(t,e),t,e,n)}function T3(t,e,n,r){const i=ce("%Temporal.Instant%"),s=t.length;if(s===1)return t[0];if(s)switch(r){case"compatible":case"earlier":return t[0];case"later":return t[s-1];case"reject":throw new RangeError("multiple instants found")}const o=g(n,te),a=g(n,re),l=g(n,ie),c=g(n,me),d=g(n,ge),u=g(n,ye),f=g(n,ve),p=g(n,be),m=g(n,we),v=ms(o,a,l,c,d,u,f,p,m);if(v===null)throw new RangeError("DateTime outside of supported range");const b=new i(_.subtract(v,hs)),x=new i(_.add(v,hs)),T=Qr(e,b),E=Qr(e,x)-T;switch(r){case"earlier":{const S=g(n,Y),C=ce("%Temporal.PlainDateTime%"),M=Jp(o,a,l,c,d,u,f,p,m,S,0,0,0,0,0,0,0,0,0,-E,void 0);return lu(e,new C(M.year,M.month,M.day,M.hour,M.minute,M.second,M.millisecond,M.microsecond,M.nanosecond,S))[0]}case"compatible":case"later":{const S=g(n,Y),C=ce("%Temporal.PlainDateTime%"),M=Jp(o,a,l,c,d,u,f,p,m,S,0,0,0,0,0,0,0,0,0,E,void 0),P=lu(e,new C(M.year,M.month,M.day,M.hour,M.minute,M.second,M.millisecond,M.microsecond,M.nanosecond,S));return P[P.length-1]}case"reject":throw new RangeError("no such instant found")}}function lu(t,e){const n=t.getPossibleInstantsFor(e),r=[];for(const i of n){if(!Ot(i))throw new TypeError("bad return from getPossibleInstantsFor");Pg.call(r,i)}return r}function yo(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${ke(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function Je(t){return`00${t}`.slice(-2)}function uh(t,e,n,r,i){if(i==="minute")return"";const s=`:${Je(t)}`;let o,a=1e6*e+1e3*n+r;if(i==="auto"){if(a===0)return s;for(o=`${a}`.padStart(9,"0");o[o.length-1]==="0";)o=o.slice(0,-1)}else{if(i===0)return s;o=`${a}`.padStart(9,"0").slice(0,i)}return`${s}.${o}`}function _v(t,e,n){let r=e;r===void 0&&(r=new(ce("%Temporal.TimeZone%"))("UTC"));const i=or(r,t,Et()),s=yo(g(i,te)),o=Je(g(i,re)),a=Je(g(i,ie)),l=Je(g(i,me)),c=Je(g(i,ge)),d=uh(g(i,ye),g(i,ve),g(i,be),g(i,we),n);let u="Z";return e!==void 0&&(u=E3(Qr(r,t))),`${s}-${o}-${a}T${l}:${c}${d}${u}`}function $f(t,e="auto",n){function r(I){return I<=LO?I.toString(10):_.BigInt(I).toString(10)}const i=g(t,un),s=g(t,Ht),o=g(t,Cn),a=g(t,hn),l=g(t,fn),c=g(t,pn);let d=g(t,mn),u=g(t,gn),f=g(t,yn),p=g(t,vn);const m=oi(i,s,o,a,l,c,d,u,f,p);if(n){const{unit:I,increment:U,roundingMode:L}=n;({seconds:d,milliseconds:u,microseconds:f,nanoseconds:p}=gs(0,0,0,0,0,0,d,u,f,p,U,I,L))}const v=[];i&&v.push(`${r(ke(i))}Y`),s&&v.push(`${r(ke(s))}M`),o&&v.push(`${r(ke(o))}W`),a&&v.push(`${r(ke(a))}D`);const b=[];l&&b.push(`${r(ke(l))}H`),c&&b.push(`${r(ke(c))}M`);const x=[];let T,E,S,C,M=sa(0,0,0,d,u,f,p,0);({quotient:M,remainder:T}=$t(M,Le)),{quotient:M,remainder:E}=$t(M,Le),{quotient:C,remainder:S}=$t(M,Le);const P=1e6*ke(_.toNumber(S))+1e3*ke(_.toNumber(E))+ke(_.toNumber(T));let R;if(e==="auto"){if(P!==0)for(R=`${P}`.padStart(9,"0");R[R.length-1]==="0";)R=R.slice(0,-1)}else e!==0&&(R=`${P}`.padStart(9,"0").slice(0,e));return R&&x.unshift(".",R),_.equal(C,xt)&&!x.length&&e==="auto"||x.unshift(Rg(C).toString()),x.length&&b.push(`${x.join("")}S`),b.length&&b.unshift("T"),v.length||b.length?`${m<0?"-":""}P${v.join("")}${b.join("")}`:"PT0S"}function Tv(t,e="auto"){return`${yo(g(t,te))}-${Je(g(t,re))}-${Je(g(t,ie))}${yc(fe(g(t,Y)),e)}`}function Ev(t,e,n="auto",r){let i=g(t,te),s=g(t,re),o=g(t,ie),a=g(t,me),l=g(t,ge),c=g(t,ye),d=g(t,ve),u=g(t,be),f=g(t,we);if(r){const{unit:p,increment:m,roundingMode:v}=r;({year:i,month:s,day:o,hour:a,minute:l,second:c,millisecond:d,microsecond:u,nanosecond:f}=Vg(i,s,o,a,l,c,d,u,f,m,p,v))}return`${yo(i)}-${Je(s)}-${Je(o)}T${Je(a)}:${Je(l)}${uh(c,d,u,f,e)}${yc(fe(g(t,Y)),n)}`}function Sv(t,e="auto"){let n=`${Je(g(t,re))}-${Je(g(t,ie))}`;const r=fe(g(t,Y));(e==="always"||r!=="iso8601")&&(n=`${yo(g(t,te))}-${n}`);const i=yc(r,e);return i&&(n+=i),n}function Cv(t,e="auto"){let n=`${yo(g(t,te))}-${Je(g(t,re))}`;const r=fe(g(t,Y));(e==="always"||r!=="iso8601")&&(n+=`-${Je(g(t,ie))}`);const i=yc(r,e);return i&&(n+=i),n}function Dv(t,e,n="auto",r="auto",i="auto",s){let o=g(t,an);if(s){const{unit:d,increment:u,roundingMode:f}=s,p=du(g(t,le),u,d,f);o=new(ce("%Temporal.Instant%"))(p)}const a=g(t,je),l=or(a,o,Et());let c=`${yo(g(l,te))}-${Je(g(l,re))}-${Je(g(l,ie))}T${Je(g(l,me))}:${Je(g(l,ge))}${uh(g(l,ye),g(l,ve),g(l,be),g(l,we),e)}`;return i!=="never"&&(c+=E3(Qr(a,o))),r!=="never"&&(c+=`[${a}]`),c+=yc(fe(g(t,Y)),n),c}function vl(t){return F3.test(gc(t))}function oo(t){const e=F3.exec(gc(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]===""?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function Fg(t){return vl(t)?Bg(oo(t)):h3(gc(t)).resolvedOptions().timeZone}function Mi(t,e){const{year:n,month:r,day:i,hour:s,minute:o,second:a,millisecond:l,microsecond:c,nanosecond:d}=C3(t,e),u=ms(n,r,i,s,o,a,l,c,d);if(u===null)throw new RangeError("Date outside of supported range");return _.toNumber(_.subtract(u,t))}function Bg(t){const e=t<0?"-":"+",n=ke(t),r=n%1e9,i=Ut(n/1e9)%60,s=Ut(n/6e10)%60,o=Je(Ut(n/36e11)),a=Je(s),l=Je(i);let c="";if(r){let d=`${r}`.padStart(9,"0");for(;d[d.length-1]==="0";)d=d.slice(0,-1);c=`:${l}.${d}`}else i&&(c=`:${l}`);return`${e}${o}:${a}${c}`}function E3(t){let e=_.toNumber(Fn(_.BigInt(t),6e10,"halfExpand"));const n=e<0?"-":"+";e=ke(e);const r=e/6e10%60;return`${n}${Je(Ut(e/36e11))}:${Je(r)}`}function ms(t,e,n,r,i,s,o,a,l){const c=new Date;c.setUTCHours(r,i,s,o),c.setUTCFullYear(t,e-1,n);const d=c.getTime();if(mc(d))return null;let u=_.multiply(_.BigInt(d),fr);return u=_.add(u,_.multiply(_.BigInt(a),Le)),u=_.add(u,_.BigInt(l)),_.lessThan(u,Wl)||_.greaterThan(u,Hl)?null:u}function S3(t){const{quotient:e,remainder:n}=$t(t,fr);let r=_.toNumber(e),i=_.toNumber(n);i<0&&(i+=1e6,r-=1);const s=Ut(i/1e3)%1e3,o=i%1e3,a=new Date(r);return{epochMilliseconds:r,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:s,nanosecond:o}}function C3(t,e){const{epochMilliseconds:n,millisecond:r,microsecond:i,nanosecond:s}=S3(t),{year:o,month:a,day:l,hour:c,minute:d,second:u}=function(p,m){const v=h3(p);return function(x){const T=x.split(/[^\w]+/);if(T.length!==7)throw new RangeError(`expected 7 parts in "${x}`);const E=+T[0],S=+T[1];let C=+T[2];const M=T[3].toUpperCase();if(M==="B"||M==="BC")C=1-C;else if(M!=="A"&&M!=="AD")throw new RangeError(`Unknown era ${M} in "${x}`);let P=+T[4];P===24&&(P=0);const R=+T[5],I=+T[6];if(!(Vt(C)&&Vt(E)&&Vt(S)&&Vt(P)&&Vt(R)&&Vt(I)))throw new RangeError(`Invalid number in "${x}`);return{year:C,month:E,day:S,hour:P,minute:R,second:I}}(v.format(new Date(m)))}(e,n);return Ug(o,a,l,c,d,u,r,i,s)}function Mv(t,e){return _.lessThan(t,e)?e:t}function D3(){return _.add(Kg(),UO)}function M3(t,e){const n=D3(),r=_.greaterThan(t,n),i=r?_.subtract(t,c3):l3;let s=_.subtract(t,Og);const o=Mi(s,e);let a=s,l=o;for(;o===l&&_.greaterThan(s,i);)a=_.subtract(s,d3),l=Mi(a,e),o===l&&(s=a);return o===l?r?M3(_.subtract(n,hs),e):null:B3(c=>Mi(c,e),a,s,l,o)}function ns(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Ni(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[ns(t)?"leapyear":"standard"][e-1]}function Ff(t,e,n){const r=e+(e<3?10:-2),i=t-(e<3?1:0),s=Ut(i/100),o=i-100*s,a=(n+Ut(2.6*r-.2)+(o+Ut(o/4))+(Ut(s/4)-2*s))%7;return a+(a<=0?7:0)}function cu(t,e,n){let r=n;for(let i=e-1;i>0;i--)r+=Ni(t,i);return r}function oi(t,e,n,r,i,s,o,a,l,c){for(const d of[t,e,n,r,i,s,o,a,l,c])if(d!==0)return d<0?-1:1;return 0}function Id(t,e){let n=t,r=e;if(!Vt(n)||!Vt(r))throw new RangeError("infinity is out of range");return r-=1,n+=Ut(r/12),r%=12,r<0&&(r+=12),r+=1,{year:n,month:r}}function hh(t,e,n){let r=t,i=e,s=n;if(!Vt(s))throw new RangeError("infinity is out of range");({year:r,month:i}=Id(r,i));let o=0,a=i>2?r:r-1;for(;o=ns(a)?366:365,s<-o;)r-=1,a-=1,s+=o;for(a+=1;o=ns(a)?366:365,s>o;)r+=1,a+=1,s-=o;for(;s<1;)({year:r,month:i}=Id(r,i-1)),s+=Ni(r,i);for(;s>Ni(r,i);)s-=Ni(r,i),{year:r,month:i}=Id(r,i+1);return{year:r,month:i,day:s}}function Ug(t,e,n,r,i,s,o,a,l){const{deltaDays:c,hour:d,minute:u,second:f,millisecond:p,microsecond:m,nanosecond:v}=Pi(r,i,s,o,a,l),{year:b,month:x,day:T}=hh(t,e,n+c);return{year:b,month:x,day:T,hour:d,minute:u,second:f,millisecond:p,microsecond:m,nanosecond:v}}function Pi(t,e,n,r,i,s){let o=t,a=e,l=n,c=r,d=i,u=s;if(!(Vt(o)&&Vt(a)&&Vt(l)&&Vt(c)&&Vt(d)&&Vt(u)))throw new RangeError("infinity is out of range");d+=Ut(u/1e3),u=No(u,1e3),c+=Ut(d/1e3),d=No(d,1e3),l+=Ut(c/1e3),c=No(c,1e3),a+=Ut(l/60),l=No(l,60),o+=Ut(a/60),a=No(a,60);const f=Ut(o/24);return o=No(o,24),{deltaDays:f,hour:o,minute:a,second:l,millisecond:c,microsecond:d,nanosecond:u}}function sa(t,e,n,r,i,s,o,a){const l=_.BigInt(t);let c=_.BigInt(o);t!==0&&(c=_.subtract(_.BigInt(o),_.BigInt(a)));const d=_.add(_.BigInt(e),_.multiply(l,_.BigInt(24))),u=_.add(_.BigInt(n),_.multiply(d,qs)),f=_.add(_.BigInt(r),_.multiply(u,qs)),p=_.add(_.BigInt(i),_.multiply(f,Le)),m=_.add(_.BigInt(s),_.multiply(p,Le));return _.add(_.BigInt(c),_.multiply(m,Le))}function Yg(t,e){const n=ce("%Temporal.Instant%"),r=zl(_.toNumber(t));let i=_.BigInt(t),s=864e11;if(r===0)return{days:0,nanoseconds:xt,dayLengthNs:s};if(!oe(e)){let T;return{quotient:T,remainder:i}=$t(i,_.BigInt(s)),{days:_.toNumber(T),nanoseconds:i,dayLengthNs:s}}const o=g(e,le),a=g(e,an),l=_.add(o,i),c=new n(l),d=g(e,je),u=g(e,Y),f=or(d,a,u),p=or(d,c,u);let{days:m}=qg(g(f,te),g(f,re),g(f,ie),g(f,me),g(f,ge),g(f,ye),g(f,ve),g(f,be),g(f,we),g(p,te),g(p,re),g(p,ie),g(p,me),g(p,ge),g(p,ye),g(p,ve),g(p,be),g(p,we),u,"day",Xt(null)),v=pr(a,d,u,0,0,0,m,0,0,0,0,0,0);if(r===1)for(;m>0&&_.greaterThan(v,l);)--m,v=pr(a,d,u,0,0,0,m,0,0,0,0,0,0);i=_.subtract(l,v);let b=!1,x=new n(v);do{const T=pr(x,d,u,0,0,0,r,0,0,0,0,0,0),E=g(x,le);s=_.toNumber(_.subtract(T,E)),b=_.greaterThan(_.multiply(_.subtract(i,_.BigInt(s)),_.BigInt(r)),xt),b&&(i=_.subtract(i,_.BigInt(s)),x=new n(T),m+=r)}while(b);return{days:m,nanoseconds:i,dayLengthNs:ke(s)}}function Hn(t,e,n,r,i,s,o,a,l){let c,d,u,f,p,m,v=t;if(oe(l)){const x=pr(g(l,an),g(l,je),g(l,Y),0,0,0,v,e,n,r,i,s,o),T=g(l,le);c=_.subtract(x,T)}else c=sa(v,e,n,r,i,s,o,0);a==="year"||a==="month"||a==="week"||a==="day"?{days:v,nanoseconds:c}=Yg(c,l):v=0;const b=_.lessThan(c,xt)?-1:1;switch(c=Rg(c),d=u=f=p=m=xt,a){case"year":case"month":case"week":case"day":case"hour":({quotient:d,remainder:c}=$t(c,Le)),{quotient:u,remainder:d}=$t(d,Le),{quotient:f,remainder:u}=$t(u,Le),{quotient:p,remainder:f}=$t(f,qs),{quotient:m,remainder:p}=$t(p,qs);break;case"minute":({quotient:d,remainder:c}=$t(c,Le)),{quotient:u,remainder:d}=$t(d,Le),{quotient:f,remainder:u}=$t(u,Le),{quotient:p,remainder:f}=$t(f,qs);break;case"second":({quotient:d,remainder:c}=$t(c,Le)),{quotient:u,remainder:d}=$t(d,Le),{quotient:f,remainder:u}=$t(u,Le);break;case"millisecond":({quotient:d,remainder:c}=$t(c,Le)),{quotient:u,remainder:d}=$t(d,Le);break;case"microsecond":({quotient:d,remainder:c}=$t(c,Le));break;case"nanosecond":break;default:throw new Error("assert not reached")}return{days:v,hours:_.toNumber(m)*b,minutes:_.toNumber(p)*b,seconds:_.toNumber(f)*b,milliseconds:_.toNumber(u)*b,microseconds:_.toNumber(d)*b,nanoseconds:_.toNumber(c)*b}}function ed(t,e,n,r,i,s){let o=t,a=e,l=n,c=r;const d=ce("%Temporal.Duration%"),u=oi(o,a,l,c,0,0,0,0,0,0);let f,p;s&&(p=Be(s),f=g(p,Y));const m=new d(u),v=new d(0,u),b=new d(0,0,u);switch(i){case"year":break;case"month":{if(!f)throw new RangeError("a starting point is required for months balancing");const x=f.dateAdd,T=f.dateUntil;let E=p;for(;ke(o)>0;){const S=bn(f,E,m,void 0,x),C=Xt(null);C.largestUnit="month";const M=g(fs(f,E,S,C,T),Ht);E=S,a+=M,o-=u}}break;case"week":if(!f)throw new RangeError("a starting point is required for weeks balancing");for(;ke(o)>0;){let x;({relativeTo:p,days:x}=rn(f,p,m)),c+=x,o-=u}for(;ke(a)>0;){let x;({relativeTo:p,days:x}=rn(f,p,v)),c+=x,a-=u}break;default:for(;ke(o)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let x;({relativeTo:p,days:x}=rn(f,p,m)),c+=x,o-=u}for(;ke(a)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let x;({relativeTo:p,days:x}=rn(f,p,v)),c+=x,a-=u}for(;ke(l)>0;){if(!f)throw new RangeError("a starting point is required for balancing calendar units");let x;({relativeTo:p,days:x}=rn(f,p,b)),c+=x,l-=u}}return{years:o,months:a,weeks:l,days:c}}function Pv(t,e,n,r,i){if(oe(t)){const s=g(t,an),o=g(t,je),a=g(t,Y),l=Qr(o,s),c=pr(s,o,a,e,n,r,i,0,0,0,0,0,0);return Qr(o,new(ce("%Temporal.Instant%"))(c))-l}return 0}function P3(t){return new(ce("%Temporal.Duration%"))(-g(t,un),-g(t,Ht),-g(t,Cn),-g(t,hn),-g(t,fn),-g(t,pn),-g(t,mn),-g(t,gn),-g(t,yn),-g(t,vn))}function zn(t,e,n){return NO(n,AO(e,t))}function k3(t,e,n){const r=zn(e,1,12);return{year:t,month:r,day:zn(n,1,Ni(t,r))}}function Gt(t,e,n){if(t<e||t>n)throw new RangeError(`value out of range: ${e} <= ${t} <= ${n}`)}function di(t,e,n){Gt(e,1,12),Gt(n,1,Ni(t,e))}function O3(t,e,n){R3(t,e,n,12,0,0,0,0,0)}function fh(t,e,n,r,i,s){Gt(t,0,23),Gt(e,0,59),Gt(n,0,59),Gt(r,0,999),Gt(i,0,999),Gt(s,0,999)}function zg(t,e,n,r,i,s,o,a,l){di(t,e,n),fh(r,i,s,o,a,l)}function R3(t,e,n,r,i,s,o,a,l){if(Gt(t,-271821,275760),t===-271821&&ms(t,e,n+1,r,i,s,o,a,l-1)==null||t===275760&&ms(t,e,n-1,r,i,s,o,a,l+1)==null)throw new RangeError("DateTime outside of supported range")}function Ls(t){if(_.lessThan(t,Wl)||_.greaterThan(t,Hl))throw new RangeError("Instant outside of supported range")}function ph(t,e,n,r,i,s,o,a,l,c){const d=oi(t,e,n,r,i,s,o,a,l,c);for(const u of[t,e,n,r,i,s,o,a,l,c]){if(!Vt(u))throw new RangeError("infinite values not allowed as duration fields");const f=zl(u);if(f!==0&&f!==d)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Wg(t,e,n,r,i,s,o){switch(o){case"year":case"month":{const a=-rs(t,e,n,r,i,s);if(a===0)return{years:0,months:0,weeks:0,days:0};const l={year:t,month:e},c={year:r,month:i,day:s};let d=c.year-l.year,u=Vs(t,e,n,d,0,0,0,"constrain"),f=-rs(u.year,u.month,u.day,r,i,s);if(f===0)return o==="year"?{years:d,months:0,weeks:0,days:0}:{years:0,months:12*d,weeks:0,days:0};let p=c.month-l.month;if(f!==a&&(d-=a,p+=12*a),u=Vs(t,e,n,d,p,0,0,"constrain"),f=-rs(u.year,u.month,u.day,r,i,s),f===0)return o==="year"?{years:d,months:p,weeks:0,days:0}:{years:0,months:p+12*d,weeks:0,days:0};f!==a&&(p-=a,p===-a&&(d-=a,p=11*a),u=Vs(t,e,n,d,p,0,0,"constrain"));let m=0;return m=u.month===c.month?c.day-u.day:a<0?-u.day-(Ni(c.year,c.month)-c.day):c.day+(Ni(u.year,u.month)-u.day),o==="month"&&(p+=12*d,d=0),{years:d,months:p,weeks:0,days:m}}case"week":case"day":{let a,l,c;rs(t,e,n,r,i,s)<0?(l={year:t,month:e,day:n},a={year:r,month:i,day:s},c=1):(l={year:r,month:i,day:s},a={year:t,month:e,day:n},c=-1);let d=cu(a.year,a.month,a.day)-cu(l.year,l.month,l.day);for(let f=l.year;f<a.year;++f)d+=ns(f)?366:365;let u=0;return o==="week"&&(u=Ut(d/7),d%=7),u*=c,d*=c,{years:0,months:0,weeks:u,days:d}}default:throw new Error("assert not reached")}}function I3(t,e,n,r,i,s,o,a,l,c,d,u){let f=o-t,p=a-e,m=l-n,v=c-r,b=d-i,x=u-s;const T=oi(0,0,0,0,f,p,m,v,b,x);f*=T,p*=T,m*=T,v*=T,b*=T,x*=T;let E=0;if({deltaDays:E,hour:f,minute:p,second:m,millisecond:v,microsecond:b,nanosecond:x}=Pi(f,p,m,v,b,x),E!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return f*=T,p*=T,m*=T,v*=T,b*=T,x*=T,{hours:f,minutes:p,seconds:m,milliseconds:v,microseconds:b,nanoseconds:x}}function Hg(t,e,n,r,i){const s=_.subtract(e,t),o=_.remainder(s,_.BigInt(864e11)),a=_.subtract(s,o),l=Fn(o,Gg[r]*n,i),c=_.add(a,l),d=_.toNumber(_.remainder(c,Le)),u=_.toNumber(_.remainder(_.divide(c,Le),Le)),f=_.toNumber(_.remainder(_.divide(c,fr),Le));return{seconds:_.toNumber(_.divide(c,Ii)),milliseconds:f,microseconds:u,nanoseconds:d}}function qg(t,e,n,r,i,s,o,a,l,c,d,u,f,p,m,v,b,x,T,E,S){let C=t,M=e,P=n,{hours:R,minutes:I,seconds:U,milliseconds:L,microseconds:z,nanoseconds:q}=I3(r,i,s,o,a,l,f,p,m,v,b,x);const W=oi(0,0,0,0,R,I,U,L,z,q);rs(c,d,u,C,M,P)===-W&&({year:C,month:M,day:P}=hh(C,M,P-W),{hours:R,minutes:I,seconds:U,milliseconds:L,microseconds:z,nanoseconds:q}=Hn(-W,R,I,U,L,z,q,E));const B=Or(C,M,P,T),Z=Or(c,d,u,T),ne=nh(S,qn("day",E));let{years:J,months:G,weeks:K,days:Q}=fs(T,B,Z,ne);return{days:Q,hours:R,minutes:I,seconds:U,milliseconds:L,microseconds:z,nanoseconds:q}=Hn(Q,R,I,U,L,z,q,E),{years:J,months:G,weeks:K,days:Q,hours:R,minutes:I,seconds:U,milliseconds:L,microseconds:z,nanoseconds:q}}function N3(t,e,n,r,i,s){const o=_.subtract(e,t);if(_.equal(o,xt))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const a=ce("%Temporal.Instant%"),l=new a(t),c=new a(e),d=or(n,l,r),u=or(n,c,r);let{years:f,months:p,weeks:m,days:v}=qg(g(d,te),g(d,re),g(d,ie),g(d,me),g(d,ge),g(d,ye),g(d,ve),g(d,be),g(d,we),g(u,te),g(u,re),g(u,ie),g(u,me),g(u,ge),g(u,ye),g(u,ve),g(u,be),g(u,we),r,i,s);const b=pr(l,n,r,f,p,m,0,0,0,0,0,0,0);let x=_.subtract(e,b);const T=Kt(b,n,r);({nanoseconds:x,days:v}=Yg(x,T));const{hours:E,minutes:S,seconds:C,milliseconds:M,microseconds:P,nanoseconds:R}=Hn(0,0,0,0,0,0,_.toNumber(x),"hour");return{years:f,months:p,weeks:m,days:v,hours:E,minutes:S,seconds:C,milliseconds:M,microseconds:P,nanoseconds:R}}function kv(t,e,n,r){const i=ii(n);let s,o;[s,o]=t==="until"?[e,i]:[i,e];const a=Ee(r),l=Yt(a,"smallestUnit","time","nanosecond"),c=qn("second",l);let d=Yt(a,"largestUnit","time","auto");if(d==="auto"&&(d=c),qn(d,l)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${l}`);const u=kn(a,"trunc"),f=Fi(a,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[l],!1),p=g(s,le),m=g(o,le);let v,b,{seconds:x,milliseconds:T,microseconds:E,nanoseconds:S}=Hg(p,m,f,l,u);return{hours:v,minutes:b,seconds:x,milliseconds:T,microseconds:E,nanoseconds:S}=Hn(0,0,0,x,T,E,S,d),new(ce("%Temporal.Duration%"))(0,0,0,0,v,b,x,T,E,S)}function Ov(t,e,n,r){const i=t==="since"?-1:1,s=Be(n),o=g(e,Y),a=g(s,Y),l=fe(o),c=fe(a);if(l!==c)throw new RangeError(`cannot compute difference between dates of ${l} and ${c} calendars`);const d=Ee(r),u=Yt(d,"smallestUnit","date","day"),f=qn("day",u);let p=Yt(d,"largestUnit","date","auto");if(p==="auto"&&(p=f),qn(p,u)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${u}`);let m=kn(d,"trunc");t==="since"&&(m=vc(m));const v=Fi(d,void 0,!1),b=nh(d,p);let{years:x,months:T,weeks:E,days:S}=fs(o,e,s,b);return u==="day"&&v===1||({years:x,months:T,weeks:E,days:S}=gs(x,T,E,S,0,0,0,0,0,0,v,u,m,e)),new(ce("%Temporal.Duration%"))(i*x,i*T,i*E,i*S,0,0,0,0,0,0)}function Rv(t,e,n,r){const i=t==="since"?-1:1,s=Us(n),o=g(e,Y),a=g(s,Y),l=fe(o),c=fe(a);if(l!==c)throw new RangeError(`cannot compute difference between dates of ${l} and ${c} calendars`);const d=Ee(r),u=Yt(d,"smallestUnit","datetime","nanosecond"),f=qn("day",u);let p=Yt(d,"largestUnit","datetime","auto");if(p==="auto"&&(p=f),qn(p,u)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${u}`);let m=kn(d,"trunc");t==="since"&&(m=vc(m));const v=Ig(d,u);let{years:b,months:x,weeks:T,days:E,hours:S,minutes:C,seconds:M,milliseconds:P,microseconds:R,nanoseconds:I}=qg(g(e,te),g(e,re),g(e,ie),g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we),g(s,te),g(s,re),g(s,ie),g(s,me),g(s,ge),g(s,ye),g(s,ve),g(s,be),g(s,we),o,p,d);const U=ia(e);return{years:b,months:x,weeks:T,days:E,hours:S,minutes:C,seconds:M,milliseconds:P,microseconds:R,nanoseconds:I}=gs(b,x,T,E,S,C,M,P,R,I,v,u,m,U),{days:E,hours:S,minutes:C,seconds:M,milliseconds:P,microseconds:R,nanoseconds:I}=Hn(E,S,C,M,P,R,I,p),new(ce("%Temporal.Duration%"))(i*b,i*x,i*T,i*E,i*S,i*C,i*M,i*P,i*R,i*I)}function Iv(t,e,n,r){const i=t==="since"?-1:1,s=Ri(n),o=Ee(r);let a=Yt(o,"largestUnit","time","auto");a==="auto"&&(a="hour");const l=Yt(o,"smallestUnit","time","nanosecond");if(qn(a,l)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${l}`);let c=kn(o,"trunc");t==="since"&&(c=vc(c));const d=Fi(o,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[l],!1);let{hours:u,minutes:f,seconds:p,milliseconds:m,microseconds:v,nanoseconds:b}=I3(g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we),g(s,me),g(s,ge),g(s,ye),g(s,ve),g(s,be),g(s,we));return{hours:u,minutes:f,seconds:p,milliseconds:m,microseconds:v,nanoseconds:b}=gs(0,0,0,0,u,f,p,m,v,b,d,l,c),{hours:u,minutes:f,seconds:p,milliseconds:m,microseconds:v,nanoseconds:b}=Hn(0,u,f,p,m,v,b,a),new(ce("%Temporal.Duration%"))(0,0,0,0,i*u,i*f,i*p,i*m,i*v,i*b)}function Nv(t,e,n,r){const i=t==="since"?-1:1,s=gl(n),o=g(e,Y),a=g(s,Y),l=fe(o),c=fe(a);if(l!==c)throw new RangeError(`cannot compute difference between months of ${l} and ${c} calendars`);const d=Ee(r),u=Ea.reduce((R,[I,U,L])=>(L==="date"&&U!=="week"&&U!=="day"&&R.push(U,I),R),[]),f=Yt(d,"smallestUnit","date","month");if(f==="week"||f==="day")throw new RangeError(`smallestUnit must be one of ${u.join(", ")}, not ${f}`);let p=Yt(d,"largestUnit","date","auto");if(p==="week"||p==="day")throw new RangeError(`largestUnit must be one of ${u.join(", ")}, not ${p}`);if(p==="auto"&&(p="year"),qn(p,f)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${f}`);let m=kn(d,"trunc");t==="since"&&(m=vc(m));const v=Fi(d,void 0,!1),b=Dt(o,["monthCode","year"]),x=Te(s,b,[]);x.day=1;const T=Te(e,b,[]);T.day=1;const E=ps(o,x),S=ps(o,T),C=nh(d,p);let{years:M,months:P}=fs(o,S,E,C);return f==="month"&&v===1||({years:M,months:P}=gs(M,P,0,0,0,0,0,0,0,0,v,f,m,S)),new(ce("%Temporal.Duration%"))(i*M,i*P,0,0,0,0,0,0,0,0)}function Av(t,e,n,r){const i=t==="since"?-1:1,s=yl(n),o=g(e,Y),a=g(s,Y),l=fe(o),c=fe(a);if(l!==c)throw new RangeError(`cannot compute difference between dates of ${l} and ${c} calendars`);const d=Ee(r),u=Yt(d,"smallestUnit","datetime","nanosecond"),f=qn("hour",u);let p=Yt(d,"largestUnit","datetime","auto");if(p==="auto"&&(p=f),qn(p,u)!==p)throw new RangeError(`largestUnit ${p} cannot be smaller than smallestUnit ${u}`);let m=kn(d,"trunc");t==="since"&&(m=vc(m));const v=Ig(d,u),b=g(e,le),x=g(s,le);let T,E,S,C,M,P,R,I,U,L;if(p!=="year"&&p!=="month"&&p!=="week"&&p!=="day")T=0,E=0,S=0,C=0,{seconds:R,milliseconds:I,microseconds:U,nanoseconds:L}=Hg(b,x,v,u,m),{hours:M,minutes:P,seconds:R,milliseconds:I,microseconds:U,nanoseconds:L}=Hn(0,0,0,R,I,U,L,p);else{const z=g(e,je);if(!_3(z,g(s,je)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");const q=nh(d,p);({years:T,months:E,weeks:S,days:C,hours:M,minutes:P,seconds:R,milliseconds:I,microseconds:U,nanoseconds:L}=N3(b,x,z,o,p,q)),{years:T,months:E,weeks:S,days:C,hours:M,minutes:P,seconds:R,milliseconds:I,microseconds:U,nanoseconds:L}=gs(T,E,S,C,M,P,R,I,U,L,v,u,m,e),{years:T,months:E,weeks:S,days:C,hours:M,minutes:P,seconds:R,milliseconds:I,microseconds:U,nanoseconds:L}=L3(T,E,S,C,M,P,R,I,U,L,v,u,m,e)}return new(ce("%Temporal.Duration%"))(i*T,i*E,i*S,i*C,i*M,i*P,i*R,i*I,i*U,i*L)}function Vs(t,e,n,r,i,s,o,a){let l=t,c=e,d=n,u=s,f=o;return l+=r,c+=i,{year:l,month:c}=Id(l,c),{year:l,month:c,day:d}=su(l,c,d,a),f+=7*u,d+=f,{year:l,month:c,day:d}=hh(l,c,d),{year:l,month:c,day:d}}function A3(t,e,n,r,i,s,o,a,l,c,d,u){let f=t,p=e,m=n,v=r,b=i,x=s;f+=o,p+=a,m+=l,v+=c,b+=d,x+=u;let T=0;return{deltaDays:T,hour:f,minute:p,second:m,millisecond:v,microsecond:b,nanosecond:x}=Pi(f,p,m,v,b,x),{deltaDays:T,hour:f,minute:p,second:m,millisecond:v,microsecond:b,nanosecond:x}}function j3(t,e,n,r,i,s,o,a,l,c,d,u,f,p,m,v,b,x,T,E,S){const C=qn(Gp(t,e,n,r,i,s,o,a,l,c),Gp(d,u,f,p,m,v,b,x,T,E));let M,P,R,I,U,L,z,q,W,B;if(S)if(Ce(S)){const Z=ce("%Temporal.Duration%"),ne=g(S,Y),J=new Z(t,e,n,r,0,0,0,0,0,0),G=new Z(d,u,f,p,0,0,0,0,0,0),K=ne.dateAdd,Q=bn(ne,S,J,void 0,K),A=bn(ne,Q,G,void 0,K),F=qn("day",C),H=Xt(null);H.largestUnit=F,{years:M,months:P,weeks:R,days:I}=fs(ne,S,A,H),{days:I,hours:U,minutes:L,seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}=Hn(I,i+m,s+v,o+b,a+x,l+T,c+E,C)}else{const Z=ce("%Temporal.Instant%"),ne=g(S,je),J=g(S,Y),G=pr(g(S,an),ne,J,t,e,n,r,i,s,o,a,l,c),K=pr(new Z(G),ne,J,d,u,f,p,m,v,b,x,T,E);C!=="year"&&C!=="month"&&C!=="week"&&C!=="day"?(M=0,P=0,R=0,I=0,{seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}=Hg(g(S,le),K,1,"nanosecond","halfExpand"),{hours:U,minutes:L,seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}=Hn(0,0,0,z,q,W,B,C)):{years:M,months:P,weeks:R,days:I,hours:U,minutes:L,seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}=N3(g(S,le),K,ne,J,C,Xt(null))}else{if(C==="year"||C==="month"||C==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");M=P=R=0,{days:I,hours:U,minutes:L,seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}=Hn(r+p,i+m,s+v,o+b,a+x,l+T,c+E,C)}return ph(M,P,R,I,U,L,z,q,W,B),{years:M,months:P,weeks:R,days:I,hours:U,minutes:L,seconds:z,milliseconds:q,microseconds:W,nanoseconds:B}}function Xp(t,e,n,r,i,s,o){let a=xt;a=_.add(a,_.BigInt(o)),a=_.add(a,_.multiply(_.BigInt(s),Le)),a=_.add(a,_.multiply(_.BigInt(i),fr)),a=_.add(a,_.multiply(_.BigInt(r),Ii)),a=_.add(a,_.multiply(_.BigInt(n),_.BigInt(6e10))),a=_.add(a,_.multiply(_.BigInt(e),_.BigInt(36e11)));const l=_.add(t,a);return Ls(l),l}function Jp(t,e,n,r,i,s,o,a,l,c,d,u,f,p,m,v,b,x,T,E,S){let C=p,{deltaDays:M,hour:P,minute:R,second:I,millisecond:U,microsecond:L,nanosecond:z}=A3(r,i,s,o,a,l,m,v,b,x,T,E);C+=M;const q=ce("%Temporal.Duration%"),W=bn(c,Or(t,e,n,c),new q(d,u,f,C,0,0,0,0,0,0),S);return{year:g(W,te),month:g(W,re),day:g(W,ie),hour:P,minute:R,second:I,millisecond:U,microsecond:L,nanosecond:z}}function pr(t,e,n,r,i,s,o,a,l,c,d,u,f,p){const m=ce("%Temporal.Duration%");if(oi(r,i,s,o,0,0,0,0,0,0)===0)return Xp(g(t,le),a,l,c,d,u,f);const v=or(e,t,n),b=bn(n,Or(g(v,te),g(v,re),g(v,ie),n),new m(r,i,s,o,0,0,0,0,0,0),p),x=Yn(g(b,te),g(b,re),g(b,ie),g(v,me),g(v,ge),g(v,ye),g(v,ve),g(v,be),g(v,we),n);return Xp(g(wn(e,x,"compatible"),le),a,l,c,d,u,f)}function jv(t,e,n,r){const i=t==="subtract"?-1:1;let{years:s,months:o,weeks:a,days:l,hours:c,minutes:d,seconds:u,milliseconds:f,microseconds:p,nanoseconds:m}=go(n);const v=Rd(Ee(r));return{years:s,months:o,weeks:a,days:l,hours:c,minutes:d,seconds:u,milliseconds:f,microseconds:p,nanoseconds:m}=j3(g(e,un),g(e,Ht),g(e,Cn),g(e,hn),g(e,fn),g(e,pn),g(e,mn),g(e,gn),g(e,yn),g(e,vn),i*s,i*o,i*a,i*l,i*c,i*d,i*u,i*f,i*p,i*m,v),new(ce("%Temporal.Duration%"))(s,o,a,l,c,d,u,f,p,m)}function Lv(t,e,n){const r=t==="subtract"?-1:1,{hours:i,minutes:s,seconds:o,milliseconds:a,microseconds:l,nanoseconds:c}=function(f,p){let m=go(f);for(const v of p)if(m[v]!==0)throw new RangeError(`Duration field ${v} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return m}(n,["years","months","weeks","days"]),d=Xp(g(e,le),r*i,r*s,r*o,r*a,r*l,r*c);return new(ce("%Temporal.Instant%"))(d)}function $v(t,e,n,r){const i=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:l,hours:c,minutes:d,seconds:u,milliseconds:f,microseconds:p,nanoseconds:m}=go(n),v=Ee(r),b=g(e,Y),{year:x,month:T,day:E,hour:S,minute:C,second:M,millisecond:P,microsecond:R,nanosecond:I}=Jp(g(e,te),g(e,re),g(e,ie),g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we),b,i*s,i*o,i*a,i*l,i*c,i*d,i*u,i*f,i*p,i*m,v);return Yn(x,T,E,S,C,M,P,R,I,b)}function Fv(t,e,n){const r=t==="subtract"?-1:1,{hours:i,minutes:s,seconds:o,milliseconds:a,microseconds:l,nanoseconds:c}=go(n);let{hour:d,minute:u,second:f,millisecond:p,microsecond:m,nanosecond:v}=A3(g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we),r*i,r*s,r*o,r*a,r*l,r*c);return{hour:d,minute:u,second:f,millisecond:p,microsecond:m,nanosecond:v}=th(d,u,f,p,m,v,"reject"),new(ce("%Temporal.PlainTime%"))(d,u,f,p,m,v)}function Bv(t,e,n,r){let i=go(n);t==="subtract"&&(i={years:-i.years,months:-i.months,weeks:-i.weeks,days:-i.days,hours:-i.hours,minutes:-i.minutes,seconds:-i.seconds,milliseconds:-i.milliseconds,microseconds:-i.microseconds,nanoseconds:-i.nanoseconds});let{years:s,months:o,weeks:a,days:l,hours:c,minutes:d,seconds:u,milliseconds:f,microseconds:p,nanoseconds:m}=i;({days:l}=Hn(l,c,d,u,f,p,m,"day"));const v=Ee(r),b=g(e,Y),x=Dt(b,["monthCode","year"]),T=Te(e,x,[]),E=oi(s,o,a,l,0,0,0,0,0,0);T.day=E<0?Vl(Tc(b,e)):1;const S=ps(b,T),C=new(ce("%Temporal.Duration%"))(s,o,a,l,0,0,0,0,0,0),M=a3(Xt(null),v);return so(b,Te(bn(b,S,C,v),x,[]),M)}function Uv(t,e,n,r){const i=t==="subtract"?-1:1,{years:s,months:o,weeks:a,days:l,hours:c,minutes:d,seconds:u,milliseconds:f,microseconds:p,nanoseconds:m}=go(n),v=Ee(r),b=g(e,je),x=g(e,Y);return Kt(pr(g(e,an),b,x,i*s,i*o,i*a,i*l,i*c,i*d,i*u,i*f,i*p,i*m,v),b,x)}function Fn(t,e,n){if(e===1)return t;let{quotient:r,remainder:i}=$t(t,_.BigInt(e));if(_.equal(i,xt))return t;const s=_.lessThan(i,xt)?-1:1;switch(n){case"ceil":s>0&&(r=_.add(r,_.BigInt(s)));break;case"floor":s<0&&(r=_.add(r,_.BigInt(s)));break;case"trunc":break;case"halfExpand":_.toNumber(Rg(_.multiply(i,_.BigInt(2))))>=e&&(r=_.add(r,_.BigInt(s)))}return _.multiply(r,_.BigInt(e))}function du(t,e,n,r){let i=_.remainder(t,_.BigInt(864e11));_.lessThan(i,xt)&&(i=_.add(i,_.BigInt(864e11)));const s=_.subtract(t,i),o=Fn(i,Gg[n]*e,r);return _.add(s,o)}function Vg(t,e,n,r,i,s,o,a,l,c,d,u,f=864e11){const{deltaDays:p,hour:m,minute:v,second:b,millisecond:x,microsecond:T,nanosecond:E}=Qg(r,i,s,o,a,l,c,d,u,f),{year:S,month:C,day:M}=hh(t,e,n+p);return{year:S,month:C,day:M,hour:m,minute:v,second:b,millisecond:x,microsecond:T,nanosecond:E}}function Qg(t,e,n,r,i,s,o,a,l,c=864e11){let d=xt;switch(a){case"day":case"hour":d=_.BigInt(t);case"minute":d=_.add(_.multiply(d,qs),_.BigInt(e));case"second":d=_.add(_.multiply(d,qs),_.BigInt(n));case"millisecond":d=_.add(_.multiply(d,Le),_.BigInt(r));case"microsecond":d=_.add(_.multiply(d,Le),_.BigInt(i));case"nanosecond":d=_.add(_.multiply(d,Le),_.BigInt(s))}const u=a==="day"?c:Gg[a],f=Fn(d,u*o,l),p=_.toNumber(_.divide(f,_.BigInt(u)));switch(a){case"day":return{deltaDays:p,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return Pi(p,0,0,0,0,0);case"minute":return Pi(t,p,0,0,0,0);case"second":return Pi(t,e,p,0,0,0);case"millisecond":return Pi(t,e,n,p,0,0);case"microsecond":return Pi(t,e,n,r,p,0);case"nanosecond":return Pi(t,e,n,r,i,p);default:throw new Error(`Invalid unit ${a}`)}}function Nd(t,e){return Wg(g(t,te),g(t,re),g(t,ie),g(e,te),g(e,re),g(e,ie),"day").days}function rn(t,e,n){const r=bn(t,e,n,void 0);return{relativeTo:r,days:Nd(e,r)}}function em(t,e,n,r,i){const s=g(t,je),o=g(t,Y);return Kt(pr(g(t,an),s,o,e,n,r,i,0,0,0,0,0,0),s,o)}function L3(t,e,n,r,i,s,o,a,l,c,d,u,f,p){let m=t,v=e,b=n,x=r,T=i,E=s,S=o,C=a,M=l,P=c;if(!oe(p)||u==="year"||u==="month"||u==="week"||u==="day"||u==="nanosecond"&&d===1)return{years:m,months:v,weeks:b,days:x,hours:T,minutes:E,seconds:S,milliseconds:C,microseconds:M,nanoseconds:P};let R=sa(0,T,E,S,C,M,P,0);const I=zl(_.toNumber(R)),U=g(p,je),L=g(p,Y),z=pr(g(p,an),U,L,m,v,b,x,0,0,0,0,0,0),q=pr(new(ce("%Temporal.Instant%"))(z),U,L,0,0,0,I,0,0,0,0,0,0),W=_.subtract(q,z);return _.greaterThanOrEqual(_.multiply(_.subtract(R,W),_.BigInt(I)),xt)&&({years:m,months:v,weeks:b,days:x}=j3(m,v,b,x,0,0,0,0,0,0,0,0,0,I,0,0,0,0,0,0,p),R=du(_.subtract(R,W),d,u,f),{hours:T,minutes:E,seconds:S,milliseconds:C,microseconds:M,nanoseconds:P}=Hn(0,0,0,0,0,0,_.toNumber(R),"hour")),{years:m,months:v,weeks:b,days:x,hours:T,minutes:E,seconds:S,milliseconds:C,microseconds:M,nanoseconds:P}}function gs(t,e,n,r,i,s,o,a,l,c,d,u,f,p){let m=t,v=e,b=n,x=r,T=i,E=s,S=o,C=a,M=l,P=_.BigInt(c);const R=ce("%Temporal.Duration%");let I,U,L,z,q=p;if(q){if(oe(q))U=q,q=Be(q);else if(!Ce(q))throw new TypeError("starting point must be PlainDate or ZonedDateTime");I=g(q,Y)}if(u==="year"||u==="month"||u==="week"||u==="day"){let W,B,Z;P=sa(0,T,E,S,C,M,c,0),U&&(W=em(U,m,v,b,x)),{days:B,nanoseconds:P,dayLengthNs:Z}=Yg(P,W),L=_.BigInt(Z),x+=B,T=E=S=C=M=0}switch(u){case"year":{if(!I)throw new RangeError("A starting point is required for years rounding");const W=new R(m),B=I.dateAdd,Z=bn(I,q,W,void 0,B),ne=bn(I,q,new R(m,v,b),void 0,B);q=Z,x+=Nd(Z,ne);const J=bn(I,q,{days:x},void 0,B),G=Xt(null);G.largestUnit="year";const K=fs(I,q,J,G).years;m+=K;const Q=q;q=bn(I,q,{years:K},void 0,B),x-=Nd(Q,q);const A=new R(x<0?-1:1);let{days:F}=rn(I,q,A);F=ke(F);const H=_.multiply(_.BigInt(F),L);P=_.add(_.add(_.multiply(H,_.BigInt(m)),_.multiply(_.BigInt(x),L)),P);const V=Fn(P,_.toNumber(_.multiply(H,_.BigInt(d))),f);z=_.toNumber(P)/_.toNumber(H),m=_.toNumber(_.divide(V,H)),P=xt,v=b=x=0;break}case"month":{if(!I)throw new RangeError("A starting point is required for months rounding");const W=new R(m,v),B=I.dateAdd,Z=bn(I,q,W,void 0,B),ne=bn(I,q,new R(m,v,b),void 0,B);q=Z,x+=Nd(Z,ne);const J=zl(x),G=new R(0,x<0?-1:1);let K;for({relativeTo:q,days:K}=rn(I,q,G);ke(x)>=ke(K);)v+=J,x-=K,{relativeTo:q,days:K}=rn(I,q,G);K=ke(K);const Q=_.multiply(_.BigInt(K),L);P=_.add(_.add(_.multiply(Q,_.BigInt(v)),_.multiply(_.BigInt(x),L)),P);const A=Fn(P,_.toNumber(_.multiply(Q,_.BigInt(d))),f);z=_.toNumber(P)/_.toNumber(Q),v=_.toNumber(_.divide(A,Q)),P=xt,b=x=0;break}case"week":{if(!I)throw new RangeError("A starting point is required for weeks rounding");const W=zl(x),B=new R(0,0,x<0?-1:1);let Z;for({relativeTo:q,days:Z}=rn(I,q,B);ke(x)>=ke(Z);)b+=W,x-=Z,{relativeTo:q,days:Z}=rn(I,q,B);Z=ke(Z);const ne=_.multiply(_.BigInt(Z),L);P=_.add(_.add(_.multiply(ne,_.BigInt(b)),_.multiply(_.BigInt(x),L)),P);const J=Fn(P,_.toNumber(_.multiply(ne,_.BigInt(d))),f);z=_.toNumber(P)/_.toNumber(ne),b=_.toNumber(_.divide(J,ne)),P=xt,x=0;break}case"day":{const W=L;P=_.add(_.multiply(W,_.BigInt(x)),P);const B=Fn(P,_.toNumber(_.multiply(W,_.BigInt(d))),f);z=_.toNumber(P)/_.toNumber(W),x=_.toNumber(_.divide(B,W)),P=xt;break}case"hour":{let B=_.multiply(_.BigInt(T),_.BigInt(36e11));B=_.add(B,_.multiply(_.BigInt(E),_.BigInt(6e10))),B=_.add(B,_.multiply(_.BigInt(S),Ii)),B=_.add(B,_.multiply(_.BigInt(C),fr)),B=_.add(B,_.multiply(_.BigInt(M),Le)),B=_.add(B,P),z=_.toNumber(B)/36e11;const Z=Fn(B,36e11*d,f);T=_.toNumber(_.divide(Z,_.BigInt(36e11))),P=xt,E=S=C=M=0;break}case"minute":{let B=_.multiply(_.BigInt(E),_.BigInt(6e10));B=_.add(B,_.multiply(_.BigInt(S),Ii)),B=_.add(B,_.multiply(_.BigInt(C),fr)),B=_.add(B,_.multiply(_.BigInt(M),Le)),B=_.add(B,P),z=_.toNumber(B)/6e10;const Z=Fn(B,6e10*d,f);E=_.toNumber(_.divide(Z,_.BigInt(6e10))),P=xt,S=C=M=0;break}case"second":{let B=_.multiply(_.BigInt(S),Ii);B=_.add(B,_.multiply(_.BigInt(C),fr)),B=_.add(B,_.multiply(_.BigInt(M),Le)),B=_.add(B,P),z=_.toNumber(B)/1e9;const Z=Fn(B,1e9*d,f);S=_.toNumber(_.divide(Z,_.BigInt(1e9))),P=xt,C=M=0;break}case"millisecond":{let B=_.multiply(_.BigInt(C),fr);B=_.add(B,_.multiply(_.BigInt(M),Le)),B=_.add(B,P),z=_.toNumber(B)/1e6;const Z=Fn(B,1e6*d,f);C=_.toNumber(_.divide(Z,_.BigInt(1e6))),P=xt,M=0;break}case"microsecond":{let B=_.multiply(_.BigInt(M),Le);B=_.add(B,P),z=_.toNumber(B)/1e3;const Z=Fn(B,1e3*d,f);M=_.toNumber(_.divide(Z,_.BigInt(1e3))),P=xt;break}case"nanosecond":z=_.toNumber(P),P=Fn(P,d,f)}return{years:m,months:v,weeks:b,days:x,hours:T,minutes:E,seconds:S,milliseconds:C,microseconds:M,nanoseconds:_.toNumber(P),total:z}}function rs(t,e,n,r,i,s){for(const[o,a]of[[t,r],[e,i],[n,s]])if(o!==a)return Qs(o-a);return 0}function No(t,e){let n=t%e;return FO(n,-0)?0:(n<0&&(n+=e),n)}function uu(t){const e=Dl(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Dl(t){if(t instanceof _)return t;let e=t;if(typeof t=="object"){const n=t[Symbol.toPrimitive];n&&typeof n=="function"&&(e=kg(n,t,["number"]))}switch(typeof e){case"undefined":case"object":case"number":case"symbol":default:throw new TypeError(`cannot convert ${typeof t} to bigint`);case"string":if(!e.match(/^\s*(?:[+-]?\d+\s*)?$/))throw new SyntaxError("invalid BigInt syntax");case"bigint":try{return _.BigInt(e.toString())}catch(n){throw n instanceof Error&&n.message.startsWith("Invalid integer")?new SyntaxError(n.message):n}case"boolean":return e?Og:xt}}const Kg=(()=>{let t=_.BigInt(Date.now()%1e6);return()=>{const e=_.BigInt(Date.now()),n=_.add(_.multiply(e,fr),t);return t=_.remainder(e,fr),_.greaterThan(n,Hl)?Hl:_.lessThan(n,Wl)?Wl:n}})();function Qs(t){return t<0?-1:t>0?1:t}function Ee(t){if(t===void 0)return Xt(null);if(Qe(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function oa(t,e){const n=Xt(null);return n[t]=e,n}function ys(t,e,n,r){let i=t[e];if(i!==void 0){if(i=fe(i),!n.includes(i))throw new RangeError(`${e} must be one of ${n.join(", ")}, not ${i}`);return i}return r}function $3(t){return s3.call(YO,t)}const F3=new RegExp(`^${n3.source}$`);function B3(t,e,n,r=t(e),i=t(n)){let s=_.BigInt(e),o=_.BigInt(n),a=r,l=i;for(;_.greaterThan(_.subtract(o,s),Og);){const c=_.divide(_.add(s,o),_.BigInt(2)),d=t(c);if(d===a)s=c,a=d;else{if(d!==l)throw new Error(`invalid state in bisection ${a} - ${d} - ${l}`);o=c,l=d}}return o}const Gg={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},U3=Symbol("date"),Y3=Symbol("ym"),z3=Symbol("md"),W3=Symbol("time"),H3=Symbol("datetime"),q3=Symbol("zoneddatetime"),V3=Symbol("instant"),Go=Symbol("original"),tm=Symbol("timezone"),Ad=Symbol("timezone-id-given"),er=Symbol("calendar-id"),Q3=Symbol("locale"),nm=Symbol("options"),Ml=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),Ks=globalThis.Intl.DateTimeFormat,ui=Object.assign,VO=Object.prototype.hasOwnProperty,QO=Reflect.apply;function Ps(t,e){let n=t[e];return typeof n=="function"&&(n=new Ks(t[Q3],n(t[nm])),t[e]=n),n}function Ga(t){let e=t[tm];return typeof e=="string"&&(e=xn(e),t[tm]=e),e}function ao(t,e={}){if(!(this instanceof ao))return new ao(t,e);const n=e!==void 0,r=n?ui({},e):{},i=new Ks(t,r),s=i.resolvedOptions();if(n){const o=ui({},s);for(const a in o)QO(VO,r,[a])||delete o[a];this[nm]=o}else this[nm]=r;this[Ad]=r.timeZone?r.timeZone:null,this[Q3]=s.locale,this[Go]=i,this[tm]=s.timeZone,this[er]=s.calendar,this[U3]=XO,this[Y3]=GO,this[z3]=ZO,this[W3]=KO,this[H3]=JO,this[q3]=eR,this[V3]=tR}Object.defineProperty(ao,"name",{writable:!0,value:"DateTimeFormat"}),ao.supportedLocalesOf=function(t,e){return Ks.supportedLocalesOf(t,e)};const Bf={resolvedOptions:Ml(function(){return this[Go].resolvedOptions()}),format:Ml(function(e,...n){let{instant:r,formatter:i,timeZone:s}=Zo(e,this);return r&&i?(i=hu(i,s),i.format(r.epochMilliseconds)):this[Go].format(e,...n)}),formatRange:Ml(function(e,n){if(aa(e)||aa(n)){if(!K3(e,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:i,timeZone:s}=Zo(e,this),{instant:o,formatter:a,timeZone:l}=Zo(n,this);if(s&&l&&s!==l)throw new RangeError("cannot format range between different time zones");if(r&&o&&i&&a&&i===a)return hu(i,s).formatRange(r.epochMilliseconds,o.epochMilliseconds)}return this[Go].formatRange(e,n)})};"formatToParts"in Ks.prototype&&(Bf.formatToParts=Ml(function(e,...n){let{instant:r,formatter:i,timeZone:s}=Zo(e,this);return r&&i?(i=hu(i,s),i.formatToParts(r.epochMilliseconds)):this[Go].formatToParts(e,...n)})),"formatRangeToParts"in Ks.prototype&&(Bf.formatRangeToParts=Ml(function(e,n){if(aa(e)||aa(n)){if(!K3(e,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:i,timeZone:s}=Zo(e,this),{instant:o,formatter:a,timeZone:l}=Zo(n,this);if(s&&l&&s!==l)throw new RangeError("cannot format range between different time zones");if(r&&o&&i&&a&&i===a)return hu(i,s).formatRangeToParts(r.epochMilliseconds,o.epochMilliseconds)}return this[Go].formatRangeToParts(e,n)})),ao.prototype=Object.create(Ks.prototype,Bf),Object.defineProperty(ao,"prototype",{writable:!1,enumerable:!1,configurable:!1});const _s=ao;function hu(t,e){if(!e)return t;const n=t.resolvedOptions();return n.timeZone===e?t:((n.dateStyle||n.timeStyle)&&(delete n.weekday,delete n.era,delete n.year,delete n.month,delete n.day,delete n.hour,delete n.minute,delete n.second,delete n.timeZoneName,delete n.hourCycle,delete n.hour12,delete n.dayPeriod),new Ks(n.locale,{...n,timeZone:e}))}function Sc(t={},e={}){const n=ui({},t);for(const r of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[r]=r in e?e[r]:n[r],n[r]!==!1&&n[r]!==void 0||delete n[r];return n}function KO(t){let e=Sc(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return gh(e)||(e=ui({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function GO(t){let e=Sc(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=ui(e,{year:"numeric",month:"numeric"})),e}function ZO(t){let e=Sc(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=ui({},e,{month:"numeric",day:"numeric"})),e}function XO(t){let e=Sc(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return mh(e)||(e=ui({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function JO(t){let e=Sc(t,{timeZoneName:!1});return gh(e)||mh(e)||(e=ui({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function eR(t){let e=t;return gh(e)||mh(e)||(e=ui({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),e.timeZoneName===void 0&&(e.timeZoneName="short")),e}function tR(t){let e=t;return gh(e)||mh(e)||(e=ui({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function mh(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function gh(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function aa(t){return Ce(t)||at(t)||xe(t)||oe(t)||Ie(t)||qt(t)||Ot(t)}function K3(t,e){return!(!aa(t)||!aa(e))&&!(at(t)&&!at(e))&&!(Ce(t)&&!Ce(e))&&!(xe(t)&&!xe(e))&&!(oe(t)&&!oe(e))&&!(Ie(t)&&!Ie(e))&&!(qt(t)&&!qt(e))&&!(Ot(t)&&!Ot(e))}function Zo(t,e){const n=ce("%Temporal.PlainDateTime%");if(at(t)){const r=new n(1970,1,1,g(t,me),g(t,ge),g(t,ye),g(t,ve),g(t,be),g(t,we),e[er]);return{instant:wn(Ga(e),r,"compatible"),formatter:Ps(e,W3)}}if(Ie(t)){const r=g(t,te),i=g(t,re),s=g(t,ie),o=fe(g(t,Y));if(o!==e[er])throw new RangeError(`cannot format PlainYearMonth with calendar ${o} in locale with calendar ${e[er]}`);const a=new n(r,i,s,12,0,0,0,0,0,o);return{instant:wn(Ga(e),a,"compatible"),formatter:Ps(e,Y3)}}if(qt(t)){const r=g(t,te),i=g(t,re),s=g(t,ie),o=fe(g(t,Y));if(o!==e[er])throw new RangeError(`cannot format PlainMonthDay with calendar ${o} in locale with calendar ${e[er]}`);const a=new n(r,i,s,12,0,0,0,0,0,o);return{instant:wn(Ga(e),a,"compatible"),formatter:Ps(e,z3)}}if(Ce(t)){const r=g(t,te),i=g(t,re),s=g(t,ie),o=fe(g(t,Y));if(o!=="iso8601"&&o!==e[er])throw new RangeError(`cannot format PlainDate with calendar ${o} in locale with calendar ${e[er]}`);const a=new n(r,i,s,12,0,0,0,0,0,e[er]);return{instant:wn(Ga(e),a,"compatible"),formatter:Ps(e,U3)}}if(xe(t)){const r=g(t,te),i=g(t,re),s=g(t,ie),o=g(t,me),a=g(t,ge),l=g(t,ye),c=g(t,ve),d=g(t,be),u=g(t,we),f=fe(g(t,Y));if(f!=="iso8601"&&f!==e[er])throw new RangeError(`cannot format PlainDateTime with calendar ${f} in locale with calendar ${e[er]}`);let p=t;return f==="iso8601"&&(p=new n(r,i,s,o,a,l,c,d,u,e[er])),{instant:wn(Ga(e),p,"compatible"),formatter:Ps(e,H3)}}if(oe(t)){const r=fe(g(t,Y));if(r!=="iso8601"&&r!==e[er])throw new RangeError(`cannot format ZonedDateTime with calendar ${r} in locale with calendar ${e[er]}`);const i=fe(g(t,je));if(e[Ad]&&e[Ad]!==i)throw new RangeError(`timeZone option ${e[Ad]} doesn't match actual time zone ${i}`);return{instant:g(t,an),formatter:Ps(e,q3),timeZone:i}}return Ot(t)?{instant:t,formatter:Ps(e,V3)}:{}}var Za=Object.freeze({__proto__:null,DateTimeFormat:_s});class Wr{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Dl(e);Ls(n),gi(this),_e(this,le,n)}get epochSeconds(){if(!Ot(this))throw new TypeError("invalid receiver");const e=g(this,le);return _.toNumber(_.divide(e,Ii))}get epochMilliseconds(){if(!Ot(this))throw new TypeError("invalid receiver");const e=_.BigInt(g(this,le));return _.toNumber(_.divide(e,fr))}get epochMicroseconds(){if(!Ot(this))throw new TypeError("invalid receiver");const e=_.BigInt(g(this,le));return uu(_.divide(e,Le))}get epochNanoseconds(){if(!Ot(this))throw new TypeError("invalid receiver");return uu(_.BigInt(g(this,le)))}add(e){if(!Ot(this))throw new TypeError("invalid receiver");return Lv("add",this,e)}subtract(e){if(!Ot(this))throw new TypeError("invalid receiver");return Lv("subtract",this,e)}until(e,n){if(!Ot(this))throw new TypeError("invalid receiver");return kv("until",this,e,n)}since(e,n){if(!Ot(this))throw new TypeError("invalid receiver");return kv("since",this,e,n)}round(e){if(!Ot(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?oa("smallestUnit",e):Ee(e),r=Yt(n,"smallestUnit","time",ro),i=kn(n,"halfExpand"),s=Fi(n,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[r],!0),o=du(g(this,le),s,r,i);return new Wr(o)}equals(e){if(!Ot(this))throw new TypeError("invalid receiver");const n=ii(e),r=g(this,le),i=g(n,le);return _.equal(_.BigInt(r),_.BigInt(i))}toString(e){if(!Ot(this))throw new TypeError("invalid receiver");const n=Ee(e);let r=n.timeZone;r!==void 0&&(r=xn(r));const{precision:i,unit:s,increment:o}=wc(n),a=kn(n,"trunc"),l=du(g(this,le),o,s,a);return _v(new Wr(l),r,i)}toJSON(){if(!Ot(this))throw new TypeError("invalid receiver");return _v(this,void 0,"auto")}toLocaleString(e,n){if(!Ot(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Ot(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument in toZonedDateTime");const n=e.calendar;if(n===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const r=Qt(n),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const s=xn(i);return Kt(g(this,le),s,r)}toZonedDateTimeISO(e){let n=e;if(!Ot(this))throw new TypeError("invalid receiver");if(Qe(n)){const s=n.timeZone;s!==void 0&&(n=s)}const r=xn(n),i=Et();return Kt(g(this,le),r,i)}static fromEpochSeconds(e){const n=ql(e),r=_.multiply(_.BigInt(n),Ii);return Ls(r),new Wr(r)}static fromEpochMilliseconds(e){const n=ql(e),r=_.multiply(_.BigInt(n),fr);return Ls(r),new Wr(r)}static fromEpochMicroseconds(e){const n=Dl(e),r=_.multiply(n,Le);return Ls(r),new Wr(r)}static fromEpochNanoseconds(e){const n=Dl(e);return Ls(n),new Wr(n)}static from(e){return Ot(e)?new Wr(g(e,le)):ii(e)}static compare(e,n){const r=ii(e),i=ii(n),s=g(r,le),o=g(i,le);return _.lessThan(s,o)?-1:_.greaterThan(s,o)?1:0}}mi(Wr,"Temporal.Instant");const fu=Array.prototype.includes,nR=Array.prototype.push,rR=globalThis.Intl.DateTimeFormat,iR=Array.prototype.sort,sR=Math.abs,oR=Math.floor,rm=Object.entries,Yv=Object.keys,lt={};class pu{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=fe(e);if(!$3(n))throw new RangeError(`invalid calendar identifier ${n}`);gi(this),_e(this,wt,n)}get id(){if(!bt(this))throw new TypeError("invalid receiver");return fe(this)}dateFromFields(e,n){if(!bt(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid fields");const r=Ee(n);return lt[g(this,wt)].dateFromFields(e,r,this)}yearMonthFromFields(e,n){if(!bt(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid fields");const r=Ee(n);return lt[g(this,wt)].yearMonthFromFields(e,r,this)}monthDayFromFields(e,n){if(!bt(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid fields");const r=Ee(n);return lt[g(this,wt)].monthDayFromFields(e,r,this)}fields(e){if(!bt(this))throw new TypeError("invalid receiver");const n=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const i of e){if(typeof i!="string")throw new TypeError("invalid fields");if(!r.has(i))throw new RangeError(`invalid field name ${i}`);r.delete(i),nR.call(n,i)}return lt[g(this,wt)].fields(n)}mergeFields(e,n){if(!bt(this))throw new TypeError("invalid receiver");return lt[g(this,wt)].mergeFields(e,n)}dateAdd(e,n,r){if(!bt(this))throw new TypeError("invalid receiver");const i=Be(e),s=Ko(n),o=Tt(Ee(r)),{days:a}=Hn(g(s,hn),g(s,fn),g(s,pn),g(s,mn),g(s,gn),g(s,yn),g(s,vn),"day");return lt[g(this,wt)].dateAdd(i,g(s,un),g(s,Ht),g(s,Cn),a,o,this)}dateUntil(e,n,r){if(!bt(this))throw new TypeError("invalid receiver");const i=Be(e),s=Be(n);let o=Yt(Ee(r),"largestUnit","date","auto");o==="auto"&&(o="day");const{years:a,months:l,weeks:c,days:d}=lt[g(this,wt)].dateUntil(i,s,o);return new(ce("%Temporal.Duration%"))(a,l,c,d,0,0,0,0,0,0)}year(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].year(n)}month(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");if(qt(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Ie(n)||(n=Be(n)),lt[g(this,wt)].month(n)}monthCode(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||qt(n)||(n=Be(n)),lt[g(this,wt)].monthCode(n)}day(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return qt(n)||(n=Be(n)),lt[g(this,wt)].day(n)}era(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].era(n)}eraYear(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].eraYear(n)}dayOfWeek(e){if(!bt(this))throw new TypeError("invalid receiver");const n=Be(e);return lt[g(this,wt)].dayOfWeek(n)}dayOfYear(e){if(!bt(this))throw new TypeError("invalid receiver");const n=Be(e);return lt[g(this,wt)].dayOfYear(n)}weekOfYear(e){if(!bt(this))throw new TypeError("invalid receiver");const n=Be(e);return lt[g(this,wt)].weekOfYear(n)}daysInWeek(e){if(!bt(this))throw new TypeError("invalid receiver");const n=Be(e);return lt[g(this,wt)].daysInWeek(n)}daysInMonth(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].daysInMonth(n)}daysInYear(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].daysInYear(n)}monthsInYear(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].monthsInYear(n)}inLeapYear(e){let n=e;if(!bt(this))throw new TypeError("invalid receiver");return Ie(n)||(n=Be(n)),lt[g(this,wt)].inLeapYear(n)}toString(){if(!bt(this))throw new TypeError("invalid receiver");return g(this,wt)}toJSON(){if(!bt(this))throw new TypeError("invalid receiver");return fe(this)}static from(e){return Qt(e)}}function Zg(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);const e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function Ai(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function jd(t,e,n=12){let{month:r,monthCode:i}=t;if(i===void 0){if(r===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Gt(r,1,n),e==="constrain"&&(r=zn(r,1,n)),i=Ai(r)}else{const s=Zg(i);if(r!==void 0&&r!==s)throw new RangeError(`monthCode ${i} and month ${r} must match if both are present`);if(i!==Ai(s))throw new RangeError(`Invalid month code: ${i}`);if(r=s,r<1||r>n)throw new RangeError(`Invalid monthCode: ${i}`)}return{...t,month:r,monthCode:i}}mi(pu,"Temporal.Calendar"),qp("Temporal.Calendar.from",pu.from),lt.iso8601={dateFromFields(t,e,n){const r=Tt(e);let i=Te(t,["day","month","monthCode","year"],["year","day"]);i=jd(i);let{year:s,month:o,day:a}=i;return{year:s,month:o,day:a}=su(s,o,a,r),Or(s,o,a,n)},yearMonthFromFields(t,e,n){const r=Tt(e);let i=Te(t,["month","monthCode","year"],["year"]);i=jd(i);let{year:s,month:o}=i;return{year:s,month:o}=function(l,c,d){let u=l,f=c;switch(d){case"reject":di(u,f,1);break;case"constrain":({year:u,month:f}=k3(u,f))}return{year:u,month:f}}(s,o,r),Gl(s,o,n,1)},monthDayFromFields(t,e,n){const r=Tt(e);let i=Te(t,["day","month","monthCode","year"],["day"]);if(i.month!==void 0&&i.year===void 0&&i.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const s=i.monthCode===void 0;i=jd(i);let{month:o,day:a,year:l}=i;return{month:o,day:a}=su(s?l:1972,o,a,r),Kl(o,a,n,1972)},fields:t=>t,mergeFields(t,e){const n={};for(const i of Yv(t))i!=="month"&&i!=="monthCode"&&(n[i]=t[i]);const r=Yv(e);for(const i of r)n[i]=e[i];if(!fu.call(r,"month")&&!fu.call(r,"monthCode")){const{month:i,monthCode:s}=t;i!==void 0&&(n.month=i),s!==void 0&&(n.monthCode=s)}return n},dateAdd(t,e,n,r,i,s,o){let a=g(t,te),l=g(t,re),c=g(t,ie);return{year:a,month:l,day:c}=Vs(a,l,c,e,n,r,i,s),Or(a,l,c,o)},dateUntil:(t,e,n)=>Wg(g(t,te),g(t,re),g(t,ie),g(e,te),g(e,re),g(e,ie),n),year:t=>g(t,te),era(){},eraYear(){},month:t=>g(t,re),monthCode:t=>Ai(g(t,re)),day:t=>g(t,ie),dayOfWeek:t=>Ff(g(t,te),g(t,re),g(t,ie)),dayOfYear:t=>cu(g(t,te),g(t,re),g(t,ie)),weekOfYear:t=>function(n,r,i){const s=cu(n,r,i),o=Ff(n,r,i)||7,a=Ff(n,1,1),l=Ut((s-o+10)/7);return l<1?a===5||a===6&&ns(n-1)?53:52:l===53&&(ns(n)?366:365)-s<4-o?1:l}(g(t,te),g(t,re),g(t,ie)),daysInWeek:()=>7,daysInMonth:t=>Ni(g(t,te),g(t,re)),daysInYear(t){let e=t;return zt(e,te)||(e=Be(e)),ns(g(e,te))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return zt(e,te)||(e=Be(e)),ns(g(e,te))}};class it{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let n=0;for(const r of e.map.entries()){if(++n>it.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const n=this.map.get(e);return n&&(this.hits++,this.report()),this.calls++,n}set(e,n){this.map.set(e,n),this.misses++,this.report()}report(){}setObject(e){if(it.objectMap.get(e))throw new RangeError("object already cached");it.objectMap.set(e,this),this.report()}static getCacheForObject(e){let n=it.objectMap.get(e);return n||(n=new it,it.objectMap.set(e,n)),n}}function G3({isoYear:t,isoMonth:e,isoDay:n}){return`${yo(t)}-${Je(e)}-${Je(n)}T00:00Z`}function Uf(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}it.objectMap=new WeakMap,it.MAX_CACHE_ENTRIES=1e3;class Da{constructor(){this.eraLength="short",this.hasEra=!0}getFormatter(){return this.formatter===void 0&&(this.formatter=new rR(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,n){const{year:r,month:i,day:s}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:i,isoDay:s,id:this.id}),a=n.get(o);if(a)return a;const l=this.getFormatter();let c,d;try{d=G3({isoYear:r,isoMonth:i,isoDay:s}),c=l.formatToParts(new Date(d))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:i,isoDay:s})}`)}const u={};for(let{type:p,value:m}of c){if(p==="year"&&(u.eraYear=+m),p==="relatedYear"&&(u.eraYear=+m),p==="month"){const v=/^([0-9]*)(.*?)$/.exec(m);if(!v||v.length!=3||!v[1]&&!v[2])throw new RangeError(`Unexpected month: ${m}`);if(u.month=v[1]?+v[1]:1,u.month<1)throw new RangeError(`Invalid month ${m} from ${d}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(u.month>13)throw new RangeError(`Invalid month ${m} from ${d}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);v[2]&&(u.monthExtra=v[2])}p==="day"&&(u.day=+m),this.hasEra&&p==="era"&&m!=null&&m!==""&&(m=m.split(" (")[0],u.era=m.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(u.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:p,eraYear:m}=this.reviseIntlEra(u,e);u.era=p,u.eraYear=m}this.checkIcuBugs&&this.checkIcuBugs(e);const f=this.adjustCalendarDate(u,n,"constrain",!0);if(f.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(f.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(f.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return n.set(o,f),["constrain","reject"].forEach(p=>{const m=JSON.stringify({func:"calendarToIsoDate",year:f.year,month:f.month,day:f.day,overflow:p,id:this.id});n.set(m,e)}),f}validateCalendarDate(e){const{era:n,month:r,year:i,day:s,eraYear:o,monthCode:a,monthExtra:l}=e;if(l!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(i===void 0&&o===void 0)throw new TypeError("year or eraYear is required");if(r===void 0&&a===void 0)throw new TypeError("month or monthCode is required");if(s===void 0)throw new RangeError("Missing day");if(a!==void 0){if(typeof a!="string")throw new RangeError("monthCode must be a string, not "+typeof a);if(!/^M([01]?\d)(L?)$/.test(a))throw new RangeError(`Invalid monthCode: ${a}`)}if(this.constantEra){if(n!==void 0&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(o!==void 0&&i!==void 0&&o!==i)throw new RangeError(`eraYear ${o} does not match year ${i}`)}}adjustCalendarDate(e,n,r="constrain",i=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let s=e;if(this.validateCalendarDate(s),this.constantEra){const{year:c,eraYear:d}=s;s={...s,era:this.constantEra,year:c!==void 0?c:d,eraYear:d!==void 0?d:c}}const o=this.monthsInYear(s,n);let{month:a,monthCode:l}=s;return{month:a,monthCode:l}=jd(s,r,o),{...s,month:a,monthCode:l}}regulateMonthDayNaive(e,n,r){const i=this.monthsInYear(e,r);let{month:s,day:o}=e;return n==="reject"?(Gt(s,1,i),Gt(o,1,this.maximumMonthLength(e))):(s=zn(s,1,i),o=zn(o,1,this.maximumMonthLength({...e,month:s}))),{...e,month:s,day:o}}calendarToIsoDate(e,n="constrain",r){const i=e;let s=this.adjustCalendarDate(e,r,n,!1);s=this.regulateMonthDayNaive(s,n,r);const{year:o,month:a,day:l}=s,c=JSON.stringify({func:"calendarToIsoDate",year:o,month:a,day:l,overflow:n,id:this.id});let d,u=r.get(c);if(u||i.year!==void 0&&i.month!==void 0&&i.day!==void 0&&(i.year!==s.year||i.month!==s.month||i.day!==s.day)&&(d=JSON.stringify({func:"calendarToIsoDate",year:i.year,month:i.month,day:i.day,overflow:n,id:this.id}),u=r.get(d),u))return u;let f=this.estimateIsoDate({year:o,month:a,day:l});const p=E=>{let S=this.addDaysIso(f,E);if(s.day>this.minimumMonthLength(s)){let C=this.isoToCalendarDate(S,r);for(;C.month!==a||C.year!==o;){if(n==="reject")throw new RangeError(`day ${l} does not exist in month ${a} of year ${o}`);S=this.addDaysIso(S,-1),C=this.isoToCalendarDate(S,r)}}return S};let m=0,v=this.isoToCalendarDate(f,r),b=Uf(s,v);if(b.years!==0||b.months!==0||b.days!==0){const E=365*b.years+30*b.months+b.days;f=this.addDaysIso(f,E),v=this.isoToCalendarDate(f,r),b=Uf(s,v),b.years===0&&b.months===0?f=p(b.days):m=this.compareCalendarDates(s,v)}let x=8,T=!1;for(;m;){f=this.addDaysIso(f,m*x);const E=v;v=this.isoToCalendarDate(f,r);const S=m;if(m=this.compareCalendarDates(s,v),m){if(b=Uf(s,v),b.years===0&&b.months===0)f=p(b.days),m=0,T=s.day>this.minimumMonthLength(s);else if(S&&m!==S)if(x>1)x/=2;else{if(n==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...i})}`);this.compareCalendarDates(v,E)>0&&(f=this.addDaysIso(f,-1)),T=!0,m=0}}}if(r.set(c,f),d&&r.set(d,f),s.year===void 0||s.month===void 0||s.day===void 0||s.monthCode===void 0||this.hasEra&&(s.era===void 0||s.eraYear===void 0))throw new RangeError("Unexpected missing property");if(!T){const E=JSON.stringify({func:"isoToCalendarDate",isoYear:f.year,isoMonth:f.month,isoDay:f.day,id:this.id});r.set(E,s)}return f}temporalToCalendarDate(e,n){const r={year:g(e,te),month:g(e,re),day:g(e,ie)};return this.isoToCalendarDate(r,n)}compareCalendarDates(e,n){const r=Te(e,["day","month","year"],["day","month","year"]),i=Te(n,["day","month","year"],["day","month","year"]);return r.year!==i.year?Qs(r.year-i.year):r.month!==i.month?Qs(r.month-i.month):r.day!==i.day?Qs(r.day-i.day):0}regulateDate(e,n="constrain",r){const i=this.calendarToIsoDate(e,n,r);return this.isoToCalendarDate(i,r)}addDaysIso(e,n){return Vs(e.year,e.month,e.day,0,0,0,n,"constrain")}addDaysCalendar(e,n,r){const i=this.calendarToIsoDate(e,"constrain",r),s=this.addDaysIso(i,n);return this.isoToCalendarDate(s,r)}addMonthsCalendar(e,n,r,i){let s=e;const{day:o}=s;for(let a=0,l=sR(n);a<l;a++){const{month:c}=s,d=s,u=n<0?-Math.max(o,this.daysInPreviousMonth(s,i)):this.daysInMonth(s,i),f=this.calendarToIsoDate(s,"constrain",i);let p=this.addDaysIso(f,u);if(s=this.isoToCalendarDate(p,i),n>0){const m=this.monthsInYear(d,i);for(;s.month-1!=c%m;)p=this.addDaysIso(p,-1),s=this.isoToCalendarDate(p,i)}s.day!==o&&(s=this.regulateDate({...s,day:o},"constrain",i))}if(r==="reject"&&s.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return s}addCalendar(e,{years:n=0,months:r=0,weeks:i=0,days:s=0},o,a){const{year:l,day:c,monthCode:d}=e,u=this.adjustCalendarDate({year:l+n,monthCode:d,day:c},a),f=this.addMonthsCalendar(u,r,o,a),p=s+7*i;return this.addDaysCalendar(f,p,a)}untilCalendar(e,n,r,i){let s=0,o=0,a=0,l=0;switch(r){case"day":s=this.calendarDaysUntil(e,n,i);break;case"week":{const c=this.calendarDaysUntil(e,n,i);s=c%7,o=(c-s)/7;break}case"month":case"year":{const c=n.year-e.year,d=n.month-e.month,u=n.day-e.day,f=this.compareCalendarDates(n,e);if(!f)return{years:0,months:0,weeks:0,days:0};r==="year"&&c&&(l=d*f<0||d===0&&u*f<0?c-f:c);let p,m=l?this.addCalendar(e,{years:l},"constrain",i):e;do a+=f,p=m,m=this.addMonthsCalendar(p,f,"constrain",i),m.day!==e.day&&(m=this.regulateDate({...m,day:e.day},"constrain",i));while(this.compareCalendarDates(n,m)*f>=0);a-=f,s=this.calendarDaysUntil(p,n,i);break}}return{years:l,months:a,weeks:o,days:s}}daysInMonth(e,n){const{day:r}=e,i=this.maximumMonthLength(e),s=this.minimumMonthLength(e);if(s===i)return s;const o=r<=i-s?i:s,a=this.calendarToIsoDate(e,"constrain",n),l=this.addDaysIso(a,o),c=this.isoToCalendarDate(l,n),d=this.addDaysIso(l,-c.day);return this.isoToCalendarDate(d,n).day}daysInPreviousMonth(e,n){const{day:r,month:i,year:s}=e;let o={year:i>1?s:s-1,month:i,day:1};const a=i>1?i-1:this.monthsInYear(o,n);o={...o,month:a};const l=this.minimumMonthLength(o),c=this.maximumMonthLength(o);if(l===c)return c;const d=this.calendarToIsoDate(e,"constrain",n),u=this.addDaysIso(d,-r);return this.isoToCalendarDate(u,n).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,n,r){const i=this.calendarToIsoDate(e,"constrain",r),s=this.calendarToIsoDate(n,"constrain",r);return this.isoDaysUntil(i,s)}isoDaysUntil(e,n){return Wg(e.year,e.month,e.day,n.year,n.month,n.day,"day").days}monthDayFromFields(e,n,r){let i,s,o,a,l,{year:c,month:d,monthCode:u,day:f,era:p,eraYear:m}=e;if(u===void 0){if(c===void 0&&(p===void 0||m===void 0))throw new TypeError("`monthCode`, `year`, or `era` and `eraYear` is required");({monthCode:u,year:c}=this.adjustCalendarDate({year:c,month:d,monthCode:u,day:f,era:p,eraYear:m},r,n))}const{year:v}=this.isoToCalendarDate({year:1972,month:1,day:1},r);for(let b=0;b<100;b++){const x=this.adjustCalendarDate({day:f,monthCode:u,year:v-b},r),T=this.calendarToIsoDate(x,"constrain",r),E=this.isoToCalendarDate(T,r);if({year:i,month:s,day:o}=T,E.monthCode===u&&E.day===f)return{month:s,day:o,year:i};n==="constrain"&&(a===void 0||E.monthCode===a.monthCode&&E.day>a.day)&&(a=E,l=T)}if(n==="constrain"&&l!==void 0)return l;throw new RangeError(`No recent ${this.id} year with monthCode ${u} and day ${f}`)}}class aR extends Da{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:n}=e;return(7*n+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,n){const{month:r,year:i}=e,s=this.getMonthCode(i,r),o=rm(this.months).find(l=>l[1].monthCode===s);if(o===void 0)throw new RangeError(`unmatched Hebrew month: ${r}`);const a=o[1].days;return typeof a=="number"?a:a[n]}estimateIsoDate(e){const{year:n}=e;return{year:n-3760,month:1,day:1}}getMonthCode(e,n){return this.inLeapYear({year:e})?n===6?Ai(5,!0):Ai(n<6?n:n-1):Ai(n)}adjustCalendarDate(e,n,r="constrain",i=!1){let{year:s,eraYear:o,month:a,monthCode:l,day:c,monthExtra:d}=e;if(s===void 0&&o!==void 0&&(s=o),o===void 0&&s!==void 0&&(o=s),i){if(d){const u=this.months[d];if(!u)throw new RangeError(`Unrecognized month from formatToParts: ${d}`);a=this.inLeapYear({year:s})?u.leap:u.regular}return l=this.getMonthCode(s,a),{year:s,month:a,day:c,era:void 0,eraYear:o,monthCode:l}}if(this.validateCalendarDate(e),a===void 0)if(l.endsWith("L")){if(l!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${l}`);if(a=6,!this.inLeapYear({year:s})){if(r==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${s} which is not a leap year`);a=5,c=30,l="M05"}}else{a=Zg(l),this.inLeapYear({year:s})&&a>=6&&a++;const u=this.monthsInYear({year:s});if(a<1||a>u)throw new RangeError(`Invalid monthCode: ${l}`)}else if(r==="reject"?(Gt(a,1,this.monthsInYear({year:s})),Gt(c,1,this.maximumMonthLength({year:s,month:a}))):(a=zn(a,1,this.monthsInYear({year:s})),c=zn(c,1,this.maximumMonthLength({year:s,month:a}))),l===void 0)l=this.getMonthCode(s,a);else if(this.getMonthCode(s,a)!==l)throw new RangeError(`monthCode ${l} doesn't correspond to month ${a} in Hebrew year ${s}`);return{...e,day:c,month:a,monthCode:l,year:s,eraYear:o}}}class Ma extends Da{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,n){return this.daysInMonth({year:e.year,month:12,day:1},n)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:n}=this.adjustCalendarDate(e);return{year:oR(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class Z3 extends Ma{constructor(){super(...arguments),this.id="islamic"}}class lR extends Ma{constructor(){super(...arguments),this.id="islamic-umalqura"}}class cR extends Ma{constructor(){super(...arguments),this.id="islamic-tbla"}}class dR extends Ma{constructor(){super(...arguments),this.id="islamic-civil"}}class uR extends Ma{constructor(){super(...arguments),this.id="islamic-rgsa"}}class hR extends Ma{constructor(){super(...arguments),this.id="islamicc"}}class fR extends Da{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,n){return Z3.prototype.inLeapYear.call(this,e,n)}monthsInYear(){return 12}minimumMonthLength(e){const{month:n}=e;return n===12?29:n<=6?31:30}maximumMonthLength(e){const{month:n}=e;return n===12?30:n<=6?31:30}estimateIsoDate(e){const{year:n}=this.adjustCalendarDate(e);return{year:n+621,month:1,day:1}}}class pR extends Da{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return X3(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:n}=e;let r=this.months[n];if(r===void 0)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const n=this.adjustCalendarDate(e),r=this.getMonthInfo(n);return Vs(n.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function X3(t){return t%4==0&&(t%100!=0||t%400==0)}class Cc extends Da{constructor(e,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:i}=function(o){let a,l=o;if(l.length===0)throw new RangeError("Invalid era data: eras are required");if(l.length===1&&l[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(l.length===1&&!l[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(l.filter(d=>d.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");l.forEach(d=>{if(d.isAnchor||!d.anchorEpoch&&!d.reverseOf){if(a)throw new RangeError("Invalid era data: cannot have multiple anchor eras");a=d,d.anchorEpoch={year:d.hasYearZero?0:1}}else if(!d.name)throw new RangeError("If era name is blank, it must be the anchor era")}),l=l.filter(d=>d.name),l.forEach(d=>{const{reverseOf:u}=d;if(u){const f=l.find(p=>p.name===u);if(f===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${u}`);d.reverseOf=f,d.anchorEpoch=f.anchorEpoch,d.isoEpoch=f.isoEpoch}d.anchorEpoch.month===void 0&&(d.anchorEpoch.month=1),d.anchorEpoch.day===void 0&&(d.anchorEpoch.day=1)}),iR.call(l,(d,u)=>{if(d.reverseOf)return 1;if(u.reverseOf)return-1;if(!d.isoEpoch||!u.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return u.isoEpoch.year-d.isoEpoch.year});const c=l[l.length-1].reverseOf;if(c&&c!==l[l.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return l.forEach((d,u)=>{d.genericName="era"+(l.length-1-u)}),{eras:l,anchorEra:a||l[0]}}(n);this.anchorEra=i,this.eras=r}inLeapYear(e){const{year:n}=this.estimateIsoDate({month:1,day:1,year:e.year});return X3(n)}monthsInYear(){return 12}minimumMonthLength(e){const{month:n}=e;return n===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const n=(a,l)=>{const c=e[a];if(c!=null&&c!=l)throw new RangeError(`Input ${a} ${c} doesn't match calculated value ${l}`)},r=a=>{let l;const c={...e,year:a},d=this.eras.find((u,f)=>{if(f===this.eras.length-1){if(u.reverseOf){if(a>0)throw new RangeError(`Signed year ${a} is invalid for era ${u.name}`);return l=u.anchorEpoch.year-a,!0}return l=a-u.anchorEpoch.year+(u.hasYearZero?0:1),!0}return this.compareCalendarDates(c,u.anchorEpoch)>=0&&(l=a-u.anchorEpoch.year+(u.hasYearZero?0:1),!0)});if(!d)throw new RangeError(`Year ${a} was not matched by any era`);return{eraYear:l,era:d.name}};let{year:i,eraYear:s,era:o}=e;if(i!=null)({eraYear:s,era:o}=r(i)),n("era",o),n("eraYear",s);else{if(s==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const a=o===void 0?void 0:this.eras.find(l=>l.name===o||l.genericName===o);if(!a)throw new RangeError(`Era ${o} (ISO year ${s}) was not matched by any era`);if(s<1&&a.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${i}`);i=a.reverseOf?a.anchorEpoch.year-s:s+a.anchorEpoch.year-(a.hasYearZero?0:1),n("year",i),{eraYear:s,era:o}=r(i)}}return{...e,year:i,eraYear:s,era:o}}adjustCalendarDate(e,n,r="constrain"){let i=e;const{month:s,monthCode:o}=i;return s===void 0&&(i={...i,month:Zg(o)}),this.validateCalendarDate(i),i=this.completeEraYear(i),super.adjustCalendarDate(i,n,r)}estimateIsoDate(e){const n=this.adjustCalendarDate(e),{year:r,month:i,day:s}=n,{anchorEra:o}=this;return su(r+o.isoEpoch.year-(o.hasYearZero?0:1),i,s,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&rs(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Xg extends Cc{constructor(e,n){super(e,n)}inLeapYear(e){const{year:n}=e;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:n}=e;return n===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class mR extends Xg{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class gR extends Xg{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class yR extends Xg{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class vR extends Cc{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class bR extends Cc{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class wR extends Cc{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:n,eraYear:r}=e;return n!=="bc"&&n!=="b"||(n="bce"),n!=="ad"&&n!=="a"||(n="ce"),{era:n,eraYear:r}}}class xR extends Cc{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long"}reviseIntlEra(e,n){const{era:r,eraYear:i}=e,{year:s}=n;return this.eras.find(o=>o.name===r)?{era:r,eraYear:i}:s<1?{era:"bce",eraYear:1-s}:{era:"ce",eraYear:s}}}class J3 extends Da{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,n){const r=this.getMonthList(e.year,n);return rm(r).length===13}monthsInYear(e,n){return this.inLeapYear(e,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,n){if(e===void 0)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),i=n.get(r);if(i)return i;const s=this.getFormatter(),o=(b,x)=>{const T=G3({isoYear:b,isoMonth:2,isoDay:1}),E=new Date(T);E.setUTCDate(x+1);const S=s.formatToParts(E),C=S.find(R=>R.type==="month").value,M=+S.find(R=>R.type==="day").value;let P=S.find(R=>R.type==="relatedYear");if(P===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return P=+P.value,{calendarMonthString:C,calendarDay:M,calendarYearToVerify:P}};let a=17,{calendarMonthString:l,calendarDay:c,calendarYearToVerify:d}=o(e,a);l!=="1"&&(a+=29,{calendarMonthString:l,calendarDay:c}=o(e,a)),a-=c-5;const u={};let f,p,m=1,v=!1;do({calendarMonthString:l,calendarDay:c,calendarYearToVerify:d}=o(e,a)),f&&(u[p].daysInMonth=f+30-c),d!==e?v=!0:(u[l]={monthIndex:m++},a+=30),f=c,p=l;while(!v);return u[p].daysInMonth=f+30-c,n.set(r,u),u}estimateIsoDate(e){const{year:n,month:r}=e;return{year:n,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,n,r="constrain",i=!1){let{year:s,month:o,monthExtra:a,day:l,monthCode:c,eraYear:d}=e;if(i){if(s=d,a&&a!=="bis")throw new RangeError(`Unexpected leap month suffix: ${a}`);const u=Ai(o,a!==void 0),f=`${o}${a||""}`,p=this.getMonthList(s,n)[f];if(p===void 0)throw new RangeError(`Unmatched month ${f} in Chinese year ${s}`);return o=p.monthIndex,{year:s,month:o,day:l,era:void 0,eraYear:d,monthCode:u}}if(this.validateCalendarDate(e),s===void 0&&(s=d),d===void 0&&(d=s),o===void 0){const u=this.getMonthList(s,n);let f=c.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));let p=u[f];if(o=p&&p.monthIndex,o===void 0&&c.endsWith("L")&&!fu.call(["M01L","M12L","M13L"],c)&&r==="constrain"){let m=c.slice(1,-1);m[0]==="0"&&(m=m.slice(1)),p=u[m],p&&({daysInMonth:l,monthIndex:o}=p,c=Ai(m))}if(o===void 0)throw new RangeError(`Unmatched month ${c} in Chinese year ${s}`)}else if(c===void 0){const u=this.getMonthList(s,n),f=rm(u),p=f.length;r==="reject"?(Gt(o,1,p),Gt(l,1,this.maximumMonthLength())):(o=zn(o,1,p),l=zn(l,1,this.maximumMonthLength()));const m=f.find(([,v])=>v.monthIndex===o);if(m===void 0)throw new RangeError(`Invalid month ${o} in Chinese year ${s}`);c=Ai(m[0].replace("bis",""),m[0].indexOf("bis")!==-1)}else{const u=this.getMonthList(s,n);let f=c.replace("L","bis").slice(1);f[0]==="0"&&(f=f.slice(1));const p=u[f];if(!p)throw new RangeError(`Unmatched monthCode ${c} in Chinese year ${s}`);if(o!==p.monthIndex)throw new RangeError(`monthCode ${c} doesn't correspond to month ${o} in Chinese year ${s}`)}return{...e,year:s,eraYear:d,month:o,monthCode:c,day:l}}}class _R extends J3{constructor(){super(...arguments),this.id="chinese"}}class TR extends J3{constructor(){super(...arguments),this.id="dangi"}}const ER={helper:void 0,dateFromFields(t,e,n){const r=Tt(e),i=new it,s=Te(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:l}=this.helper.calendarToIsoDate(s,r,i),c=Or(o,a,l,n);return i.setObject(c),c},yearMonthFromFields(t,e,n){const r=Tt(e),i=new it,s=Te(t,["era","eraYear","month","monthCode","year"],[]),{year:o,month:a,day:l}=this.helper.calendarToIsoDate({...s,day:1},r,i),c=Gl(o,a,n,l);return i.setObject(c),c},monthDayFromFields(t,e,n){const r=Tt(e),i=new it,s=Te(t,["day","era","eraYear","month","monthCode","year"],["day"]),{year:o,month:a,day:l}=this.helper.monthDayFromFields(s,r,i),c=Kl(a,l,n,o);return i.setObject(c),c},fields(t){let e=t;return fu.call(e,"year")&&(e=[...e,"era","eraYear"]),e},mergeFields(t,e){const n={...t},r={...e},{month:i,monthCode:s,year:o,era:a,eraYear:l,...c}=n,{month:d,monthCode:u,year:f,era:p,eraYear:m}=r;return d===void 0&&u===void 0&&(c.month=i,c.monthCode=s),f===void 0&&p===void 0&&m===void 0&&(c.year=o),{...c,...r}},dateAdd(t,e,n,r,i,s,o){const a=it.getCacheForObject(t),l=this.helper.temporalToCalendarDate(t,a),c=this.helper.addCalendar(l,{years:e,months:n,weeks:r,days:i},s,a),d=this.helper.calendarToIsoDate(c,"constrain",a),{year:u,month:f,day:p}=d,m=Or(u,f,p,o);return new it(a).setObject(m),m},dateUntil(t,e,n){const r=it.getCacheForObject(t),i=it.getCacheForObject(e),s=this.helper.temporalToCalendarDate(t,r),o=this.helper.temporalToCalendarDate(e,i);return this.helper.untilCalendar(s,o,n,r)},year(t){const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).year},month(t){const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).month},day(t){const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).day},era(t){if(!this.helper.hasEra)return;const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).era},eraYear(t){if(!this.helper.hasEra)return;const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).eraYear},monthCode(t){const e=it.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,e).monthCode},dayOfWeek:t=>lt.iso8601.dayOfWeek(t),dayOfYear(t){const e=it.getCacheForObject(t),n=this.helper.isoToCalendarDate(t,e),r=this.helper.startOfCalendarYear(n);return this.helper.calendarDaysUntil(r,n,e)+1},weekOfYear:t=>lt.iso8601.weekOfYear(t),daysInWeek:t=>lt.iso8601.daysInWeek(t),daysInMonth(t){const e=it.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,e),r=this.helper.maximumMonthLength(n);if(r===this.helper.minimumMonthLength(n))return r;const i=this.helper.startOfCalendarMonth(n),s=this.helper.addMonthsCalendar(i,1,"constrain",e);return this.helper.calendarDaysUntil(i,s,e)},daysInYear(t){let e=t;zt(e,te)||(e=Be(e));const n=it.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,n),i=this.helper.startOfCalendarYear(r),s=this.helper.addCalendar(i,{years:1},"constrain",n);return this.helper.calendarDaysUntil(i,s,n)},monthsInYear(t){const e=it.getCacheForObject(t),n=this.helper.temporalToCalendarDate(t,e);return this.helper.monthsInYear(n,e)},inLeapYear(t){let e=t;zt(e,te)||(e=Be(e));const n=it.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,n);return this.helper.inLeapYear(r,n)}};for(const t of[aR,fR,yR,mR,gR,_R,TR,vR,pR,bR,wR,xR,Z3,lR,cR,dR,uR,hR]){const e=new t;lt[e.id]={...ER,helper:e}}class Dc{constructor(e,n,r,i=Et()){const s=Ue(e),o=Ue(n),a=Ue(r),l=Qt(i);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");g3(this,s,o,a,l)}get calendar(){if(!Ce(this))throw new TypeError("invalid receiver");return g(this,Y)}get era(){if(!Ce(this))throw new TypeError("invalid receiver");return oh(g(this,Y),this)}get eraYear(){if(!Ce(this))throw new TypeError("invalid receiver");return ah(g(this,Y),this)}get year(){if(!Ce(this))throw new TypeError("invalid receiver");return rh(g(this,Y),this)}get month(){if(!Ce(this))throw new TypeError("invalid receiver");return ih(g(this,Y),this)}get monthCode(){if(!Ce(this))throw new TypeError("invalid receiver");return _c(g(this,Y),this)}get day(){if(!Ce(this))throw new TypeError("invalid receiver");return sh(g(this,Y),this)}get dayOfWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return Ng(g(this,Y),this)}get dayOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return Ag(g(this,Y),this)}get weekOfYear(){if(!Ce(this))throw new TypeError("invalid receiver");return jg(g(this,Y),this)}get daysInWeek(){if(!Ce(this))throw new TypeError("invalid receiver");return Lg(g(this,Y),this)}get daysInMonth(){if(!Ce(this))throw new TypeError("invalid receiver");return Tc(g(this,Y),this)}get daysInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return lh(g(this,Y),this)}get monthsInYear(){if(!Ce(this))throw new TypeError("invalid receiver");return ch(g(this,Y),this)}get inLeapYear(){if(!Ce(this))throw new TypeError("invalid receiver");return dh(g(this,Y),this)}with(e,n){if(!Ce(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");Sa(e);const r=g(this,Y),i=Dt(r,["day","month","monthCode","year"]),s=Te(e,i,"partial");if(!s)throw new TypeError("invalid date-like");let o=Te(this,i,[]);return o=io(r,o,s),o=Te(o,i,[]),ps(r,o,Ee(n))}withCalendar(e){if(!Ce(this))throw new TypeError("invalid receiver");const n=Qt(e);return new Dc(g(this,te),g(this,re),g(this,ie),n)}add(e,n){if(!Ce(this))throw new TypeError("invalid receiver");const r=Ko(e),i=Ee(n);return bn(g(this,Y),this,r,i)}subtract(e,n){if(!Ce(this))throw new TypeError("invalid receiver");const r=P3(Ko(e)),i=Ee(n);return bn(g(this,Y),this,r,i)}until(e,n){if(!Ce(this))throw new TypeError("invalid receiver");return Ov("until",this,e,n)}since(e,n){if(!Ce(this))throw new TypeError("invalid receiver");return Ov("since",this,e,n)}equals(e){if(!Ce(this))throw new TypeError("invalid receiver");const n=Be(e);for(const r of[te,re,ie])if(g(this,r)!==g(n,r))return!1;return Ec(g(this,Y),g(n,Y))}toString(e){if(!Ce(this))throw new TypeError("invalid receiver");return Tv(this,bc(Ee(e)))}toJSON(){if(!Ce(this))throw new TypeError("invalid receiver");return Tv(this)}toLocaleString(e,n){if(!Ce(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!Ce(this))throw new TypeError("invalid receiver");const n=g(this,te),r=g(this,re),i=g(this,ie),s=g(this,Y);if(e===void 0)return Yn(n,r,i,0,0,0,0,0,0,s);const o=Ri(e);return Yn(n,r,i,g(o,me),g(o,ge),g(o,ye),g(o,ve),g(o,be),g(o,we),s)}toZonedDateTime(e){if(!Ce(this))throw new TypeError("invalid receiver");let n,r;if(Qe(e)){const m=e.timeZone;m===void 0?n=xn(e):(n=xn(m),r=e.plainTime)}else n=xn(e);const i=g(this,te),s=g(this,re),o=g(this,ie),a=g(this,Y);let l=0,c=0,d=0,u=0,f=0,p=0;return r!==void 0&&(r=Ri(r),l=g(r,me),c=g(r,ge),d=g(r,ye),u=g(r,ve),f=g(r,be),p=g(r,we)),Kt(g(wn(n,Yn(i,s,o,l,c,d,u,f,p,a),"compatible"),le),n,a)}toPlainYearMonth(){if(!Ce(this))throw new TypeError("invalid receiver");const e=g(this,Y);return so(e,Te(this,Dt(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ce(this))throw new TypeError("invalid receiver");const e=g(this,Y);return ra(e,Te(this,Dt(e,["day","monthCode"]),[]))}getISOFields(){if(!Ce(this))throw new TypeError("invalid receiver");return{calendar:g(this,Y),isoDay:g(this,ie),isoMonth:g(this,re),isoYear:g(this,te)}}static from(e,n){const r=Ee(n);return Ce(e)?(Tt(r),Or(g(e,te),g(e,re),g(e,ie),g(e,Y))):Be(e,r)}static compare(e,n){const r=Be(e),i=Be(n);return rs(g(r,te),g(r,re),g(r,ie),g(i,te),g(i,re),g(i,ie))}}mi(Dc,"Temporal.PlainDate");class Mc{constructor(e,n,r,i=0,s=0,o=0,a=0,l=0,c=0,d=Et()){const u=Ue(e),f=Ue(n),p=Ue(r),m=Ue(i),v=Ue(s),b=Ue(o),x=Ue(a),T=Ue(l),E=Ue(c),S=Qt(d);if(arguments.length<3)throw new RangeError("missing argument: isoYear, isoMonth and isoDay are required");y3(this,u,f,p,m,v,b,x,T,E,S)}get calendar(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,Y)}get year(){if(!xe(this))throw new TypeError("invalid receiver");return rh(g(this,Y),this)}get month(){if(!xe(this))throw new TypeError("invalid receiver");return ih(g(this,Y),this)}get monthCode(){if(!xe(this))throw new TypeError("invalid receiver");return _c(g(this,Y),this)}get day(){if(!xe(this))throw new TypeError("invalid receiver");return sh(g(this,Y),this)}get hour(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,me)}get minute(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,ge)}get second(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,ye)}get millisecond(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,ve)}get microsecond(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,be)}get nanosecond(){if(!xe(this))throw new TypeError("invalid receiver");return g(this,we)}get era(){if(!xe(this))throw new TypeError("invalid receiver");return oh(g(this,Y),this)}get eraYear(){if(!xe(this))throw new TypeError("invalid receiver");return ah(g(this,Y),this)}get dayOfWeek(){if(!xe(this))throw new TypeError("invalid receiver");return Ng(g(this,Y),this)}get dayOfYear(){if(!xe(this))throw new TypeError("invalid receiver");return Ag(g(this,Y),this)}get weekOfYear(){if(!xe(this))throw new TypeError("invalid receiver");return jg(g(this,Y),this)}get daysInWeek(){if(!xe(this))throw new TypeError("invalid receiver");return Lg(g(this,Y),this)}get daysInYear(){if(!xe(this))throw new TypeError("invalid receiver");return lh(g(this,Y),this)}get daysInMonth(){if(!xe(this))throw new TypeError("invalid receiver");return Tc(g(this,Y),this)}get monthsInYear(){if(!xe(this))throw new TypeError("invalid receiver");return ch(g(this,Y),this)}get inLeapYear(){if(!xe(this))throw new TypeError("invalid receiver");return dh(g(this,Y),this)}with(e,n){if(!xe(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");Sa(e);const r=Ee(n),i=g(this,Y),s=Dt(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),o=Te(e,s,"partial");if(!o)throw new TypeError("invalid date-time-like");let a=Te(this,s,[]);a=io(i,a,o),a=Te(a,s,[]);const{year:l,month:c,day:d,hour:u,minute:f,second:p,millisecond:m,microsecond:v,nanosecond:b}=xc(i,a,r);return Yn(l,c,d,u,f,p,m,v,b,i)}withPlainTime(e){if(!xe(this))throw new TypeError("invalid receiver");const n=g(this,te),r=g(this,re),i=g(this,ie),s=g(this,Y);if(e===void 0)return Yn(n,r,i,0,0,0,0,0,0,s);const o=Ri(e);return Yn(n,r,i,g(o,me),g(o,ge),g(o,ye),g(o,ve),g(o,be),g(o,we),s)}withPlainDate(e){if(!xe(this))throw new TypeError("invalid receiver");const n=Be(e),r=g(n,te),i=g(n,re),s=g(n,ie);let o=g(n,Y);const a=g(this,me),l=g(this,ge),c=g(this,ye),d=g(this,ve),u=g(this,be),f=g(this,we);return o=x3(g(this,Y),o),Yn(r,i,s,a,l,c,d,u,f,o)}withCalendar(e){if(!xe(this))throw new TypeError("invalid receiver");const n=Qt(e);return new Mc(g(this,te),g(this,re),g(this,ie),g(this,me),g(this,ge),g(this,ye),g(this,ve),g(this,be),g(this,we),n)}add(e,n){if(!xe(this))throw new TypeError("invalid receiver");return $v("add",this,e,n)}subtract(e,n){if(!xe(this))throw new TypeError("invalid receiver");return $v("subtract",this,e,n)}until(e,n){if(!xe(this))throw new TypeError("invalid receiver");return Rv("until",this,e,n)}since(e,n){if(!xe(this))throw new TypeError("invalid receiver");return Rv("since",this,e,n)}round(e){if(!xe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?oa("smallestUnit",e):Ee(e),r=Yt(n,"smallestUnit","time",ro,["day"]),i=kn(n,"halfExpand"),s=Fi(n,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1);let o=g(this,te),a=g(this,re),l=g(this,ie),c=g(this,me),d=g(this,ge),u=g(this,ye),f=g(this,ve),p=g(this,be),m=g(this,we);return{year:o,month:a,day:l,hour:c,minute:d,second:u,millisecond:f,microsecond:p,nanosecond:m}=Vg(o,a,l,c,d,u,f,p,m,s,r,i),Yn(o,a,l,c,d,u,f,p,m,g(this,Y))}equals(e){if(!xe(this))throw new TypeError("invalid receiver");const n=Us(e);for(const r of[te,re,ie,me,ge,ye,ve,be,we])if(g(this,r)!==g(n,r))return!1;return Ec(g(this,Y),g(n,Y))}toString(e){if(!xe(this))throw new TypeError("invalid receiver");const n=Ee(e),{precision:r,unit:i,increment:s}=wc(n);return Ev(this,r,bc(n),{unit:i,increment:s,roundingMode:kn(n,"trunc")})}toJSON(){if(!xe(this))throw new TypeError("invalid receiver");return Ev(this,"auto")}toLocaleString(e,n){if(!xe(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,n){if(!xe(this))throw new TypeError("invalid receiver");const r=xn(e);return Kt(g(wn(r,this,Ql(Ee(n))),le),r,g(this,Y))}toPlainDate(){if(!xe(this))throw new TypeError("invalid receiver");return ia(this)}toPlainYearMonth(){if(!xe(this))throw new TypeError("invalid receiver");const e=g(this,Y);return so(e,Te(this,Dt(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!xe(this))throw new TypeError("invalid receiver");const e=g(this,Y);return ra(e,Te(this,Dt(e,["day","monthCode"]),[]))}toPlainTime(){if(!xe(this))throw new TypeError("invalid receiver");return $g(this)}getISOFields(){if(!xe(this))throw new TypeError("invalid receiver");return{calendar:g(this,Y),isoDay:g(this,ie),isoHour:g(this,me),isoMicrosecond:g(this,be),isoMillisecond:g(this,ve),isoMinute:g(this,ge),isoMonth:g(this,re),isoNanosecond:g(this,we),isoSecond:g(this,ye),isoYear:g(this,te)}}static from(e,n){const r=Ee(n);return xe(e)?(Tt(r),Yn(g(e,te),g(e,re),g(e,ie),g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we),g(e,Y))):Us(e,r)}static compare(e,n){const r=Us(e),i=Us(n);for(const s of[te,re,ie,me,ge,ye,ve,be,we]){const o=g(r,s),a=g(i,s);if(o!==a)return Qs(o-a)}return 0}}mi(Mc,"Temporal.PlainDateTime");class is{constructor(e=0,n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0,d=0){const u=Bt(e),f=Bt(n),p=Bt(r),m=Bt(i),v=Bt(s),b=Bt(o),x=Bt(a),T=Bt(l),E=Bt(c),S=Bt(d);ph(u,f,p,m,v,b,x,T,E,S),gi(this),_e(this,un,u),_e(this,Ht,f),_e(this,Cn,p),_e(this,hn,m),_e(this,fn,v),_e(this,pn,b),_e(this,mn,x),_e(this,gn,T),_e(this,yn,E),_e(this,vn,S)}get years(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,un)}get months(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,Ht)}get weeks(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,Cn)}get days(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,hn)}get hours(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,fn)}get minutes(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,pn)}get seconds(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,mn)}get milliseconds(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,gn)}get microseconds(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,yn)}get nanoseconds(){if(!ot(this))throw new TypeError("invalid receiver");return g(this,vn)}get sign(){if(!ot(this))throw new TypeError("invalid receiver");return oi(g(this,un),g(this,Ht),g(this,Cn),g(this,hn),g(this,fn),g(this,pn),g(this,mn),g(this,gn),g(this,yn),g(this,vn))}get blank(){if(!ot(this))throw new TypeError("invalid receiver");return oi(g(this,un),g(this,Ht),g(this,Cn),g(this,hn),g(this,fn),g(this,pn),g(this,mn),g(this,gn),g(this,yn),g(this,vn))===0}with(e){if(!ot(this))throw new TypeError("invalid receiver");const n=Te(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial");if(!n)throw new TypeError("invalid duration-like");const{years:r=g(this,un),months:i=g(this,Ht),weeks:s=g(this,Cn),days:o=g(this,hn),hours:a=g(this,fn),minutes:l=g(this,pn),seconds:c=g(this,mn),milliseconds:d=g(this,gn),microseconds:u=g(this,yn),nanoseconds:f=g(this,vn)}=n;return new is(r,i,s,o,a,l,c,d,u,f)}negated(){if(!ot(this))throw new TypeError("invalid receiver");return P3(this)}abs(){if(!ot(this))throw new TypeError("invalid receiver");return new is(Math.abs(g(this,un)),Math.abs(g(this,Ht)),Math.abs(g(this,Cn)),Math.abs(g(this,hn)),Math.abs(g(this,fn)),Math.abs(g(this,pn)),Math.abs(g(this,mn)),Math.abs(g(this,gn)),Math.abs(g(this,yn)),Math.abs(g(this,vn)))}add(e,n){if(!ot(this))throw new TypeError("invalid receiver");return jv("add",this,e,n)}subtract(e,n){if(!ot(this))throw new TypeError("invalid receiver");return jv("subtract",this,e,n)}round(e){if(!ot(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let n=g(this,un),r=g(this,Ht),i=g(this,Cn),s=g(this,hn),o=g(this,fn),a=g(this,pn),l=g(this,mn),c=g(this,gn),d=g(this,yn),u=g(this,vn),f=Gp(n,r,i,s,o,a,l,c,d,u);const p=typeof e=="string"?oa("smallestUnit",e):Ee(e);let m=Yt(p,"smallestUnit","datetime",void 0),v=!0;m||(v=!1,m="nanosecond"),f=qn(f,m);let b=Yt(p,"largestUnit","datetime",void 0,["auto"]),x=!0;if(b||(x=!1,b=f),b==="auto"&&(b=f),!v&&!x)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(qn(b,m)!==b)throw new RangeError(`largestUnit ${b} cannot be smaller than smallestUnit ${m}`);const T=kn(p,"halfExpand"),E=Ig(p,m);let S=Rd(p);return{years:n,months:r,weeks:i,days:s}=ed(n,r,i,s,b,S),{years:n,months:r,weeks:i,days:s,hours:o,minutes:a,seconds:l,milliseconds:c,microseconds:d,nanoseconds:u}=gs(n,r,i,s,o,a,l,c,d,u,E,m,T,S),{years:n,months:r,weeks:i,days:s,hours:o,minutes:a,seconds:l,milliseconds:c,microseconds:d,nanoseconds:u}=L3(n,r,i,s,o,a,l,c,d,u,E,m,T,S),{years:n,months:r,weeks:i,days:s}=function(M,P,R,I,U,L){let z=M,q=P,W=R,B=I;const Z=ce("%Temporal.Duration%"),ne=oi(z,q,W,B,0,0,0,0,0,0);if(ne===0)return{years:z,months:q,weeks:W,days:B};let J,G;L&&(G=Be(L),J=g(G,Y));const K=new Z(ne),Q=new Z(0,ne),A=new Z(0,0,ne);switch(U){case"year":{if(!J)throw new RangeError("a starting point is required for years balancing");let F,H,V;for({relativeTo:F,days:H}=rn(J,G,K);ke(B)>=ke(H);)B-=H,z+=ne,G=F,{relativeTo:F,days:H}=rn(J,G,K);for({relativeTo:F,days:V}=rn(J,G,Q);ke(B)>=ke(V);)B-=V,q+=ne,G=F,{relativeTo:F,days:V}=rn(J,G,Q);const se=J.dateAdd;F=bn(J,G,K,void 0,se);const de=J.dateUntil,Se=Xt(null);Se.largestUnit="month";let De=fs(J,G,F,Se,de),Oe=g(De,Ht);for(;ke(q)>=ke(Oe);){q-=Oe,z+=ne,G=F,F=bn(J,G,K,void 0,se);const pt=Xt(null);pt.largestUnit="month",De=fs(J,G,F,pt,de),Oe=g(De,Ht)}break}case"month":{if(!J)throw new RangeError("a starting point is required for months balancing");let F,H;for({relativeTo:F,days:H}=rn(J,G,Q);ke(B)>=ke(H);)B-=H,q+=ne,G=F,{relativeTo:F,days:H}=rn(J,G,Q);break}case"week":{if(!J)throw new RangeError("a starting point is required for weeks balancing");let F,H;for({relativeTo:F,days:H}=rn(J,G,A);ke(B)>=ke(H);)B-=H,W+=ne,G=F,{relativeTo:F,days:H}=rn(J,G,A);break}}return{years:z,months:q,weeks:W,days:B}}(n,r,i,s,b,S),oe(S)&&(S=em(S,n,r,i,0)),{days:s,hours:o,minutes:a,seconds:l,milliseconds:c,microseconds:d,nanoseconds:u}=Hn(s,o,a,l,c,d,u,b,S),new is(n,r,i,s,o,a,l,c,d,u)}total(e){if(!ot(this))throw new TypeError("invalid receiver");let n=g(this,un),r=g(this,Ht),i=g(this,Cn),s=g(this,hn),o=g(this,fn),a=g(this,pn),l=g(this,mn),c=g(this,gn),d=g(this,yn),u=g(this,vn);if(e===void 0)throw new TypeError("options argument is required");const f=typeof e=="string"?oa("unit",e):Ee(e),p=Yt(f,"unit","datetime",ro),m=Rd(f);let v;({years:n,months:r,weeks:i,days:s}=ed(n,r,i,s,p,m)),oe(m)&&(v=em(m,n,r,i,0)),{days:s,hours:o,minutes:a,seconds:l,milliseconds:c,microseconds:d,nanoseconds:u}=Hn(s,o,a,l,c,d,u,p,v);const{total:b}=gs(n,r,i,s,o,a,l,c,d,u,1,p,"trunc",m);return b}toString(e){if(!ot(this))throw new TypeError("invalid receiver");const n=Ee(e),{precision:r,unit:i,increment:s}=wc(n);if(r==="minute")throw new RangeError('smallestUnit must not be "minute"');return $f(this,r,{unit:i,increment:s,roundingMode:kn(n,"trunc")})}toJSON(){if(!ot(this))throw new TypeError("invalid receiver");return $f(this)}toLocaleString(e,n){if(!ot(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),$f(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return ot(e)?new is(g(e,un),g(e,Ht),g(e,Cn),g(e,hn),g(e,fn),g(e,pn),g(e,mn),g(e,gn),g(e,yn),g(e,vn)):Ko(e)}static compare(e,n,r){const i=Ko(e),s=Ko(n),o=Rd(Ee(r)),a=g(i,un),l=g(i,Ht),c=g(i,Cn);let d=g(i,hn);const u=g(i,fn),f=g(i,pn),p=g(i,mn),m=g(i,gn),v=g(i,yn);let b=g(i,vn);const x=g(s,un),T=g(s,Ht),E=g(s,Cn);let S=g(s,hn);const C=g(s,fn),M=g(s,pn),P=g(s,mn),R=g(s,gn),I=g(s,yn);let U=g(s,vn);const L=Pv(o,a,l,c,d),z=Pv(o,x,T,E,S);a===0&&x===0&&l===0&&T===0&&c===0&&E===0||({days:d}=ed(a,l,c,d,"day",o),{days:S}=ed(x,T,E,S,"day",o));const q=sa(d,u,f,p,m,v,b,L),W=sa(S,C,M,P,R,I,U,z);return Qs(_.toNumber(_.subtract(q,W)))}}mi(is,"Temporal.Duration");const SR=Object.create;class Jg{constructor(e,n,r=Et(),i=1972){const s=Ue(e),o=Ue(n),a=Qt(r),l=Ue(i);if(arguments.length<2)throw new RangeError("missing argument: isoMonth and isoDay are required");v3(this,s,o,a,l)}get monthCode(){if(!qt(this))throw new TypeError("invalid receiver");return _c(g(this,Y),this)}get day(){if(!qt(this))throw new TypeError("invalid receiver");return sh(g(this,Y),this)}get calendar(){if(!qt(this))throw new TypeError("invalid receiver");return g(this,Y)}with(e,n){if(!qt(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");Sa(e);const r=g(this,Y),i=Dt(r,["day","month","monthCode","year"]),s=Te(e,i,"partial");if(!s)throw new TypeError("invalid month-day-like");let o=Te(this,i,[]);return o=io(r,o,s),o=Te(o,i,[]),ra(r,o,Ee(n))}equals(e){if(!qt(this))throw new TypeError("invalid receiver");const n=xv(e);for(const r of[re,ie,te])if(g(this,r)!==g(n,r))return!1;return Ec(g(this,Y),g(n,Y))}toString(e){if(!qt(this))throw new TypeError("invalid receiver");return Sv(this,bc(Ee(e)))}toJSON(){if(!qt(this))throw new TypeError("invalid receiver");return Sv(this)}toLocaleString(e,n){if(!qt(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!qt(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("argument should be an object");const n=g(this,Y),r=Dt(n,["day","monthCode"]),i=Te(this,r,[]),s=Dt(n,["year"]);let o=io(n,i,Te(e,s,[]));o=Te(o,[...new Set([...r,...s])],[]);const a=SR(null);return a.overflow="reject",ps(n,o,a)}getISOFields(){if(!qt(this))throw new TypeError("invalid receiver");return{calendar:g(this,Y),isoDay:g(this,ie),isoMonth:g(this,re),isoYear:g(this,te)}}static from(e,n){const r=Ee(n);return qt(e)?(Tt(r),Kl(g(e,re),g(e,ie),g(e,Y),g(e,te))):xv(e,r)}}mi(Jg,"Temporal.PlainMonthDay");const e0=()=>new(ce("%Temporal.Instant%"))(Kg()),zv=(t,e=ts())=>{const n=xn(e),r=Qt(t);return or(n,e0(),r)},Yf=(t=ts())=>{const e=xn(t),n=Et();return or(e,e0(),n)},Wv=(t,e=ts())=>{const n=xn(e),r=Qt(t);return Kt(Kg(),n,r)},ts=()=>function(){const e=new o3("en-us");return new(ce("%Temporal.TimeZone%"))(f3(e.resolvedOptions().timeZone))}(),e_={instant:e0,plainDateTime:zv,plainDateTimeISO:Yf,plainDate:(t,e=ts())=>ia(zv(t,e)),plainDateISO:(t=ts())=>ia(Yf(t)),plainTimeISO:(t=ts())=>$g(Yf(t)),timeZone:ts,zonedDateTime:Wv,zonedDateTimeISO:(t=ts())=>Wv(Et(),t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(e_,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const CR=Object.assign;function Hv(t,e,n){let r=g(t,me),i=g(t,ge),s=g(t,ye),o=g(t,ve),a=g(t,be),l=g(t,we);if(n){const{unit:c,increment:d,roundingMode:u}=n;({hour:r,minute:i,second:s,millisecond:o,microsecond:a,nanosecond:l}=Qg(r,i,s,o,a,l,d,c,u))}return`${Je(r)}:${Je(i)}${uh(s,o,a,l,e)}`}class Gs{constructor(e=0,n=0,r=0,i=0,s=0,o=0){const a=Ue(e),l=Ue(n),c=Ue(r),d=Ue(i),u=Ue(s),f=Ue(o);fh(a,l,c,d,u,f),gi(this),_e(this,me,a),_e(this,ge,l),_e(this,ye,c),_e(this,ve,d),_e(this,be,u),_e(this,we,f),_e(this,Y,Et())}get calendar(){if(!at(this))throw new TypeError("invalid receiver");return g(this,Y)}get hour(){if(!at(this))throw new TypeError("invalid receiver");return g(this,me)}get minute(){if(!at(this))throw new TypeError("invalid receiver");return g(this,ge)}get second(){if(!at(this))throw new TypeError("invalid receiver");return g(this,ye)}get millisecond(){if(!at(this))throw new TypeError("invalid receiver");return g(this,ve)}get microsecond(){if(!at(this))throw new TypeError("invalid receiver");return g(this,be)}get nanosecond(){if(!at(this))throw new TypeError("invalid receiver");return g(this,we)}with(e,n){if(!at(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");Sa(e);const r=ou(e,"partial"),i=Tt(Ee(n)),s=ou(this);let{hour:o,minute:a,second:l,millisecond:c,microsecond:d,nanosecond:u}=CR(s,r);return{hour:o,minute:a,second:l,millisecond:c,microsecond:d,nanosecond:u}=th(o,a,l,c,d,u,i),new Gs(o,a,l,c,d,u)}add(e){if(!at(this))throw new TypeError("invalid receiver");return Fv("add",this,e)}subtract(e){if(!at(this))throw new TypeError("invalid receiver");return Fv("subtract",this,e)}until(e,n){if(!at(this))throw new TypeError("invalid receiver");return Iv("until",this,e,n)}since(e,n){if(!at(this))throw new TypeError("invalid receiver");return Iv("since",this,e,n)}round(e){if(!at(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?oa("smallestUnit",e):Ee(e),r=Yt(n,"smallestUnit","time",ro),i=kn(n,"halfExpand"),s=Fi(n,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1);let o=g(this,me),a=g(this,ge),l=g(this,ye),c=g(this,ve),d=g(this,be),u=g(this,we);return{hour:o,minute:a,second:l,millisecond:c,microsecond:d,nanosecond:u}=Qg(o,a,l,c,d,u,s,r,i),new Gs(o,a,l,c,d,u)}equals(e){if(!at(this))throw new TypeError("invalid receiver");const n=Ri(e);for(const r of[me,ge,ye,ve,be,we])if(g(this,r)!==g(n,r))return!1;return!0}toString(e){if(!at(this))throw new TypeError("invalid receiver");const n=Ee(e),{precision:r,unit:i,increment:s}=wc(n);return Hv(this,r,{unit:i,increment:s,roundingMode:kn(n,"trunc")})}toJSON(){if(!at(this))throw new TypeError("invalid receiver");return Hv(this,"auto")}toLocaleString(e,n){if(!at(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!at(this))throw new TypeError("invalid receiver");const n=Be(e),r=g(n,te),i=g(n,re),s=g(n,ie),o=g(n,Y);return Yn(r,i,s,g(this,me),g(this,ge),g(this,ye),g(this,ve),g(this,be),g(this,we),o)}toZonedDateTime(e){if(!at(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");const n=e.plainDate;if(n===void 0)throw new TypeError("missing date property");const r=Be(n),i=e.timeZone;if(i===void 0)throw new TypeError("missing timeZone property");const s=xn(i),o=g(r,te),a=g(r,re),l=g(r,ie),c=g(r,Y),d=g(this,me),u=g(this,ge),f=g(this,ye),p=g(this,ve),m=g(this,be),v=g(this,we);return Kt(g(wn(s,new(ce("%Temporal.PlainDateTime%"))(o,a,l,d,u,f,p,m,v,c),"compatible"),le),s,c)}getISOFields(){if(!at(this))throw new TypeError("invalid receiver");return{calendar:g(this,Y),isoHour:g(this,me),isoMicrosecond:g(this,be),isoMillisecond:g(this,ve),isoMinute:g(this,ge),isoNanosecond:g(this,we),isoSecond:g(this,ye)}}static from(e,n){const r=Tt(Ee(n));return at(e)?new Gs(g(e,me),g(e,ge),g(e,ye),g(e,ve),g(e,be),g(e,we)):Ri(e,r)}static compare(e,n){const r=Ri(e),i=Ri(n);for(const s of[me,ge,ye,ve,be,we]){const o=g(r,s),a=g(i,s);if(o!==a)return Qs(o-a)}return 0}}mi(Gs,"Temporal.PlainTime");class t0{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=Fg(e);gi(this),_e(this,Xi,n)}get id(){if(!ei(this))throw new TypeError("invalid receiver");return fe(this)}getOffsetNanosecondsFor(e){if(!ei(this))throw new TypeError("invalid receiver");const n=ii(e),r=g(this,Xi);return vl(r)?oo(r):Mi(g(n,le),r)}getOffsetStringFor(e){if(!ei(this))throw new TypeError("invalid receiver");return Zp(this,ii(e))}getPlainDateTimeFor(e,n=Et()){return or(this,ii(e),Qt(n))}getInstantFor(e,n){if(!ei(this))throw new TypeError("invalid receiver");return wn(this,Us(e),Ql(Ee(n)))}getPossibleInstantsFor(e){if(!ei(this))throw new TypeError("invalid receiver");const n=Us(e),r=ce("%Temporal.Instant%"),i=g(this,Xi);if(vl(i)){const s=ms(g(n,te),g(n,re),g(n,ie),g(n,me),g(n,ge),g(n,ye),g(n,ve),g(n,be),g(n,we));if(s===null)throw new RangeError("DateTime outside of supported range");const o=oo(i);return[new r(_.subtract(s,_.BigInt(o)))]}return function(o,a,l,c,d,u,f,p,m,v){const b=ms(a,l,c,d,u,f,p,m,v);if(b===null)throw new RangeError("DateTime outside of supported range");let x=_.subtract(b,hs);_.lessThan(x,Wl)&&(x=b);let T=_.add(b,hs);_.greaterThan(T,Hl)&&(T=b);const E=Mi(x,o),S=Mi(T,o);return(E===S?[E]:[E,S]).map(C=>{const M=_.subtract(b,_.BigInt(C)),P=C3(M,o);if(a===P.year&&l===P.month&&c===P.day&&d===P.hour&&u===P.minute&&f===P.second&&p===P.millisecond&&m===P.microsecond&&v===P.nanosecond)return M}).filter(C=>C!==void 0)}(i,g(n,te),g(n,re),g(n,ie),g(n,me),g(n,ge),g(n,ye),g(n,ve),g(n,be),g(n,we)).map(s=>new r(s))}getNextTransition(e){if(!ei(this))throw new TypeError("invalid receiver");const n=ii(e),r=g(this,Xi);if(vl(r)||r==="UTC")return null;let i=g(n,le);const s=ce("%Temporal.Instant%");return i=function(a,l){const c=_.add(a,c3),d=Mv(D3(),c);let u=Mv(l3,a);const f=Mi(u,l);let p=u,m=f;for(;f===m&&_.lessThan(_.BigInt(u),d);)p=_.add(u,d3),m=Mi(p,l),f===m&&(u=p);return f===m?null:B3(v=>Mi(v,l),u,p,f,m)}(i,r),i===null?null:new s(i)}getPreviousTransition(e){if(!ei(this))throw new TypeError("invalid receiver");const n=ii(e),r=g(this,Xi);if(vl(r)||r==="UTC")return null;let i=g(n,le);const s=ce("%Temporal.Instant%");return i=M3(i,r),i===null?null:new s(i)}toString(){if(!ei(this))throw new TypeError("invalid receiver");return fe(g(this,Xi))}toJSON(){if(!ei(this))throw new TypeError("invalid receiver");return fe(this)}static from(e){return xn(e)}}mi(t0,"Temporal.TimeZone");const DR=Object.create;class n0{constructor(e,n,r=Et(),i=1){const s=Ue(e),o=Ue(n),a=Qt(r),l=Ue(i);if(arguments.length<2)throw new RangeError("missing argument: isoYear and isoMonth are required");b3(this,s,o,a,l)}get year(){if(!Ie(this))throw new TypeError("invalid receiver");return rh(g(this,Y),this)}get month(){if(!Ie(this))throw new TypeError("invalid receiver");return ih(g(this,Y),this)}get monthCode(){if(!Ie(this))throw new TypeError("invalid receiver");return _c(g(this,Y),this)}get calendar(){if(!Ie(this))throw new TypeError("invalid receiver");return g(this,Y)}get era(){if(!Ie(this))throw new TypeError("invalid receiver");return oh(g(this,Y),this)}get eraYear(){if(!Ie(this))throw new TypeError("invalid receiver");return ah(g(this,Y),this)}get daysInMonth(){if(!Ie(this))throw new TypeError("invalid receiver");return Tc(g(this,Y),this)}get daysInYear(){if(!Ie(this))throw new TypeError("invalid receiver");return lh(g(this,Y),this)}get monthsInYear(){if(!Ie(this))throw new TypeError("invalid receiver");return ch(g(this,Y),this)}get inLeapYear(){if(!Ie(this))throw new TypeError("invalid receiver");return dh(g(this,Y),this)}with(e,n){if(!Ie(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid argument");Sa(e);const r=g(this,Y),i=Dt(r,["month","monthCode","year"]),s=Te(e,i,"partial");if(!s)throw new TypeError("invalid year-month-like");let o=Te(this,i,[]);return o=io(r,o,s),o=Te(o,i,[]),so(r,o,Ee(n))}add(e,n){if(!Ie(this))throw new TypeError("invalid receiver");return Bv("add",this,e,n)}subtract(e,n){if(!Ie(this))throw new TypeError("invalid receiver");return Bv("subtract",this,e,n)}until(e,n){if(!Ie(this))throw new TypeError("invalid receiver");return Nv("until",this,e,n)}since(e,n){if(!Ie(this))throw new TypeError("invalid receiver");return Nv("since",this,e,n)}equals(e){if(!Ie(this))throw new TypeError("invalid receiver");const n=gl(e);for(const r of[te,re,ie])if(g(this,r)!==g(n,r))return!1;return Ec(g(this,Y),g(n,Y))}toString(e){if(!Ie(this))throw new TypeError("invalid receiver");return Cv(this,bc(Ee(e)))}toJSON(){if(!Ie(this))throw new TypeError("invalid receiver");return Cv(this)}toLocaleString(e,n){if(!Ie(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Ie(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("argument should be an object");const n=g(this,Y),r=Dt(n,["monthCode","year"]),i=Te(this,r,[]),s=Dt(n,["day"]);let o=io(n,i,Te(e,s,[]));o=Te(o,[...new Set([...r,...s])],[]);const a=DR(null);return a.overflow="reject",ps(n,o,a)}getISOFields(){if(!Ie(this))throw new TypeError("invalid receiver");return{calendar:g(this,Y),isoDay:g(this,ie),isoMonth:g(this,re),isoYear:g(this,te)}}static from(e,n){const r=Ee(n);return Ie(e)?(Tt(r),Gl(g(e,te),g(e,re),g(e,Y),g(e,ie))):gl(e,r)}static compare(e,n){const r=gl(e),i=gl(n);return rs(g(r,te),g(r,re),g(r,ie),g(i,te),g(i,re),g(i,ie))}}mi(n0,"Temporal.PlainYearMonth");class r0{constructor(e,n,r=Et()){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");w3(this,Dl(e),xn(n),Qt(r))}get calendar(){if(!oe(this))throw new TypeError("invalid receiver");return g(this,Y)}get timeZone(){if(!oe(this))throw new TypeError("invalid receiver");return g(this,je)}get year(){if(!oe(this))throw new TypeError("invalid receiver");return rh(g(this,Y),Ke(this))}get month(){if(!oe(this))throw new TypeError("invalid receiver");return ih(g(this,Y),Ke(this))}get monthCode(){if(!oe(this))throw new TypeError("invalid receiver");return _c(g(this,Y),Ke(this))}get day(){if(!oe(this))throw new TypeError("invalid receiver");return sh(g(this,Y),Ke(this))}get hour(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),me)}get minute(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),ge)}get second(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),ye)}get millisecond(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),ve)}get microsecond(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),be)}get nanosecond(){if(!oe(this))throw new TypeError("invalid receiver");return g(Ke(this),we)}get era(){if(!oe(this))throw new TypeError("invalid receiver");return oh(g(this,Y),Ke(this))}get eraYear(){if(!oe(this))throw new TypeError("invalid receiver");return ah(g(this,Y),Ke(this))}get epochSeconds(){if(!oe(this))throw new TypeError("invalid receiver");const e=g(this,le);return _.toNumber(_.divide(e,Ii))}get epochMilliseconds(){if(!oe(this))throw new TypeError("invalid receiver");const e=g(this,le);return _.toNumber(_.divide(e,fr))}get epochMicroseconds(){if(!oe(this))throw new TypeError("invalid receiver");const e=g(this,le);return uu(_.divide(e,Le))}get epochNanoseconds(){if(!oe(this))throw new TypeError("invalid receiver");return uu(g(this,le))}get dayOfWeek(){if(!oe(this))throw new TypeError("invalid receiver");return Ng(g(this,Y),Ke(this))}get dayOfYear(){if(!oe(this))throw new TypeError("invalid receiver");return Ag(g(this,Y),Ke(this))}get weekOfYear(){if(!oe(this))throw new TypeError("invalid receiver");return jg(g(this,Y),Ke(this))}get hoursInDay(){if(!oe(this))throw new TypeError("invalid receiver");const e=Ke(this),n=ce("%Temporal.PlainDateTime%"),r=g(e,te),i=g(e,re),s=g(e,ie),o=new n(r,i,s,0,0,0,0,0,0),a=Vs(r,i,s,0,0,0,1,"reject"),l=new n(a.year,a.month,a.day,0,0,0,0,0,0),c=g(this,je),d=g(wn(c,o,"compatible"),le),u=g(wn(c,l,"compatible"),le);return _.toNumber(_.subtract(u,d))/36e11}get daysInWeek(){if(!oe(this))throw new TypeError("invalid receiver");return Lg(g(this,Y),Ke(this))}get daysInMonth(){if(!oe(this))throw new TypeError("invalid receiver");return Tc(g(this,Y),Ke(this))}get daysInYear(){if(!oe(this))throw new TypeError("invalid receiver");return lh(g(this,Y),Ke(this))}get monthsInYear(){if(!oe(this))throw new TypeError("invalid receiver");return ch(g(this,Y),Ke(this))}get inLeapYear(){if(!oe(this))throw new TypeError("invalid receiver");return dh(g(this,Y),Ke(this))}get offset(){if(!oe(this))throw new TypeError("invalid receiver");return Zp(g(this,je),g(this,an))}get offsetNanoseconds(){if(!oe(this))throw new TypeError("invalid receiver");return Qr(g(this,je),g(this,an))}with(e,n){if(!oe(this))throw new TypeError("invalid receiver");if(!Qe(e))throw new TypeError("invalid zoned-date-time-like");Sa(e);const r=Ee(n),i=Ql(r),s=Kp(r,"prefer"),o=g(this,je),a=g(this,Y),l=Qp(Dt(a,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),"offset"),c=Te(e,l,"partial"),d=Qp(l,"timeZone");let u=Te(this,d,["timeZone","offset"]);u=io(a,u,c),u=Te(u,d,["timeZone","offset"]);let{year:f,month:p,day:m,hour:v,minute:b,second:x,millisecond:T,microsecond:E,nanosecond:S}=xc(a,u,r);return Kt(au(f,p,m,v,b,x,T,E,S,"option",oo(u.offset),o,i,s,!1),g(this,je),a)}withPlainDate(e){if(!oe(this))throw new TypeError("invalid receiver");const n=Be(e),r=g(n,te),i=g(n,re),s=g(n,ie);let o=g(n,Y);const a=Ke(this),l=g(a,me),c=g(a,ge),d=g(a,ye),u=g(a,ve),f=g(a,be),p=g(a,we);o=x3(g(this,Y),o);const m=g(this,je);return Kt(g(wn(m,new(ce("%Temporal.PlainDateTime%"))(r,i,s,l,c,d,u,f,p,o),"compatible"),le),m,o)}withPlainTime(e){if(!oe(this))throw new TypeError("invalid receiver");const n=ce("%Temporal.PlainTime%"),r=e===void 0?new n:Ri(e),i=Ke(this),s=g(i,te),o=g(i,re),a=g(i,ie),l=g(this,Y),c=g(r,me),d=g(r,ge),u=g(r,ye),f=g(r,ve),p=g(r,be),m=g(r,we),v=g(this,je);return Kt(g(wn(v,new(ce("%Temporal.PlainDateTime%"))(s,o,a,c,d,u,f,p,m,l),"compatible"),le),v,l)}withTimeZone(e){if(!oe(this))throw new TypeError("invalid receiver");const n=xn(e);return Kt(g(this,le),n,g(this,Y))}withCalendar(e){if(!oe(this))throw new TypeError("invalid receiver");const n=Qt(e);return Kt(g(this,le),g(this,je),n)}add(e,n){if(!oe(this))throw new TypeError("invalid receiver");return Uv("add",this,e,n)}subtract(e,n){if(!oe(this))throw new TypeError("invalid receiver");return Uv("subtract",this,e,n)}until(e,n){if(!oe(this))throw new TypeError("invalid receiver");return Av("until",this,e,n)}since(e,n){if(!oe(this))throw new TypeError("invalid receiver");return Av("since",this,e,n)}round(e){if(!oe(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const n=typeof e=="string"?oa("smallestUnit",e):Ee(e),r=Yt(n,"smallestUnit","time",ro,["day"]),i=kn(n,"halfExpand"),s=Fi(n,{day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[r],!1),o=Ke(this);let a=g(o,te),l=g(o,re),c=g(o,ie),d=g(o,me),u=g(o,ge),f=g(o,ye),p=g(o,ve),m=g(o,be),v=g(o,we);const b=ce("%Temporal.PlainDateTime%"),x=g(this,je),T=g(this,Y),E=wn(x,new b(g(o,te),g(o,re),g(o,ie),0,0,0,0,0,0),"compatible"),S=pr(E,x,T,0,0,0,1,0,0,0,0,0,0),C=_.subtract(S,_.BigInt(g(E,le)));if(_.equal(C,xt))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero-length days");return{year:a,month:l,day:c,hour:d,minute:u,second:f,millisecond:p,microsecond:m,nanosecond:v}=Vg(a,l,c,d,u,f,p,m,v,s,r,i,_.toNumber(C)),Kt(au(a,l,c,d,u,f,p,m,v,"option",Qr(x,g(this,an)),x,"compatible","prefer",!1),x,g(this,Y))}equals(e){if(!oe(this))throw new TypeError("invalid receiver");const n=yl(e),r=g(this,le),i=g(n,le);return!!_.equal(_.BigInt(r),_.BigInt(i))&&!!_3(g(this,je),g(n,je))&&Ec(g(this,Y),g(n,Y))}toString(e){if(!oe(this))throw new TypeError("invalid receiver");const n=Ee(e),{precision:r,unit:i,increment:s}=wc(n),o=kn(n,"trunc");return Dv(this,r,bc(n),function(l){return ys(l,"timeZoneName",["auto","never"],"auto")}(n),function(l){return ys(l,"offset",["auto","never"],"auto")}(n),{unit:i,increment:s,roundingMode:o})}toLocaleString(e,n){if(!oe(this))throw new TypeError("invalid receiver");return new _s(e,n).format(this)}toJSON(){if(!oe(this))throw new TypeError("invalid receiver");return Dv(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!oe(this))throw new TypeError("invalid receiver");const e=Ke(this),n=ce("%Temporal.PlainDateTime%"),r=g(this,Y),i=new n(g(e,te),g(e,re),g(e,ie),0,0,0,0,0,0,r),s=g(this,je);return Kt(g(wn(s,i,"compatible"),le),s,r)}toInstant(){if(!oe(this))throw new TypeError("invalid receiver");return new(ce("%Temporal.Instant%"))(g(this,le))}toPlainDate(){if(!oe(this))throw new TypeError("invalid receiver");return ia(Ke(this))}toPlainTime(){if(!oe(this))throw new TypeError("invalid receiver");return $g(Ke(this))}toPlainDateTime(){if(!oe(this))throw new TypeError("invalid receiver");return Ke(this)}toPlainYearMonth(){if(!oe(this))throw new TypeError("invalid receiver");const e=g(this,Y);return so(e,Te(this,Dt(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!oe(this))throw new TypeError("invalid receiver");const e=g(this,Y);return ra(e,Te(this,Dt(e,["day","monthCode"]),[]))}getISOFields(){if(!oe(this))throw new TypeError("invalid receiver");const e=Ke(this),n=g(this,je);return{calendar:g(this,Y),isoDay:g(e,ie),isoHour:g(e,me),isoMicrosecond:g(e,be),isoMillisecond:g(e,ve),isoMinute:g(e,ge),isoMonth:g(e,re),isoNanosecond:g(e,we),isoSecond:g(e,ye),isoYear:g(e,te),offset:Zp(n,g(this,an)),timeZone:n}}static from(e,n){const r=Ee(n);return oe(e)?(Tt(r),Ql(r),Kp(r,"reject"),Kt(g(e,le),g(e,je),g(e,Y))):yl(e,r)}static compare(e,n){const r=yl(e),i=yl(n),s=g(r,le),o=g(i,le);return _.lessThan(_.BigInt(s),_.BigInt(o))?-1:_.greaterThan(_.BigInt(s),_.BigInt(o))?1:0}}function Ke(t){return or(g(t,je),g(t,an),g(t,Y))}mi(r0,"Temporal.ZonedDateTime");var he=Object.freeze({__proto__:null,Instant:Wr,Calendar:pu,PlainDate:Dc,PlainDateTime:Mc,Duration:is,PlainMonthDay:Jg,Now:e_,PlainTime:Gs,TimeZone:t0,PlainYearMonth:n0,ZonedDateTime:r0});const MR=[Wr,pu,Dc,Mc,is,Jg,Gs,t0,n0,r0];for(const t of MR){const e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}const i0={ethiopian:"ethiopic",coptic:"coptic",gregorian:"gregory",islamic:"islamic",iso8601:"iso8601",nepali:"nepali",thai:"buddhist",persian:"persian"},qv={gregory:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],iso8601:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],ethiopic:[{value:1,label:"Meskerem"},{value:2,label:"Tekemt"},{value:3,label:"Hedar"},{value:4,label:"Tahsas"},{value:5,label:"Ter"},{value:6,label:"Yekatit"},{value:7,label:"Megabit"},{value:8,label:"Miazia"},{value:9,label:"Genbot"},{value:10,label:"Sene"},{value:11,label:"Hamle"},{value:12,label:"Nehasse"},{value:13,label:"Pagumen"}],coptic:[{value:1,label:"Thout"},{value:2,label:"Baba"},{value:3,label:"Hator"},{value:4,label:"Kiahk"},{value:5,label:"Toba"},{value:6,label:"Amshir"},{value:7,label:"Baramhat"},{value:8,label:"Baramouda"},{value:9,label:"Bashans"},{value:10,label:"Paona"},{value:11,label:"Epep"},{value:12,label:"Mesra"},{value:13,label:"Nasie"}],islamic:[{value:1,label:"Muharram"},{value:2,label:"Safar"},{value:3,label:"Rabi I"},{value:4,label:"Rabi II"},{value:5,label:"Jumada I"},{value:6,label:"Jumada II"},{value:7,label:"Rajab"},{value:8,label:"Shaban"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal"},{value:11,label:"Dhul-Qidah"},{value:12,label:"Dhul-Hijjah"}],persian:[{value:1,label:"Farvardin"},{value:2,label:"Ordibehesht"},{value:3,label:"Khordad"},{value:4,label:"Tir"},{value:5,label:"Mordad"},{value:6,label:"Shahrivar"},{value:7,label:"Mehr"},{value:8,label:"Aban"},{value:9,label:"Azar"},{value:10,label:"Dey"},{value:11,label:"Bahman"},{value:12,label:"Esfand"}],nepali:[{value:1,label:"Baisakh"},{value:2,label:"Jestha"},{value:3,label:"Ashadh"},{value:4,label:"Shrawan"},{value:5,label:"Bhadra"},{value:6,label:"Ashwin"},{value:7,label:"Kartik"},{value:8,label:"Mangsir"},{value:9,label:"Paush"},{value:10,label:"Mangh"},{value:11,label:"Falgun"},{value:12,label:"Chaitra"}],"islamic-civil":[{value:1,label:"Muharram"},{value:2,label:"Safar"},{value:3,label:"Rabi I"},{value:4,label:"Rabi II"},{value:5,label:"Jumada I"},{value:6,label:"Jumada II"},{value:7,label:"Rajab"},{value:8,label:"Shaban"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal"},{value:11,label:"Dhul-Qidah"},{value:12,label:"Dhul-Hijjah"}],"islamic-umalqura":[{value:1,label:"Muharram"},{value:2,label:"Safar"},{value:3,label:"Rabi I"},{value:4,label:"Rabi II"},{value:5,label:"Jumada I"},{value:6,label:"Jumada II"},{value:7,label:"Rajab"},{value:8,label:"Shaban"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal"},{value:11,label:"Dhul-Qidah"},{value:12,label:"Dhul-Hijjah"}],"islamic-tbla":[{value:1,label:"Muharram"},{value:2,label:"Safar"},{value:3,label:"Rabi I"},{value:4,label:"Rabi II"},{value:5,label:"Jumada I"},{value:6,label:"Jumada II"},{value:7,label:"Rajab"},{value:8,label:"Shaban"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal"},{value:11,label:"Dhul-Qidah"},{value:12,label:"Dhul-Hijjah"}],"islamic-rgsa":[{value:1,label:"Muharram"},{value:2,label:"Safar"},{value:3,label:"Rabi I"},{value:4,label:"Rabi II"},{value:5,label:"Jumada I"},{value:6,label:"Jumada II"},{value:7,label:"Rajab"},{value:8,label:"Shaban"},{value:9,label:"Ramadan"},{value:10,label:"Shawwal"},{value:11,label:"Dhul-Qidah"},{value:12,label:"Dhul-Hijjah"}],hebrew:[{value:1,label:"Tishri"},{value:2,label:"Heshvan"},{value:3,label:"Kislev"},{value:4,label:"Tevet"},{value:5,label:"Shevat"},{value:6,label:"Adar I"},{value:7,label:"Adar II"},{value:8,label:"Nisan"},{value:9,label:"Iyar"},{value:10,label:"Sivan"},{value:11,label:"Tammuz"},{value:12,label:"Av"},{value:13,label:"Elul"}],ethioaa:[{value:1,label:"Meskerem"},{value:2,label:"Tekemt"},{value:3,label:"Hedar"},{value:4,label:"Tahsas"},{value:5,label:"Ter"},{value:6,label:"Yekatit"},{value:7,label:"Megabit"},{value:8,label:"Miazia"},{value:9,label:"Genbot"},{value:10,label:"Sene"},{value:11,label:"Hamle"},{value:12,label:"Nehasse"},{value:13,label:"Pagumen"}],indian:[{value:1,label:"Chaitra"},{value:2,label:"Vaisakha"},{value:3,label:"Jyaistha"},{value:4,label:"Asadha"},{value:5,label:"Sravana"},{value:6,label:"Bhadra"},{value:7,label:"Asvina"},{value:8,label:"Kartika"},{value:9,label:"Agrahayana"},{value:10,label:"Pausa"},{value:11,label:"Magha"},{value:12,label:"Phalguna"}]},PR={nepali:{"ne-NP":{monthNames:["","","","","","","","","","","",""],dayNamesShort:["","","","","","",""],numbers:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},"en-NP":{monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],dayNamesShort:["Som","Mangl","Budha","Bihi","Shukra","Shani","Aaita"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"]}}},nr={1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,32,31,32,31,30,30,30,29,30,29,31],2082:[17,31,31,32,31,31,31,30,29,30,29,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]};let kR=class extends he.Calendar{constructor(){super("iso8601")}toString(){return"nepali"}year(e){var n;const{isoYear:r,isoMonth:i,isoDay:s}=e.getISOFields();return(n=Wf({year:r,month:i,day:s}))===null||n===void 0?void 0:n.year}eraYear(e){return this.year(e)}daysInMonth(e){const{year:n,month:r}=e;return nr[n][r]}month(e){var n;const{isoYear:r,isoMonth:i,isoDay:s}=e.getISOFields();return(n=Wf({year:r,month:i,day:s}))===null||n===void 0?void 0:n.month}monthCode(e){const{month:n}=e;return t_(n)}day(e){const{isoYear:n,isoMonth:r,isoDay:i}=e.getISOFields(),{day:s}=Wf({year:n,month:r,day:i});return s}dateFromFields(e,n){const{year:r,day:i,month:s}=zf({year:e.year,month:e.month,day:e.day},n);return new he.PlainDate(r,s,i,this)}yearMonthFromFields(e){const{year:n,day:r,month:i}=zf({year:e.year,month:e.month,day:e.day});return new he.PlainYearMonth(n,i,this,r)}monthDayFromFields(e){const{year:n,day:r,month:i}=zf({year:e.year,month:e.month,day:e.day});return new he.PlainMonthDay(r,i,this,n)}};const im=Object.keys(nr),mu=Number(im[0]),gu=Number(im[im.length-1]),zf=function(t){let{overflow:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{year:n}=t;if(n<mu||n>gu)throw new Error(`Conversions are only possible between ${mu} and ${gu} in Nepali calendar`);const{month:r,day:i=1}=t;if(e==="reject"&&(r<1||r>12||i>nr[n][r]))throw new Error("Invalid date in Nepali calendar");let s=0,o=r;const a=n-(r>9||o===9&&i>=nr[n][0]?56:57);for(r!==9&&(s=i,o--);o!==9;)o<=0&&(o=12,n--),s+=nr[n][o],o--;r===9?(s+=i-nr[n][0],s<0&&(s+=he.PlainDate.from({year:a,day:1,month:1}).daysInYear)):s+=nr[n][9]-nr[n][0];const l=he.PlainDate.from({year:a,month:1,day:1}).add({days:s});return{year:l.year,month:l.month,monthCode:t_(l.month),day:l.day}},Wf=t=>{const e=he.PlainDate.from({year:t.year,month:t.month,day:t.day}),n=e.year,r=e.dayOfYear;let i=n+56;if(!nr[i])throw new Error(`Conversions are only possible between ${mu} and ${gu} in Nepali calendar`);let s=9;const o=nr[i][0];let a=nr[i][s]-o+1;for(;r>a;){var l;s++,s>12&&(s=1,i++),a+=(l=nr[i])===null||l===void 0?void 0:l[s]}if(!nr[i])throw new Error(`Conversions are only possible between ${mu} and ${gu} in Nepali calendar`);const c=nr[i][s]-(a-r);return{year:i,month:s,day:c}};function t_(t){return`M${t.toString().padStart(2,"0")}`}const s0={nepali:{calendar:new kR,locales:PR.nepali,defaultLocale:"en-NP"}},OR=/^(?:(\d{4})([-./])(\d{2})(\2)(\d{2})|(\d{2})([-./])(\d{2})(\7)(\d{4}))$/;function Ld(t,e){const n=t.match(OR);if(!n)throw new Error(k.t('Date string is invalid, received "{{dateString}}"',{dateString:t}));let r,i,s,o;if(n[1]?(r=n[1],i=n[3],s=n[5],o="YYYY-MM-DD"):(s=n[6],i=n[8],r=n[10],o="DD-MM-YYYY"),e&&o!==e.toUpperCase())throw new Error(k.t("Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.",{format:e,detectedFormat:o}));const a=parseInt(r,10),l=parseInt(i,10),c=parseInt(s,10);return{year:a,month:l,day:c,format:o}}const o0=function(){var t,e,n,r,i,s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"gregory",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:((t=Intl)===null||t===void 0||(e=t.DateTimeFormat)===null||e===void 0||(n=(r=e.call(t)).resolvedOptions)===null||n===void 0||(i=n.call(r))===null||i===void 0?void 0:i.timeZone)||"UTC";const l=he.Now.zonedDateTime("gregory",a);let c=(s=i0[o])!==null&&s!==void 0?s:o;return vi(c)&&(c=a0(c)),he.ZonedDateTime.from(l).withCalendar(c)};let $s;(function(t){t.INVALID_DATE_IN_CALENDAR="INVALID_DATE_IN_CALENDAR",t.WRONG_FORMAT="WRONG_FORMAT",t.LESS_THAN_MIN="LESS_THAN_MIN",t.MORE_THAN_MAX="INVALID_DATE_MORE_THAN_MAX"})($s||($s={}));const n_=function(t){var e;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{calendar:r="gregory",minDateString:i,maxDateString:s,strictValidation:o=!0,format:a}=n,l=a0((e=i0[r])!==null&&e!==void 0?e:r);if(!t)return{valid:!1,error:!0,validationCode:$s.WRONG_FORMAT,validationText:k.t("Date is not given")};let c;try{c=Ld(t,a)}catch(f){return{valid:!1,error:!0,validationCode:$s.WRONG_FORMAT,validationText:f==null?void 0:f.message}}let d;try{d=vi(l)?he.Calendar.from(l).dateFromFields(c,{overflow:"reject"}):he.PlainDate.from({...c,calendar:l},{overflow:"reject"})}catch{return{valid:!1,error:!0,validationCode:$s.INVALID_DATE_IN_CALENDAR,validationText:k.t("Invalid date in specified calendar")}}const u=o?{error:!0,valid:!1}:{warning:!0,valid:!0};if(i){const f=Ld(i),p=he.PlainDate.from({...f,calendar:l});if(he.PlainDate.compare(d,p)<0)return{...u,validationCode:$s.LESS_THAN_MIN,validationText:k.t("Date {{dateString}} is less than the minimum allowed date {{minDateString}}.",{dateString:t,minDateString:i})}}if(s){const f=Ld(s),p=he.PlainDate.from({...f,calendar:l});if(he.PlainDate.compare(d,p)>0)return{...u,validationCode:$s.MORE_THAN_MAX,validationText:k.t("Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}.",{dateString:t,maxDateString:s})}}return{valid:!0,error:!1,warning:!1}},vi=t=>!!s0[t],Vv=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(e,"0")},sm=(t,e,n)=>{var r;const i=(r=t.eraYear)!==null&&r!==void 0?r:t.year,s=Vv(t.month);let o=t.day;const a=Vv(o);return n==="DD-MM-YYYY"?`${a}-${s}-${i}`:`${i}-${s}-${a}`},a0=t=>{var e;if(!vi(t))return t;const r=(e=s0[t])===null||e===void 0?void 0:e.calendar;if(!r)throw new Error(`No implemenation found for custom calendar ${t}`);return r},RR=(t,e)=>t?n_(t,e).error?AR(e):NR(t,e):IR(e),IR=t=>{const{year:e,month:n,day:r}=o0(t.calendar,t.timeZone);return{year:e,month:n,day:r,isValid:!0}},NR=(t,e)=>{const{year:n,month:r,day:i,format:s}=Ld(t);let o={year:n,month:r,day:i,format:s};return e.calendar==="ethiopic"&&(o=jR(o)),o},AR=t=>{const{year:e,month:n,day:r}=o0(t.calendar,t.timeZone);return{year:e,month:n,day:r}},jR=t=>(t.era="era1",t.eraYear=t.year,delete t.year,t),Qv=t=>qv[t.toLowerCase()]||qv.gregory,LR=["adlm","ahom","arab","arabext","armn","armnlow","bali","beng","bhks","brah","cakm","cham","cyrl","deva","ethi","finance","fullwide","geor","gong","gonm","grek","greklow","gujr","guru","hanidays","hanidec","hans","hansfin","hant","hantfin","hebr","hmng","hmnp","java","jpan","jpanfin","jpanyear","kali","khmr","knda","lana","lanatham","laoo","latn","lepc","limb","mathbold","mathdbl","mathmono","mathsanb","mathsans","mlym","modi","mong","mroo","mtei","mymr","mymrshan","mymrtlng","native","newa","nkoo","olck","orya","osma","rohg","roman","romanlow","saur","shrd","sind","sinh","sora","sund","takr","talu","taml","tamldec","telu","thai","tirh","tibt","traditio","vaii","wara","wcho"],$R=(t,e)=>{const n=Object.keys(t).find(r=>{var i,s;return((i=r.split("-"))===null||i===void 0||(s=i[0])===null||s===void 0?void 0:s.toLowerCase())===e});if(n)return t[n]},l0=(t,e)=>{var n,r;const i=s0[t];if(!i)return;const s=i.locales||{},o=(n=(r=e&&(s==null?void 0:s[e]))!==null&&r!==void 0?r:$R(s,e))!==null&&n!==void 0?n:s==null?void 0:s[i.defaultLocale];if(!o)throw new Error(`no localisation found for custom calendar ${t}. Requested locale: ${e}, Default locale ${i.defaultLocale}`);return o},FR=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{dateStyle:"full"};if(!e.calendar)throw new Error("no calendar provided to localise function");if(!t)throw new Error("a date must be provided to localiseDateLabel");const r=vi(e.calendar),i=t instanceof he.ZonedDateTime?t==null?void 0:t.toPlainDate():t;return r?sm(t):i.toLocaleString(e.locale,{calendar:e.calendar,dateStyle:n.dateStyle}).toString()},BR=(t,e)=>{var n;if(!e.calendar)throw new Error("no calendar provided to localise function");const r=vi(e.calendar),i=l0(e.calendar,e.locale);return r?(i==null||(n=i.numbers)===null||n===void 0?void 0:n[t.day])||t.day:t.toPlainDate().toLocaleString(e.locale,{calendar:e.calendar,numberingSystem:LR.includes(e.numberingSystem)?e.numberingSystem:void 0,day:"numeric"})},UR=(t,e,n)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const r=vi(e.calendar),i=l0(e.calendar,e.locale);return r?i==null?void 0:i.monthNames[t.month-1]:t.toLocaleString(e.locale,n)},YR=(t,e)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const n=vi(e.calendar),r=l0(e.calendar,e.locale),i=r==null?void 0:r.dayNamesShort[t.dayOfWeek-1];return n&&i?i:t.toPlainDate().toLocaleString(e.locale,{weekday:e.weekDayFormat,calendar:e.calendar})},zR=(t,e,n)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");return vi(e.calendar)?t.year:t.toPlainYearMonth().toLocaleString(e.locale,n)},Ur={localiseYear:zR,localiseDateLabel:FR,localiseWeekLabel:BR,localiseMonth:UR,localiseWeekDayLabel:YR},WR=(t,e)=>(e.dayOfWeek===1&&t.push([]),t[t.length-1].push(e),t),HR=t=>O.useMemo(()=>{const e={year:t.year,month:t.month,day:t.day,hour:0,minute:0,second:0,calendar:t.calendar,timeZone:t.timeZone},n=he.ZonedDateTime.from({...e,day:1}),r=n.subtract({days:n.dayOfWeek-1}),i=he.ZonedDateTime.from({...e,day:t.daysInMonth}),o=i.add({days:7-i.dayOfWeek}).toPlainDate().since(r.toPlainDate()).days;let a=he.ZonedDateTime.from(r);const l=[];for(let c=0;c<=o;c++)l.push(a),a=a.add({days:1});return l.reduce(WR,[])},[t]),qR=(t,e,n)=>O.useMemo(()=>{var r,i;const s=t.subtract({years:1}),o=t.add({years:1}),a=t.with({day:14}).subtract({months:1}),l=t.with({day:14}).add({months:1}),c={locale:n.locale,calendar:n.calendar.id,numberingSystem:n.numberingSystem},d={...c,year:"numeric"},u=function(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!E)return[];const C=parseInt(String(E));if(isNaN(C))return[];const M=[];let P,R;c.calendar==="nepali"?(P=Math.max(1971,C-(S?125:100)),R=Math.min(2100,S?C:C+25)):(P=C-(S?125:100),R=S?C:C+25);for(let I=P;I<=R;I++){const U=t.with({year:I,month:1,day:1});M.push({label:Ur.localiseYear(U,{...n,calendar:c.calendar},d).toString(),value:I})}return M},f=c.calendar==="ethiopic"?(r=t.eraYear)!==null&&r!==void 0?r:String(Ur.localiseYear(t,{...n,calendar:c.calendar},d)).split(" ")[0]:t.year,p=u(f,n.pastOnly),m={...c,month:"long"},v=vi(c.calendar),b=!v&&(i=c.locale)!==null&&i!==void 0&&i.toLowerCase().startsWith("en")?Qv(c.calendar):Qv(v?"gregory":c.calendar).map(E=>{const S=new he.Calendar(v?"gregory":c.calendar),C=S.dateFromFields({year:2e3,month:1,day:1}),M=S.dateFromFields({year:C.year,month:E.value,day:1});return{value:E.value,label:Ur.localiseMonth(M,{...n,calendar:c.calendar},m)||E.label}}),x=E=>{try{e(t.with({month:E,day:1}))}catch(S){console.error("Invalid month navigation:",S)}},T=E=>{try{e(t.with({year:E}))}catch(S){console.error("Invalid year navigation:",S)}};return{prevYear:{label:Ur.localiseYear(s,{...n,calendar:c.calendar},d),navigateTo:()=>e(s)},currYear:{label:Ur.localiseYear(t,{...n,calendar:c.calendar},d),value:f},nextYear:{label:Ur.localiseYear(o,{...n,calendar:c.calendar},d),navigateTo:()=>e(o)},prevMonth:{label:Ur.localiseMonth(a,{...n,calendar:c.calendar},m),navigateTo:()=>e(a)},currMonth:{label:Ur.localiseMonth(t,{...n,calendar:c.calendar},m)},nextMonth:{label:Ur.localiseMonth(l,{...n,calendar:c.calendar},m),navigateTo:()=>e(l)},months:b,years:p,navigateToMonth:x,navigateToYear:T}},[t,n,e]),VR=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[e,n,r]=t.replace(/_/g,"-").split("-");let i=e;r&&(i=`${i}-${r}`),n&&(i=`${i}-${n}`);try{const s=Intl.DateTimeFormat.supportedLocalesOf(i);return s&&s.length===1?i:void 0}catch{return}},QR=t=>{const e=VR(t.locale);return O.useMemo(()=>{var n,r,i,s,o,a,l;const{locale:c,...d}=new Za.DateTimeFormat(e,{calendar:t.calendar,timeZone:t.timeZone,numberingSystem:t.numberingSystem,weekday:t.weekDayFormat}).resolvedOptions(),u=Za==null||(n=Za.DateTimeFormat)===null||n===void 0||(r=(i=n.call(Za)).resolvedOptions)===null||r===void 0?void 0:r.call(i),f={calendar:"gregory",timeZone:(s=u==null?void 0:u.timeZone)!==null&&s!==void 0?s:"UTC",numberingSystem:(o=u==null?void 0:u.numberingSystem)!==null&&o!==void 0?o:"latn",locale:(a=u==null?void 0:u.locale)!==null&&a!==void 0?a:"en",weekDayFormat:(l=u==null?void 0:u.weekday)!==null&&l!==void 0?l:"narrow"};let p=c||f.locale;return t.calendar&&t.locale&&vi(t.calendar)&&(p=t.locale),{calendar:t.calendar||f.calendar,locale:p,timeZone:d.timeZone||f.timeZone,numberingSystem:d.numberingSystem||f.numberingSystem,weekDayFormat:t.weekDayFormat||f.weekDayFormat}},[e,t])},KR=t=>O.useMemo(()=>{if(!t.calendar)throw new Error("a calendar must be provided to useWeekDayLabels");const e=he.Now.zonedDateTime(t.calendar).startOfDay(),n=e.subtract({days:e.dayOfWeek-1}),r=[];for(let i=0;i<e.daysInWeek;i++){const s=n.add({days:i}),o=GR(s,t);r.push(o)}return r},[t]),GR=(t,e)=>Ur.localiseWeekDayLabel(t,e),ZR=t=>{let{onDateSelect:e,date:n,minDate:r,maxDate:i,format:s,strictValidation:o,options:a}=t;const l=O.useMemo(()=>{var R,I;const U=a0((R=i0[(I=a.calendar)!==null&&I!==void 0?I:"gregorian"])!==null&&R!==void 0?R:a.calendar);return{...a,calendar:U}},[a]),c=QR(l),d=O.useRef(n),u=O.useMemo(()=>o0(c.calendar,c.timeZone).startOfDay(),[c]),f=O.useMemo(()=>RR(n,{...c,minDateString:r,maxDateString:i,strictValidation:o,format:s}),[r,i,o,s,c,n]);f.format=f.format?f.format:s;const p=O.useMemo(()=>he.Calendar.from(c.calendar),[c.calendar]),m=O.useMemo(()=>he.TimeZone.from(c.timeZone),[c.timeZone]),v=n?he.Calendar.from(p).dateFromFields(f).toZonedDateTime({timeZone:m}):null,[b,x]=O.useState(()=>(v||u).with({day:1})),T=O.useMemo(()=>({locale:c.locale,calendar:p,timeZone:m,weekDayFormat:c.weekDayFormat,numberingSystem:c.numberingSystem}),[c,p,m]),E=KR(T),S=qR(b.withCalendar(T.calendar),x,{...T,pastOnly:a==null?void 0:a.pastOnly}),C=O.useCallback(R=>{e({calendarDateString:sm(R,void 0,f.format)})},[e,f.format]),M=HR(b);return O.useEffect(()=>{if(n===d.current)return;d.current=n;const R=he.Calendar.from(p).dateFromFields(f).toZonedDateTime({timeZone:m});(b.year!==R.year||b.month!==R.month)&&!M.some(I=>I.some(U=>U.equals(R)))&&x(R.subtract({days:R.day-1}))},[f,n,b,M,p,m]),{calendarWeekDays:M.map(R=>R.map(I=>({dateValue:sm(I,void 0,s),label:Ur.localiseWeekLabel(I.withCalendar(T.calendar),{...T,calendar:c.calendar}),onClick:()=>C(I),isSelected:v?v==null?void 0:v.withCalendar("iso8601").equals(I.withCalendar("iso8601")):!1,isToday:u&&I.equals(u),isInCurrentMonth:b&&I.month===b.month}))),...S,weekDayLabels:E}},en=["DAILY","WEEKLY","WEEKLYMON","WEEKLYTUE","WEEKLYWED","WEEKLYTHU","WEEKLYFRI","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","QUARTERLYFEB","QUARTERLYMAR","QUARTERLYAPR","QUARTERLYMAY","QUARTERLYJUN","QUARTERLYJUL","QUARTERLYAUG","QUARTERLYSEP","QUARTERLYOCT","QUARTERLYNOV","QUARTERLYDEC","SIXMONTHLY","SIXMONTHLYJAN","SIXMONTHLYFEB","SIXMONTHLYMAR","SIXMONTHLYAPR","SIXMONTHLYMAY","SIXMONTHLYJUN","SIXMONTHLYJUL","SIXMONTHLYAUG","SIXMONTHLYSEP","SIXMONTHLYOCT","SIXMONTHLYNOV","SIXMONTHLYDEC","YEARLY","FYJAN","FYFEB","FYMAR","FYAPR","FYMAY","FYJUN","FYJUL","FYAUG","FYSEP","FYOCT","FYNOV","FYDEC"];en.filter(t=>t.match(/WEEKLY/));en.filter(t=>t.match(/MONTHLY|QUARTERLY|SIXMONTHLY/));en.filter(t=>t.match(/QUARTERLY/));en.filter(t=>t.match(/SIXMONTHLY/));const XR=["MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","SIXMONTHLY","SIXMONTHLYJAN"];en.filter(t=>t.match(/(QUARTERLY|SIXMONTHLY)[A-Z]/));en.filter(t=>t.match(/^(YEARLY|FY[A-Z]{3})/));en.filter(t=>t.match(/^FY[A-Z]{3}$/));[...XR,...en.filter(t=>t.match(/JAN$/))];en.filter(t=>t.match(/FEB$/));en.filter(t=>t.match(/MAR$/));en.filter(t=>t.match(/APR$/));en.filter(t=>t.match(/MAY$/));en.filter(t=>t.match(/JUN$/));en.filter(t=>t.match(/JUL$/));en.filter(t=>t.match(/AUG$/));en.filter(t=>t.match(/SEP$/));en.filter(t=>t.match(/OCT$/));en.filter(t=>t.match(/NOV$/));en.filter(t=>t.match(/DEC/));const JR={JAN:{value:1,name:"January"},FEB:{value:2,name:"February"},MAR:{value:3,name:"March"},APR:{value:4,name:"April"},MAY:{value:5,name:"May"},JUN:{value:6,name:"June"},JUL:{value:7,name:"July"},AUG:{value:8,name:"August"},SEP:{value:9,name:"September"},OCT:{value:10,name:"October"},NOV:{value:11,name:"November"},DEC:{value:12,name:"December"}},eI={1:"",2:"Feb",3:"March",4:"April",5:"May",6:"Jun",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"};Object.values(eI).slice(1).join("|");Object.values(JR).map(t=>{let{name:e}=t;return e}).join("|");var r_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(r_);var tI=r_.exports;const i_=Rn(tI),s_=t=>{let{day:e,cellSize:n,selectedDate:r}=t;const i=y.grey200,s=y.teal700;return D.createElement("td",{"data-test":e==null?void 0:e.dateValue,onClick:e.onClick,className:j.dynamic([["2052411850",[n,n,n,n,y.grey900,i,y.grey300,s,y.teal600,y.teal200,y.grey600]]])},D.createElement("button",{name:"day",className:j.dynamic([["2052411850",[n,n,n,n,y.grey900,i,y.grey300,s,y.teal600,y.teal200,y.grey600]]])+" "+(i_("day",{isSelected:r===(e==null?void 0:e.dateValue),isToday:e.isToday,otherMonth:!e.isInCurrentMonth})||"")},e.label),D.createElement(j,{id:"2052411850",dynamic:[n,n,n,n,y.grey900,i,y.grey300,s,y.teal600,y.teal200,y.grey600]},[`td.__jsx-style-dynamic-selector{width:${n};height:100%;height:${n};text-align:center;border:2px solid transparent;padding:0;}`,"td.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:2px 2px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border:2px solid transparent;min-width:16px;}",`button.__jsx-style-dynamic-selector{border:0;overflow:hidden;width:${n};height:${n};border:2px solid transparent;border-radius:3px;background:none;color:${y.grey900};}`,`button.__jsx-style-dynamic-selector:hover{background-color:${i};-webkit-text-decoration:underline;text-decoration:underline;cursor:pointer;}`,`button.__jsx-style-dynamic-selector:active{background-color:${y.grey300};}`,`button.isSelected.__jsx-style-dynamic-selector,button.otherMonth.isSelected.__jsx-style-dynamic-selector{background-color:${s};color:white;}`,"button.isToday.__jsx-style-dynamic-selector{position:relative;}",`button.isToday.__jsx-style-dynamic-selector::after{content:'';position:absolute;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);height:4px;width:4px;bottom:2px;left:50%;border-radius:100%;background-color:${y.teal600};}`,`button.isSelected.isToday.__jsx-style-dynamic-selector::after{background-color:${y.teal200};}`,`button.otherMonth.__jsx-style-dynamic-selector{color:${y.grey600};}`]))};s_.propTypes={cellSize:h.string,day:h.shape({dateValue:h.string,isInCurrentMonth:h.bool,isSelected:h.bool,isToday:h.bool,label:h.oneOfType([h.string,h.number]),onClick:h.func}),selectedDate:h.string};const o_=t=>{let{weekDayLabels:e}=t;const n=y.grey700;return D.createElement(D.Fragment,null,D.createElement("thead",{className:j.dynamic([["1577512909",[n]]])},D.createElement("tr",{className:j.dynamic([["1577512909",[n]]])},e.map((r,i)=>D.createElement("th",{scope:"col",key:`weekday-${i}`,className:j.dynamic([["1577512909",[n]]])},r)))),D.createElement(j,{id:"1577512909",dynamic:[n]},[`th.__jsx-style-dynamic-selector{color:${n};font-weight:300;font-style:normal;padding:8px 8px;background:none;font-size:0.85em;border:none;cursor:default;}`,"tr.__jsx-style-dynamic-selector{border:none;}"]))};o_.propTypes={weekDayLabels:h.arrayOf(h.string)};const a_=t=>{let{weekDayLabels:e,calendarWeekDays:n,width:r,cellSize:i,selectedDate:s}=t;return D.createElement("div",{className:j.dynamic([["890354150",[N.dp4,N.dp4]]])+" calendar-table-wrapper"},D.createElement("table",{className:j.dynamic([["890354150",[N.dp4,N.dp4]]])+" calendar-table"},D.createElement(o_,{weekDayLabels:e}),D.createElement("tbody",{className:j.dynamic([["890354150",[N.dp4,N.dp4]]])},n.map((o,a)=>D.createElement("tr",{key:`week-${a+1}`,className:j.dynamic([["890354150",[N.dp4,N.dp4]]])},o.map(l=>D.createElement(s_,{selectedDate:s,day:l,key:l==null?void 0:l.dateValue,cellSize:i,width:r})))))),D.createElement(j,{id:"890354150",dynamic:[N.dp4,N.dp4]},[`.calendar-table.__jsx-style-dynamic-selector{border:none;border-collapse:collapse;width:100%;margin-block:0 ${N.dp4};}`,".calendar-table.__jsx-style-dynamic-selector tr.__jsx-style-dynamic-selector,.calendar-table.__jsx-style-dynamic-selector td.__jsx-style-dynamic-selector{border:none;}",`.calendar-table-wrapper.__jsx-style-dynamic-selector{padding-inline:${N.dp4};}`]))},l_={calendarWeekDays:h.arrayOf(h.arrayOf(h.shape({calendarDate:h.string,isInCurrentMonth:h.bool,isSelected:h.bool,isToday:h.bool,label:h.oneOfType([h.string,h.number]),zdt:h.object,onClick:h.func}).isRequired).isRequired).isRequired,cellSize:h.string,selectedDate:h.string,weekDayLabels:h.arrayOf(h.string),width:h.string};a_.propTypes=l_;const nI="Clear",rI={"Go to previous year":"Go to previous year","Go to next year":"Go to next year","Pick a date":"Pick a date",Clear:nI},iI="default";k.addResources("en",iI,rI);const nt=y.grey300,rt=y.grey100,c_=t=>{let{languageDirection:e,currMonth:n,currYear:r,nextMonth:i,nextYear:s,prevMonth:o,prevYear:a,navigateToYear:l,navigateToMonth:c,months:d,years:u}=t;const f=e==="ltr"?Jd:eu,p=e==="ltr"?eu:Jd,m=b=>{const x=parseInt(b.target.value);l(x)},v=b=>{const x=d.find(T=>T.label===b.target.value);x&&c(x.value)};return D.createElement(D.Fragment,null,D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" navigation-container"},D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" month"},D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" prev"},D.createElement("button",{onClick:o.navigateTo,name:"previous-month","data-test":"calendar-previous-month","aria-label":`${k.t(`Go to ${o.label}`)}`,type:"button",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement(f,{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])}))),D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" monthList"},D.createElement("select",{value:n.label,onChange:v,"data-test":"calendar-month-select",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" month-select"},d.map(b=>D.createElement("option",{key:b.value,value:b.label,className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},b.label))),D.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement("path",{d:"M10.1465 6.85363L10.8536 6.14652L8.00004 3.29297L5.14648 6.14652L5.85359 6.85363L8.00004 4.70718L10.1465 6.85363ZM5.85367 9.1466L5.14656 9.8537L8.00011 12.7073L10.8537 9.8537L10.1466 9.1466L8.00011 11.293L5.85367 9.1466Z",fill:y.grey700,className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])}))),D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" next"},D.createElement("button",{onClick:i.navigateTo,"data-test":"calendar-next-month",name:"next-month","aria-label":`${k.t(`Go to ${i.label}`)}`,type:"button",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement(p,{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])})))),D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" year"},D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" prev"},D.createElement("button",{onClick:a.navigateTo,name:"previous-year","aria-label":`${k.t("Go to previous year")}`,type:"button",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement(f,{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])}))),D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" yearList"},D.createElement("select",{value:r.value,onChange:m,"data-test":"calendar-year-select",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" year-select"},u.map(b=>{var x;return D.createElement("option",{key:b.value,value:b.value,className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},(x=b.label)===null||x===void 0?void 0:x.replace(/ERA\d/,""))})),D.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement("path",{d:"M10.1465 6.85363L10.8536 6.14652L8.00004 3.29297L5.14648 6.14652L5.85359 6.85363L8.00004 4.70718L10.1465 6.85363ZM5.85367 9.1466L5.14656 9.8537L8.00011 12.7073L10.8537 9.8537L10.1466 9.1466L8.00011 11.293L5.85367 9.1466Z",fill:y.grey700,className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])}))),D.createElement("div",{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])+" next"},D.createElement("button",{onClick:s.navigateTo,name:"next-year","aria-label":`${k.t("Go to next year")}`,type:"button",className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])},D.createElement(p,{className:j.dynamic([["1374897249",[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]]])}))))),D.createElement(j,{id:"1374897249",dynamic:[N.dp4,N.dp4,nt,rt,y.grey300,y.white,y.grey300,y.grey300,N.dp4,y.grey700,y.grey200,y.grey900,y.grey800,y.grey200,y.grey200,y.grey700]},[`.navigation-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;gap:${N.dp4};padding:${N.dp4};border-bottom:1px solid ${nt};background-color:${rt};font-size:1em;width:100%;}`,`.month.__jsx-style-dynamic-selector,.year.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border:1px solid ${y.grey300};border-radius:3px;background:${y.white};}`,".month.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",`.prev.__jsx-style-dynamic-selector{border-inline-end:1px solid ${y.grey300};}`,`.next.__jsx-style-dynamic-selector{border-inline-start:1px solid ${y.grey300};}`,".prev.__jsx-style-dynamic-selector,.next.__jsx-style-dynamic-selector,.monthList.__jsx-style-dynamic-selector,.yearList.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".prev.__jsx-style-dynamic-selector,.next.__jsx-style-dynamic-selector{width:20px;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",".monthList.__jsx-style-dynamic-selector,.yearList.__jsx-style-dynamic-selector{-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;overflow:hidden;position:relative;}",".monthList.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;width:100%;}",".monthList.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector,.yearList.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{position:absolute;inset-inline-end:0px;pointer-events:none;}",`button.__jsx-style-dynamic-selector{background:none;border:0;padding:${N.dp4} 2px;height:24px;width:20px;color:${y.grey700};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}`,`button.__jsx-style-dynamic-selector:hover{background-color:${y.grey200};color:${y.grey900};cursor:pointer;}`,`.month-select.__jsx-style-dynamic-selector,.year-select.__jsx-style-dynamic-selector{padding-inline-start:4px;padding-inline-end:16px;height:24px;white-space:nowrap;overflow:hidden;text-align:start;width:100%;max-width:100%;border-radius:0px;border:0;color:${y.grey800};background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;}`,`.month-select.__jsx-style-dynamic-selector:hover,.year-select.__jsx-style-dynamic-selector:hover{background:${y.grey200};cursor:pointer;}`,`.month-select.__jsx-style-dynamic-selector:focus,.month-select-active.__jsx-style-dynamic-selector,.year-select.__jsx-style-dynamic-selector:focus,.year-select-active.__jsx-style-dynamic-selector{background:${y.grey200};outline-color:${y.grey700};}`]))},d_={currMonth:h.shape({label:h.oneOfType([h.string,h.number])}),currYear:h.shape({label:h.oneOfType([h.string,h.number]),value:h.number}),languageDirection:h.oneOf(["ltr","rtl"]),months:h.arrayOf(h.shape({label:h.string.isRequired,value:h.number.isRequired})),navigateToMonth:h.func,navigateToYear:h.func,nextMonth:h.shape({label:h.oneOfType([h.string,h.number]),navigateTo:h.func}),nextYear:h.shape({label:h.oneOfType([h.string,h.number]),navigateTo:h.func}),prevMonth:h.shape({label:h.oneOfType([h.string,h.number]),navigateTo:h.func}),prevYear:h.shape({label:h.oneOfType([h.string,h.number]),navigateTo:h.func}),years:h.arrayOf(h.shape({label:h.string.isRequired,value:h.number.isRequired}))};c_.propTypes=d_;const Xa=y.white,u_=D.memo(function(e){let{date:n,width:r="240px",cellSize:i="32px",calendarWeekDays:s,weekDayLabels:o,currMonth:a,currYear:l,nextMonth:c,nextYear:d,prevMonth:u,prevYear:f,navigateToYear:p,navigateToMonth:m,months:v,years:b,languageDirection:x,calendarRef:T}=e;const E=O.useMemo(()=>({currMonth:a,currYear:l,nextMonth:c,nextYear:d,prevMonth:u,prevYear:f,languageDirection:x,navigateToYear:p,navigateToMonth:m,months:v,years:b}),[a,l,x,c,d,u,f,p,m,v,b]);return D.createElement("div",{className:j.dynamic([["1500576791",[Xa,r,Oi.popover]]])},D.createElement("div",{dir:x,"data-test":"calendar",className:j.dynamic([["1500576791",[Xa,r,Oi.popover]]])+" calendar-wrapper"},D.createElement("div",{ref:T,className:j.dynamic([["1500576791",[Xa,r,Oi.popover]]])},D.createElement(c_,E),D.createElement(a_,{selectedDate:n,calendarWeekDays:s,weekDayLabels:o,cellSize:i,width:r}))),D.createElement(j,{id:"1500576791",dynamic:[Xa,r,Oi.popover]},[`.calendar-wrapper.__jsx-style-dynamic-selector{font-family:Roboto,sans-serif;font-weight:400;font-size:14px;background-color:${Xa};display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-radius:3px;min-width:${r};width:-webkit-max-content;width:-moz-max-content;width:max-content;box-shadow:${Oi.popover};}`]))});u_.propTypes={date:h.string,...l_,...d_};function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(null,arguments)}const sI={name:"offset",options:{offset:[0,2]}},c0=function(){let{onDateSelect:t,calendar:e,date:n,dir:r,locale:i,numberingSystem:s,weekDayFormat:o="narrow",width:a="300px",cellSize:l="32px",clearable:c,minDate:d,maxDate:u,format:f,strictValidation:p,inputWidth:m,dataTest:v="dhis2-uiwidgets-calendar-inputfield",pastOnly:b,...x}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const T=O.useRef(),E=O.useRef(),S=O.useRef(),[C,M]=O.useState(!1),[P,R]=O.useState(n);O.useEffect(()=>R(n),[n]);const I=O.useMemo(()=>({calendar:e,locale:i,numberingSystem:s,weekDayFormat:o,pastOnly:b}),[e,i,s,o,b]),U=(J,G)=>{if(!J){t==null||t({calendarDateString:null,validation:{valid:!0}});return}const K=n_(J,G);t==null||t({calendarDateString:J,validation:K})},L=O.useMemo(()=>({calendar:e,format:f,minDateString:d,maxDateString:u,strictValidation:p}),[e,f,u,d,p]),z=ZR({onDateSelect:J=>{U(J.calendarDateString,L),M(!1)},date:n,...L,options:I}),q=J=>{M(!1),R(J.value)},W=(J,G)=>{var K;G.relatedTarget&&((K=E.current)!==null&&K!==void 0&&K.contains(G.relatedTarget)||S.current===G.relatedTarget)||(U(P,L),M(!1))},B=()=>{var J;M(!0),x==null||(J=x.onFocus)===null||J===void 0||J.call(x)},Z=EO(r,i),ne=O.useMemo(()=>({date:n,width:a,cellSize:l,isValid:z.isValid,calendarWeekDays:z.calendarWeekDays,weekDayLabels:z.weekDayLabels,currMonth:z.currMonth,currYear:z.currYear,nextMonth:z.nextMonth,nextYear:z.nextYear,prevMonth:z.prevMonth,prevYear:z.prevYear,navigateToYear:z.navigateToYear,navigateToMonth:z.navigateToMonth,months:z.months,years:z.years,languageDirection:Z}),[l,n,z,a,Z]);return D.createElement(D.Fragment,null,D.createElement("div",{ref:T,className:j.dynamic([["423137534",[m,x.error||x.warning?"36px":"6px"]]])+" calendar-input-wrapper"},D.createElement(cg,yu({label:k.t("Pick a date")},x,{dataTest:v,type:"text",onFocus:B,value:P,onChange:q,onBlur:W,inputWidth:m})),c&&D.createElement("div",{className:j.dynamic([["423137534",[m,x.error||x.warning?"36px":"6px"]]])+" "+(i_("calendar-clear-button",{"with-icon":x.valid||x.error||x.warning||x.loading,"with-dense-wrapper":x.dense})||"")},D.createElement(We,{dataTest:"calendar-clear-button",secondary:!0,small:!0,onClick:()=>U(null),type:"button"},k.t("Clear")))),C&&D.createElement(Qu,{onBackdropClick:()=>M(!1)},D.createElement(uc,{reference:T,placement:"bottom-start",modifiers:[sI],onFirstUpdate:J=>{var G;S.current=J==null||(G=J.elements)===null||G===void 0?void 0:G.popper}},D.createElement(u_,yu({},ne,{calendarRef:E})))),D.createElement(j,{id:"423137534",dynamic:[m,x.error||x.warning?"36px":"6px"]},[`.calendar-input-wrapper.__jsx-style-dynamic-selector{position:relative;width:${m};}`,`.calendar-clear-button.__jsx-style-dynamic-selector{position:absolute;inset-inline-end:${x.error||x.warning?"36px":"6px"};-webkit-inset-block-start:27px;-ms-intb-rlock-start:27px;inset-block-start:27px;}`,".calendar-clear-button.with-icon.__jsx-style-dynamic-selector{inset-inline-end:36px;}",".calendar-clear-button.with-dense-wrapper.__jsx-style-dynamic-selector{-webkit-inset-block-start:23px;-ms-intb-rlock-start:23px;inset-block-start:23px;}"]))};c0.propTypes={calendar:h.any.isRequired,onDateSelect:h.func.isRequired,cellSize:h.string,clearable:h.bool,dataTest:h.string,date:h.string,dir:h.oneOf(["ltr","rtl"]),format:h.oneOf(["YYYY-MM-DD","DD-MM-YYYY"]),inputWidth:h.string,locale:h.string,maxDate:h.string,minDate:h.string,numberingSystem:h.string,pastOnly:h.bool,strictValidation:h.bool,weekDayFormat:h.oneOf(["narrow","short","long"]),width:h.string};const oI=t=>Object.entries(QD[t]).reduce((e,n)=>{let[r,i]=n;return e[`${t}-${r}`]=i,e},{}),aI=t=>Object.entries(t).map(e=>{let[n,r]=e;return`--${n}: ${r};`}).join(`
`),h_=t=>{let{colors:e=!1,theme:n=!1,layers:r=!1,spacers:i=!1,elevations:s=!1}=t;const o={colors:e,theme:n,layers:r,spacers:i,elevations:s},a=Object.keys(o).filter(l=>o[l]).map(oI).map(aI).join(`
`);return D.createElement(j,{id:"3443925957",dynamic:[a]},[`html{${a};}`])};h_.propTypes={colors:h.bool,elevations:h.bool,layers:h.bool,spacers:h.bool,theme:h.bool};function Ao(t,e,n){return(e=lI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lI(t){var e=cI(t,"string");return typeof e=="symbol"?e:e+""}function cI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Kv extends Date{constructor(e){let{date:n,serverOffset:r,serverTimezone:i,clientTimezone:s}=e;n?(super(n),Ao(this,"serverOffset",void 0),Ao(this,"serverTimezone",void 0),Ao(this,"clientTimezone",void 0)):(super(Date.now()),Ao(this,"serverOffset",void 0),Ao(this,"serverTimezone",void 0),Ao(this,"clientTimezone",void 0)),this.serverOffset=r,this.serverTimezone=i,this.clientTimezone=s}_getISOString(e){const n=e.getFullYear().toString().padStart(4,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),a=e.getSeconds().toString().padStart(2,"0"),l=e.getMilliseconds().toString().padStart(3,"0");return`${n}-${r}-${i}T${s}:${o}:${a}.${l}`}getServerZonedISOString(){const e=new Date(this.getTime()-this.serverOffset);return this._getISOString(e)}getClientZonedISOString(){return this._getISOString(this)}}const om=(t,e)=>{const n=new Date(t);n.setMilliseconds(0);const r=n.toLocaleString("sv",{timeZone:e}),i=new Date(r);return n.getTime()-i.getTime()},dI=(t,e)=>O.useMemo(()=>{if(t===e)return!1;try{return om(new Date,t),!0}catch(n){return console.error("Server time offset could not be determined; assuming no client/server difference",n),!1}},[t,e]),uI=()=>{const{systemInfo:t}=Jt();let e;const n=Intl.DateTimeFormat().resolvedOptions().timeZone;t!=null&&t.serverTimeZoneId?e=t.serverTimeZoneId:(e=n,console.warn("No server timezone ID found, falling back to client timezone. This could cause date conversion issues."));const r=dI(e,n),i=O.useCallback(o=>{const a=o?new Date(o):new Date(Date.now()),l=r?om(a,e):0;return new Kv({date:a.getTime()+l,serverOffset:l,serverTimezone:e,clientTimezone:n})},[r,e,n]),s=O.useCallback(o=>{const a=o?new Date(o):new Date(Date.now()),l=r?om(a,e):0;return new Kv({date:o,serverOffset:l,serverTimezone:e,clientTimezone:n})},[r,e,n]);return O.useMemo(()=>({fromServerDate:i,fromClientDate:s}),[i,s])},Hf="dhis2.lastOnline";function hI(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[n,r]=O.useState(navigator.onLine),i=O.useCallback(ID(o=>{let{type:a}=o;a==="online"?r(!0):a==="offline"&&((n||!localStorage.getItem(Hf))&&localStorage.setItem(Hf,new Date(Date.now()).toUTCString()),r(!1))},(t=e.debounceDelay)!==null&&t!==void 0?t:1e3),[e.debounceDelay]);O.useEffect(()=>(window.addEventListener("online",i),window.addEventListener("offline",i),()=>{i.flush(),window.removeEventListener("online",i),window.removeEventListener("offline",i)}),[i]);const s=O.useMemo(()=>!n&&localStorage.getItem(Hf),[n]);return{online:n,offline:!n,lastOnline:s?new Date(s):null}}var f_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(f_);var fI=f_.exports;const d0=Rn(fI),p_=t=>{let{children:e,open:n,dataTest:r}=t;return D.createElement("div",{"data-test":r,className:"jsx-3677374542 "+(d0({open:n})||"")},e,D.createElement(j,{id:"3677374542"},["div.jsx-3677374542{height:0;overflow:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".open.jsx-3677374542{height:auto;}"]))};p_.propTypes={children:h.node,dataTest:h.string,open:h.bool};const pI=()=>D.createElement("div",{className:"jsx-2503342345"},D.createElement(j,{id:"2503342345"},["div.jsx-2503342345{width:24px;}"])),mI=()=>D.createElement("div",{className:"nodeArrow"},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"jsx-4098137027"},D.createElement("path",{d:"M15.7041 10.3329L12.1495 14.3318C12.0699 14.4213 11.9301 14.4213 11.8505 14.3318L8.29589 10.3329C8.18124 10.2039 8.2728 10 8.44537 10H15.5546C15.7272 10 15.8188 10.2039 15.7041 10.3329Z",className:"jsx-4098137027"}),D.createElement(j,{id:"4098137027"},["svg.jsx-4098137027{fill:inherit;height:24px;width:24px;vertical-align:middle;pointer-events:none;}"]))),m_=t=>{let{open:e,onOpen:n,onClose:r,dataTest:i}=t;const s=e?r:n;return D.createElement("div",{"data-test":i,onClick:o=>s&&s({open:!e},o),className:j.dynamic([["375729792",[y.grey400,y.grey900,y.grey100]]])+" "+(d0({open:e})||"")},D.createElement("span",{className:j.dynamic([["375729792",[y.grey400,y.grey900,y.grey100]]])},D.createElement(mI,null)),D.createElement(j,{id:"375729792",dynamic:[y.grey400,y.grey900,y.grey100]},["div.__jsx-style-dynamic-selector{width:24px;position:relative;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}",`div.__jsx-style-dynamic-selector:after{background:${y.grey400};height:calc(100% - 24px);inset-inline-start:12px;position:absolute;top:15px;width:1px;z-index:1;}`,".open.__jsx-style-dynamic-selector:after{content:'';}",`span.__jsx-style-dynamic-selector{display:block;position:relative;z-index:2;fill:${y.grey900};}`,"div.__jsx-style-dynamic-selector .nodeArrow{vertical-align:top;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transition:-webkit-transform 0.1s ease-out;-webkit-transition:transform 0.1s ease-out;transition:transform 0.1s ease-out;}","div.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);}",".open.__jsx-style-dynamic-selector .nodeArrow{-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",".open.__jsx-style-dynamic-selector .nodeArrow:dir(rtl){-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}",`div.__jsx-style-dynamic-selector:hover{cursor:pointer;border-radius:3px;background:${y.grey100};}`,"div.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:after{background:#bcc8d4;}"]))};m_.propTypes={dataTest:h.string.isRequired,open:h.bool,onClose:h.func,onOpen:h.func};const g_=t=>{let{open:e,className:n,component:r,children:i,icon:s,onOpen:o,onClose:a,dataTest:l="dhis2-uicore-node"}=t;const c=!!D.Children.toArray(i).filter(f=>f).length,d=!s&&c,u=!s&&!c;return D.createElement("div",{"data-test":l,className:"jsx-1433072554 "+(d0("node",n)||"")},s&&D.createElement("div",{"data-test":`${l}-icon`,className:"jsx-1433072554"},s),d&&D.createElement(m_,{open:e,onOpen:o,onClose:a,dataTest:`${l}-toggle`}),u&&D.createElement(pI,null),D.createElement("div",{"data-test":`${l}-content`,className:"jsx-1433072554"},D.createElement("div",{"data-test":`${l}-label`,className:"jsx-1433072554"},r),D.createElement(p_,{open:e,dataTest:`${l}-leaves`},i)),D.createElement(j,{id:"1433072554"},[".node.jsx-1433072554{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}"]))};g_.propTypes={children:h.node,className:h.string,component:h.element,dataTest:h.string,icon:h.node,open:h.bool,onClose:h.func,onOpen:h.func};var y_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(y_);var gI=y_.exports;const yh=Rn(gI),u0=D.forwardRef((t,e)=>{let{icon:n,onClick:r,selected:i,disabled:s,children:o,className:a,dataTest:l="dhis2-uicore-tab"}=t,c=O.useRef(null);e&&(c=e);const[d,u]=O.useState(!1);return O.useEffect(()=>{(()=>{const p=c.current.scrollWidth>c.current.clientWidth;u(p)})()},[]),D.createElement("button",{onClick:s?void 0:f=>r({},f),"data-test":l,ref:c,role:"tab","aria-selected":i?"true":"false","aria-disabled":s?"true":"false",onFocus:s?void 0:f=>r({},f),tabIndex:-1,className:j.dynamic([["2433456263",[y.grey400,y.grey600,X.focus,y.grey600,y.grey900,y.grey600,y.grey800,X.primary800,X.primary700,X.primary700,X.primary700,y.grey500,y.grey500]]])+` ${yh("tab",a,{selected:i,disabled:s})}`},n,d?D.createElement(Nt,{content:o,maxWidth:"100%"},D.createElement("span",{ref:c,className:j.dynamic([["2433456263",[y.grey400,y.grey600,X.focus,y.grey600,y.grey900,y.grey600,y.grey800,X.primary800,X.primary700,X.primary700,X.primary700,y.grey500,y.grey500]]])},o)):D.createElement("span",{ref:c,className:j.dynamic([["2433456263",[y.grey400,y.grey600,X.focus,y.grey600,y.grey900,y.grey600,y.grey800,X.primary800,X.primary700,X.primary700,X.primary700,y.grey500,y.grey500]]])},o),D.createElement(j,{id:"2433456263",dynamic:[y.grey400,y.grey600,X.focus,y.grey600,y.grey900,y.grey600,y.grey800,X.primary800,X.primary700,X.primary700,X.primary700,y.grey500,y.grey500]},[`button.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;vertical-align:bottom;height:100%;padding:16px 16px 11px;background-color:transparent;outline:none;border:none;border-bottom:1px solid ${y.grey400};color:${y.grey600};font-size:14px;line-height:20px;cursor:pointer;}`,".fixed>button.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}","button.__jsx-style-dynamic-selector::after{content:' ';display:block;position:absolute;bottom:-1px;inset-inline-start:0;height:4px;width:100%;background-color:transparent;}","span.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;max-width:320px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;-webkit-transition:fill 150ms ease-in-out;transition:fill 150ms ease-in-out;}",`button.__jsx-style-dynamic-selector:focus{outline:3px solid ${X.focus};outline-offset:-3px;}`,"button.__jsx-style-dynamic-selector:focus.__jsx-style-dynamic-selector:not(:focus-visible){outline:none;}",`button.__jsx-style-dynamic-selector>svg{fill:${y.grey600};width:14px;height:14px;margin:0 4px 0 0;}`,`button.__jsx-style-dynamic-selector:hover{color:${y.grey900};}`,`button.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${y.grey600};height:2px;}`,`button.__jsx-style-dynamic-selector:active.__jsx-style-dynamic-selector::after{background-color:${y.grey800};}`,`button.selected.__jsx-style-dynamic-selector{color:${X.primary800};}`,`button.selected.__jsx-style-dynamic-selector::after{background-color:${X.primary700};-webkit-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;}`,`button.selected.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector::after{background-color:${X.primary700};height:4px;}`,`button.selected.__jsx-style-dynamic-selector>svg{fill:${X.primary700};}`,`button.disabled.__jsx-style-dynamic-selector{color:${y.grey500};cursor:not-allowed;}`,"button.disabled.__jsx-style-dynamic-selector:hover,button.selected.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`button.disabled.__jsx-style-dynamic-selector>svg{fill:${y.grey500};}`]))});u0.propTypes={children:h.node,className:h.string,dataTest:h.string,disabled:h.bool,icon:h.element,selected:h.bool,onClick:h.func};u0.displayName="Tab";const v_=250,yI=.5;function vI(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=t.scrollLeft,i=bI(t,r,n),s=i-r,o=wI({scrollBox:t,callback:e,startValue:r,endValue:i,change:s});window.requestAnimationFrame(o)}function bI(t,e,n){const r=t.clientWidth*yI;return Math.floor(e+r*(n?-1:1))}function wI(t){let{scrollBox:e,callback:n,startValue:r,endValue:i,change:s}=t,o,a,l;return function c(d){o||(o=d),a=d-o,l=xI({currentTime:a,startValue:r,change:s}),a>=v_?(l!==i&&(e.scrollLeft=i),n&&n()):(e.scrollLeft=l,window.requestAnimationFrame(c))}}function xI(t){let{currentTime:e,startValue:n,change:r}=t;return(e/=v_/2)<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n}let td;const am="__vertical-scrollbar-height-test__",_I=`
    .${am} {
        position: absolute;
        top: -9999px;
        width: 100px;
        height: 100px;
        overflow-x: scroll;
    }
    .${am}::-webkit-scrollbar {
        display: none;
    }
`;function TI(){if(td)return td;const t=document.createElement("style");t.innerHTML=_I;const e=document.createElement("div");return e.classList.add(am),document.body.appendChild(t),document.body.appendChild(e),td=e.offsetHeight-e.clientHeight,document.body.removeChild(t),document.body.removeChild(e),td}const vu=t=>{let{children:e,disabled:n,hidden:r,onClick:i}=t;return D.createElement("button",{onClick:n?void 0:i,className:j.dynamic([["2701682090",[y.white,y.grey400,y.grey600,y.grey100,y.grey200,y.grey500]]])+" "+(yh("scroll-button",{disabled:n,hidden:r})||"")},e,D.createElement(j,{id:"2701682090",dynamic:[y.white,y.grey400,y.grey600,y.grey100,y.grey200,y.grey500]},[`.scroll-button.__jsx-style-dynamic-selector{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;background-color:${y.white};border:none;border-bottom:1px solid ${y.grey400};outline:none;padding:16px 16px 11px 16px;cursor:pointer;}`,".scroll-button.hidden.__jsx-style-dynamic-selector{display:none;}",`.scroll-button.__jsx-style-dynamic-selector svg{width:20px;height:20px;fill:${y.grey600};-webkit-transition:opacity 150ms ease-in-out;transition:opacity 150ms ease-in-out;opacity:1;}`,`.scroll-button.__jsx-style-dynamic-selector:hover{background-color:${y.grey100};}`,`.scroll-button.__jsx-style-dynamic-selector:active{background-color:${y.grey200};}`,".scroll-button.disabled.__jsx-style-dynamic-selector{cursor:not-allowed;}",".scroll-button.disabled.__jsx-style-dynamic-selector:hover{background-color:transparent;}",`.scroll-button.disabled.__jsx-style-dynamic-selector svg{fill:${y.grey500};}`]))};vu.displayName="ScrollButton";vu.propTypes={children:h.any.isRequired,disabled:h.bool,hidden:h.bool,onClick:h.func};function _i(t,e,n){return(e=EI(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EI(t){var e=SI(t,"string");return typeof e=="symbol"?e:e+""}function SI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class b_ extends O.Component{constructor(e){super(e),_i(this,"scrollBox",O.createRef()),_i(this,"scrollArea",O.createRef()),_i(this,"horizontalScrollBarHeight",TI()),_i(this,"scrollBoxResizeObserver",null),_i(this,"calculateShouldHideButtons",()=>{this.setState({hideScrollButtonsInitialized:!1});const{current:n}=this.scrollBox,{current:r}=this.scrollArea,i=r.offsetWidth,s=n.offsetWidth,o=i<=s;this.setState({hideScrollButtons:o}),o||(this.state.scrolledToStart&&this.scrollLeft(),this.state.scrolledToEnd&&this.scrollRight()),this.setState({hideScrollButtonsInitialized:!0})}),_i(this,"scrollRight",()=>this.scroll()),_i(this,"scrollLeft",()=>this.scroll(!0)),_i(this,"animatedScrollCallback",()=>{this.updateScrolledToStates(),this.attachSideScrollListener()}),_i(this,"updateScrolledToStates",()=>{const{scrollLeft:n,offsetWidth:r}=this.scrollBox.current,{offsetWidth:i}=this.scrollArea.current,s=n<=0,o=n+r>=i;(this.state.scrolledToStart!==s||this.state.scrolledToEnd!==o)&&this.setState({scrolledToStart:s,scrolledToEnd:o})}),this.state={scrolledToStart:!0,scrolledToEnd:!1,hideScrollButtonsInitialized:!1,hideScrollButtons:!1},this.scrollBoxResizeObserver=new ResizeObserver(this.calculateShouldHideButtons)}componentDidMount(){this.scrollSelectedTabIntoView(),this.attachSideScrollListener(),this.manageShouldHideButtons()}componentWillUnmount(){this.removeSideScrollListener(),this.scrollBoxResizeObserver.disconnect()}manageShouldHideButtons(){const{current:e}=this.scrollBox;this.scrollBoxResizeObserver.observe(e),this.calculateShouldHideButtons()}scroll(e){this.removeSideScrollListener(),vI(this.scrollBox.current,this.animatedScrollCallback,e)}scrollSelectedTabIntoView(){const e=this.scrollBox.current,n=e.querySelector(".tab.selected");if(n){const r=n.offsetLeft+n.offsetWidth;r>e.offsetWidth&&(e.scrollLeft=r-e.offsetWidth)}}attachSideScrollListener(){this.scrollBox.current.addEventListener("scroll",this.updateScrolledToStates)}removeSideScrollListener(){this.scrollBox.current.removeEventListener("scroll",this.updateScrolledToStates)}render(){const{scrolledToStart:e,scrolledToEnd:n,hideScrollButtonsInitialized:r,hideScrollButtons:i}=this.state,{children:s,className:o,dataTest:a}=this.props,l=!r||i;return D.createElement("div",{"data-test":a,className:"jsx-191575146 "+j.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" "+(yh("scroll-bar",o)||"")},D.createElement(vu,{disabled:e,onClick:this.scrollLeft,hidden:l},D.createElement(Jd,null)),D.createElement("div",{className:"jsx-191575146 "+j.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box-clipper"},D.createElement("div",{ref:this.scrollBox,className:"jsx-191575146 "+j.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-box"},D.createElement("div",{ref:this.scrollArea,className:"jsx-191575146 "+j.dynamic([["4174900658",[-this.horizontalScrollBarHeight]]])+" scroll-area"},s))),D.createElement(vu,{disabled:n,onClick:this.scrollRight,hidden:l},D.createElement(eu,null)),D.createElement(j,{id:"4174900658",dynamic:[-this.horizontalScrollBarHeight]},[`.scroll-box.__jsx-style-dynamic-selector{margin-bottom:${-this.horizontalScrollBarHeight}px;}`]),D.createElement(j,{id:"191575146"},[".scroll-bar.jsx-191575146{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;}",".scroll-box-clipper.jsx-191575146{overflow-y:hidden;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}",".scroll-box.jsx-191575146{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;overflow-x:scroll;-webkit-overflow-scrolling:touch;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".scroll-box.jsx-191575146::-webkit-scrollbar{display:none;}",".scroll-area.jsx-191575146{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;overflow-x:hidden;}"]))}}b_.propTypes={children:h.node.isRequired,dataTest:h.string.isRequired,className:h.string};const lm=t=>{let{children:e,fixed:n,dataTest:r}=t;const i=O.useRef(null),s=O.useMemo(()=>D.Children.map(e,()=>D.createRef()),[e]),o=a=>{const l=document.activeElement;if(i.current&&i.current===l){s.length>0&&s[0].current&&s[0].current.focus();return}const c=s.findIndex(d=>d.current===l);if(c!==-1){if(a.key==="ArrowRight"){a.preventDefault();const d=(c+1)%s.length;s[d].current.focus()}if(a.key==="ArrowLeft"){a.preventDefault();const d=(c-1+s.length)%s.length;s[d].current.focus()}}};return D.createElement("div",{ref:i,"data-test":r,role:"tablist",tabIndex:0,onKeyDown:o,className:j.dynamic([["771129571",[y.grey400,y.white]]])+" "+(yh({fixed:n})||"")},D.Children.map(e,(a,l)=>D.isValidElement(a)?D.cloneElement(a,{ref:s[l]}):D.createElement("span",{ref:s[l],tabIndex:-1,className:j.dynamic([["771129571",[y.grey400,y.white]]])},a)),D.createElement(j,{id:"771129571",dynamic:[y.grey400,y.white]},[`div.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 0 ${y.grey400};-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;background:${y.white};}`]))};lm.propTypes={dataTest:h.string.isRequired,children:h.node,fixed:h.bool};const w_=t=>{let{fixed:e,children:n,className:r,scrollable:i,dataTest:s="dhis2-uicore-tabbar"}=t;return i?D.createElement("div",{className:r,"data-test":s},D.createElement(b_,{dataTest:`${s}-scrollbar`},D.createElement(lm,{fixed:e,dataTest:`${s}-tabs`},n))):D.createElement("div",{className:r,"data-test":s},D.createElement(lm,{fixed:e,dataTest:`${s}-tabs`},n))};w_.propTypes={children:h.node,className:h.string,dataTest:h.string,fixed:h.bool,scrollable:h.bool};var x_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(x_);var CI=x_.exports;const __=Rn(CI),DI={"Clear selections":"   "},MI={"Clear selections":"Vymazat vbry"},PI={"Clear selections":"Clear selections"},kI={"Clear selections":"Borrar selecciones"},OI={"Clear selections":"Borrar selecciones"},RI={"Clear selections":"Effacer les slections"},II={"Clear selections":"Hapus semua pilihan"},NI={"Clear selections":""},AI={"Clear selections":"Tm valg"},jI={"Clear selections":"Limpar seleces"},LI={"Clear selections":" "},$I={"Clear selections":" "},FI={"Clear selections":"Tanlovlarni tozalash"},BI={"Clear selections":"Xa cc la chn"},UI={"Clear selections":""},YI={"Clear selections":""},In="default";k.addResources("ar",In,DI);k.addResources("cs",In,MI);k.addResources("en",In,PI);k.addResources("es",In,kI);k.addResources("es_419",In,OI);k.addResources("fr",In,RI);k.addResources("id",In,II);k.addResources("lo",In,NI);k.addResources("nb",In,AI);k.addResources("pt",In,jI);k.addResources("ru",In,LI);k.addResources("uz_UZ_Cyrl",In,$I);k.addResources("uz_UZ_Latn",In,FI);k.addResources("vi",In,BI);k.addResources("zh",In,UI);k.addResources("zh_CN",In,YI);const T_=t=>{let{disabled:e,onClick:n}=t;return D.createElement("div",{className:j.dynamic([["3676026375",[N.dp8]]])+" clear-selections"},D.createElement(We,{small:!0,secondary:!0,disabled:e,onClick:n},k.t("Clear selections")),D.createElement(j,{id:"3676026375",dynamic:[N.dp8]},[`.clear-selections.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;padding:0 ${N.dp8};}`]))};T_.propTypes={disabled:h.bool,onClick:h.func};const E_=t=>{let{className:e,children:n,onClearSelectionClick:r,dataTest:i="dhis2-ui-selectorbar",disableClearSelections:s,additionalContent:o,ariaLabel:a}=t;const l=O.useRef(null),[c,d]=O.useState([]);O.useEffect(()=>{if(l.current){const f=l.current.querySelector(".controls");if(f){const p=Array.from(f.children);p.forEach(m=>{m.tabIndex=-1}),d(p)}}},[n]);const u=f=>{const p=document.activeElement;if(l.current&&l.current===p){c.length>0&&c[0]&&c[0].focus();return}if(!c.length)return;const m=c.findIndex(v=>v===p);if(m!==-1){if(f.key==="ArrowRight"){f.preventDefault();const v=(m+1)%c.length;c[v].focus()}if(f.key==="ArrowLeft"){f.preventDefault();const v=(m-1+c.length)%c.length;c[v].focus()}}};return D.createElement(D.Fragment,null,D.createElement("div",{"data-test":i,onKeyDown:u,tabIndex:0,ref:l,role:"toolbar","aria-label":a,className:j.dynamic([["2030607490",[y.white,y.grey400,""]]])+" "+(__("container",{withRHSContents:o},e)||"")},D.createElement("div",{className:j.dynamic([["2030607490",[y.white,y.grey400,""]]])+" controls"},n,r&&D.createElement(T_,{disabled:s,onClick:r})),o&&D.createElement("div",{className:j.dynamic([["2030607490",[y.white,y.grey400,""]]])+" additional-contents"},o),D.createElement(j,{id:"2030607490",dynamic:[y.white,y.grey400,""]},[`.container.__jsx-style-dynamic-selector{background:${y.white};box-shadow:inset 0 -1px 0 0 ${y.grey400};padding-bottom:1px;}`,".withRHSContents.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".controls.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;gap:1px;}",".additional-contents.__jsx-style-dynamic-selector{ padding-inline-start:4px;}"])))};E_.propTypes={children:h.any.isRequired,additionalContent:h.any,ariaLabel:h.string,className:h.string,dataTest:h.string,disableClearSelections:h.bool,onClearSelectionClick:h.func};const zI={name:"offset",options:{offset:[0,2]}},Pa=t=>{let{children:e,className:n,dataTest:r="dhis2-ui-selectorbaritem",disabled:i,displayOnly:s,label:o,noValueMessage:a,open:l,setOpen:c,value:d,onClearSelectionClick:u}=t;const f=O.useRef(),p=l?Zu:Gu;return D.createElement("button",{ref:f,disabled:i,onClick:()=>c&&c(!0),"data-test":r,className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])+" "+(__("selector-bar-item",n,s?"":"openable")||"")},D.createElement("span",{className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])+" label"},o),!i&&D.createElement(D.Fragment,null,D.createElement("span",{className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])+" value"},d||a),d&&u&&D.createElement("span",{onClick:m=>{m.stopPropagation(),u()},"data-test":`${r}-clear-icon`,className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])+" clear-icon"},D.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])},D.createElement("path",{d:"M7 14C10.866 14 14 10.866 14 7C14 3.13401 10.866 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14ZM4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L7 5.58579L8.29289 4.29289C8.68342 3.90237 9.31658 3.90237 9.70711 4.29289C10.0976 4.68342 10.0976 5.31658 9.70711 5.70711L8.41421 7L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L7 8.41421L5.70711 9.70711C5.31658 10.0976 4.68342 10.0976 4.29289 9.70711C3.90237 9.31658 3.90237 8.68342 4.29289 8.29289L5.58579 7L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])})))),!s&&D.createElement("span",{className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])+" toggle-icon"},D.createElement(p,{className:j.dynamic([["4226485334",["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]]])})),l&&D.createElement(Qu,{onBackdropClick:(m,v)=>{v.stopPropagation(),c(!1)}},D.createElement(uc,{reference:f,placement:"bottom-start",modifiers:[zI]},D.createElement(ND,null,e))),D.createElement(j,{id:"4226485334",dynamic:["",N.dp8,N.dp12,y.grey400,y.grey600,N.dp8,N.dp4,N.dp4,y.grey500,y.grey700,N.dp4]},[`.selector-bar-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:none;height:40px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center; padding-block:0;padding-inline-start:${N.dp8};padding-inline-end:${N.dp12};font-size:14px;line-height:16px;border:none;box-shadow:0px 0px 0px 1px ${y.grey400};}`,".selector-bar-item.openable.__jsx-style-dynamic-selector{cursor:pointer;}",".selector-bar-item.__jsx-style-dynamic-selector:disabled{cursor:not-allowed;}",`.label.__jsx-style-dynamic-selector{color:${y.grey600};}`,`.value.__jsx-style-dynamic-selector{padding-inline-start:${N.dp8};}`,`.clear-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-inline-start:${N.dp4};padding:${N.dp4};cursor:pointer;}`,`.clear-icon.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${y.grey500};}`,`.clear-icon.__jsx-style-dynamic-selector:hover svg.__jsx-style-dynamic-selector path.__jsx-style-dynamic-selector{fill:${y.grey700};}`,`.toggle-icon.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-inline-start:${N.dp4};height:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}`]))};Pa.propTypes={label:h.string.isRequired,children:h.any,className:h.string,dataTest:h.string,disabled:h.bool,displayOnly:h.bool,noValueMessage:h.string,open:h.bool,setOpen:h.func,value:h.string,onClearSelectionClick:h.func};const S_=O.createContext({suppressZebraStriping:!1}),{Consumer:WZ,Provider:WI}=S_,$d=["table.jsx-2430604489{border:1px solid #e8edf2;background-color:#ffffff;min-width:100%;text-align:left;border-collapse:collapse;vertical-align:top;}"];$d.__hash="2430604489";const h0=t=>{let{role:e,children:n,className:r,dataTest:i="dhis2-uicore-table",suppressZebraStriping:s}=t;return D.createElement(WI,{value:{suppressZebraStriping:s}},D.createElement("table",{"data-test":i,role:e,className:`jsx-${$d.__hash} `+(r||"")},n,D.createElement(j,{id:$d.__hash},$d)))};h0.propTypes={children:h.node,className:h.string,dataTest:h.string,role:h.string,suppressZebraStriping:h.bool};const vh=t=>{let{children:e,className:n,dataTest:r="dhis2-uicore-tablebody",role:i}=t;return D.createElement("tbody",{className:n,"data-test":r,role:i},e)};vh.propTypes={children:h.node,className:h.string,dataTest:h.string,role:h.string};const f0=t=>{let{children:e,className:n,dataTest:r="dhis2-uicore-tablehead",role:i}=t;return D.createElement("thead",{className:n,"data-test":r,role:i},e)};f0.propTypes={children:h.node,className:h.string,dataTest:h.string,role:h.string};var C_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(C_);var HI=C_.exports;const mr=Rn(HI),Fd=["td.jsx-2229340108{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}","td.jsx-2229340108:dir(rtl){text-align:right;}",".dense.jsx-2229340108{padding:9px 12px;height:36px;}"];Fd.__hash="2229340108";const Pr=t=>{let{role:e,className:n,children:r,colSpan:i,rowSpan:s,dense:o,dataTest:a="dhis2-uicore-tablecell"}=t;return D.createElement("td",{colSpan:i,rowSpan:s,"data-test":a,role:e,className:`jsx-${Fd.__hash} `+(mr({dense:o},n)||"")},r,D.createElement(j,{id:Fd.__hash},Fd))};Pr.propTypes={children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,dense:h.bool,role:h.string,rowSpan:h.string};const Bd=["th.jsx-3181834369{border-bottom:1px solid #e8edf2;font-size:14px;line-height:18px;padding:13px 12px;height:45px;}","th.jsx-3181834369:dir(rtl){text-align:right;}",".dense.jsx-3181834369{padding:9px 12px;height:36px;}"];Bd.__hash="3181834369";const hi=t=>{let{role:e,colSpan:n,rowSpan:r,dense:i,children:s,className:o,dataTest:a="dhis2-uicore-tablecellhead"}=t;return D.createElement("th",{colSpan:n,rowSpan:r,"data-test":a,role:e,className:`jsx-${Bd.__hash} `+(mr({dense:i},o)||"")},s,D.createElement(j,{id:Bd.__hash},Bd))};hi.propTypes={children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,dense:h.bool,role:h.string,rowSpan:h.string};function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(null,arguments)}const Ud=[".zebraStriping.jsx-3124144591:nth-child(even){background:#fbfcfd;}"];Ud.__hash="3124144591";const vo=t=>{let{role:e,children:n,className:r,dataTest:i="dhis2-uicore-tablerow",suppressZebraStriping:s,...o}=t;const{suppressZebraStriping:a}=O.useContext(S_),l=typeof s<"u"?!s:!a;return D.createElement("tr",cm({"data-test":i,role:e},o,{className:`jsx-${Ud.__hash} `+(o&&o.className!=null&&o.className||mr(r,{zebraStriping:l})||"")}),n,D.createElement(j,{id:Ud.__hash},Ud))};vo.propTypes={children:h.node,className:h.string,dataTest:h.string,role:h.string,suppressZebraStriping:h.bool};const Zl=t=>{let{role:e,children:n,className:r,dataTest:i="dhis2-uicore-tablerowhead",suppressZebraStriping:s}=t;return D.createElement(vo,{className:r,dataTest:i,suppressZebraStriping:s,role:e},n)};Zl.propTypes={children:h.node,className:h.string,dataTest:h.string,role:h.string,suppressZebraStriping:h.bool};function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(null,arguments)}const p0=O.forwardRef((t,e)=>{let{children:n,className:r,dataTest:i="dhis2-uicore-table",layout:s="auto",role:o,borderless:a,width:l="100%",...c}=t;return D.createElement("table",dm({},c,{"data-test":i,ref:e,role:o,className:j.dynamic([["3140496910",[s,l,y.grey300]]])+" "+(mr(r,{borderless:a})||"")}),n,D.createElement(j,{id:"3140496910",dynamic:[s,l,y.grey300]},[`table.__jsx-style-dynamic-selector{table-layout:${s};border-collapse:separate;border-spacing:0;width:${l};box-sizing:border-box;border:1px solid ${y.grey300};}`,"table.borderless.__jsx-style-dynamic-selector{border:none;}"]))});p0.displayName="Table";p0.propTypes={borderless:h.bool,children:h.node,className:h.string,dataTest:h.string,layout:h.oneOf(["auto","fixed","initial","inherit"]),role:h.string,width:h.string};const Yd=[`td.jsx-533878895{padding:14px 12px;font-size:14px;border:1px solid transparant;border-bottom:1px solid ${y.grey300};color:${y.grey900};}`,`td.active.jsx-533878895{outline:2px solid ${y.grey600};outline-offset:-2px;}`,`td.bordered.jsx-533878895{border-inline-end:1px solid ${y.grey300};}`,"td.bordered.jsx-533878895:last-child{border-inline-end:1px solid transparent;}",`td.error.jsx-533878895{color:${y.red700};}`,`td.muted.jsx-533878895{color:${y.grey700};font-style:italic;}`,`td.valid.jsx-533878895{color:${y.green700};}`,"td.large.jsx-533878895{padding:20px 12px;font-size:16px;}","tr:last-child td.jsx-533878895{border-bottom:1px solid transparent;}",`tfoot tr:first-child td.jsx-533878895{border-top:1px solid ${y.grey300};}`];Yd.__hash="533878895";function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(null,arguments)}const qI={left:"right",right:"left",center:"center"},ka=O.forwardRef((t,e)=>{var n;let{active:r,align:i="left",backgroundColor:s,bordered:o,children:a,className:l,colSpan:c,dataTest:d="dhis2-uicore-tabledatacel",error:u,large:f,left:p="auto",muted:m,role:v,rowSpan:b,scope:x,staticStyle:T,valid:E,width:S="auto",onClick:C,...M}=t;const P=(n=qI[i])!==null&&n!==void 0?n:i;return D.createElement("td",um({},M,{ref:e,colSpan:c,rowSpan:b,onClick:C,"data-test":d,role:v,scope:x,className:`jsx-${Yd.__hash} `+j.dynamic([["836058623",[p,i,S,s||y.white,P,s||y.teal100,s||y.grey100,s||y.grey200,s||"#cdeae8"]]])+" "+(mr(l,{active:r,bordered:o,error:u,large:f,muted:m,staticStyle:T,valid:E})||"")}),a,D.createElement(j,{id:Yd.__hash},Yd),D.createElement(j,{id:"836058623",dynamic:[p,i,S,s||y.white,P,s||y.teal100,s||y.grey100,s||y.grey200,s||"#cdeae8"]},[`td.__jsx-style-dynamic-selector{inset-inline-start:${p};text-align:${i};width:${S};background-color:${s||y.white};}`,`.__jsx-style-dynamic-selector:dir(rtl){text-align:${P};}`,`tr.selected>td.__jsx-style-dynamic-selector{background-color:${s||y.teal100};}`,`tr:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${s||y.grey100};}`,`tr:active>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${s||y.grey200};}`,`tr.selected:hover>td.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${s||"#cdeae8"};}`]))});ka.displayName="TableDataCell";const qf=dc(["valid","error","muted"],h.bool);ka.propTypes={active:h.bool,align:h.oneOf(["left","center","right"]),backgroundColor:h.string,bordered:h.bool,children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,error:qf,large:h.bool,left:ht(t=>t.fixed,h.string),muted:qf,role:h.string,rowSpan:h.string,scope:h.string,staticStyle:h.bool,valid:qf,width:h.string,onClick:h.func};const zd=[`th.jsx-2895298632{padding:12px;border:1px solid transparant;border-bottom:1px solid ${y.grey300};color:${y.grey800};font-weight:normal;font-size:14px;vertical-align:top;}`,"thead th.jsx-2895298632{padding:8px 12px;font-size:13px;}",`th.jsx-2895298632:last-of-type{border-inline-end:1px solid ${y.grey300};}`,`th.active.jsx-2895298632{outline:2px solid ${y.grey600};outline-offset:-2px;}`,`th.bordered.jsx-2895298632{border-inline-end:1px solid ${y.grey300};}`,"th.bordered.jsx-2895298632:last-child{border-inline-end:1px solid transparent;}",`th.error.jsx-2895298632{color:${y.red700};}`,`th.muted.jsx-2895298632{color:${y.grey700};font-style:italic;}`,`th.valid.jsx-2895298632{color:${y.green700};}`,"th.large.jsx-2895298632{padding:14px 12px;font-size:16px;}","thead th.large.jsx-2895298632{padding:13px 12px;font-size:15px;}","th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:1;}","thead th.fixed.jsx-2895298632{position:-webkit-sticky;position:sticky;z-index:2;}","thead th.fixedHorizontally.jsx-2895298632{z-index:3;}","tr:last-child th.jsx-2895298632{border-bottom:1px solid transparent;}",`thead tr:last-child th.jsx-2895298632{border-bottom:1px solid ${y.grey300};}`,`tfoot>tr:first-child th.jsx-2895298632{border-top:1px solid ${y.grey300};}`];zd.__hash="2895298632";function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(null,arguments)}const nd="auto",bh=O.forwardRef((t,e)=>{let{active:n,align:r="left",backgroundColor:i,bordered:s,children:o,className:a,colSpan:l,dataTest:c="dhis2-uicore-tablecell",error:d,fixed:u,large:f,left:p=nd,muted:m,rowSpan:v,role:b,scope:x,staticStyle:T,top:E=nd,valid:S,width:C=nd,onClick:M,...P}=t;return D.createElement("th",hm({},P,{ref:e,colSpan:l,rowSpan:v,onClick:M,"data-test":c,role:b,scope:x,className:`jsx-${zd.__hash} `+j.dynamic([["2588011372",[p,E,r,C,i||y.grey200,i||y.grey300,i||y.grey300,i||y.grey200]]])+" "+(mr(a,{active:n,bordered:s,error:d,fixed:u,fixedHorizontally:u&&p!==nd,large:f,muted:m,staticStyle:T,valid:S})||"")}),o,D.createElement(j,{id:zd.__hash},zd),D.createElement(j,{id:"2588011372",dynamic:[p,E,r,C,i||y.grey200,i||y.grey300,i||y.grey300,i||y.grey200]},[`th.__jsx-style-dynamic-selector{inset-inline-start:${p};top:${E};text-align:${r};width:${C};background-color:${i||y.grey200};}`,`thead th.fixedHorizontally.__jsx-style-dynamic-selector{background-color:${i||y.grey300};}`,`tbody>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle),tfoot>tr:hover>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${i||y.grey300};}`,`tbody>tr:active>th.__jsx-style-dynamic-selector:not(.staticStyle){background-color:${i||y.grey200};}`]))});bh.displayName="TableHeaderCell";const Vf=dc(["valid","error","muted"],h.bool);bh.propTypes={active:h.bool,align:h.oneOf(["left","center","right"]),backgroundColor:h.string,bordered:h.bool,children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,error:Vf,fixed:h.bool,large:h.bool,left:ht(t=>t.fixed&&!t.top,h.string),muted:Vf,role:h.string,rowSpan:h.string,scope:h.string,staticStyle:h.bool,top:ht(t=>t.fixed&&!t.left,h.string),valid:Vf,width:h.string,onClick:h.func};function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(null,arguments)}const wh=O.forwardRef((t,e)=>{let{onClick:n,children:r,className:i,dataTest:s="dhis2-uicore-tableheadercellaction",title:o,...a}=t;return D.createElement("button",fm({},a,{"data-test":s,onClick:n,title:o,ref:e,className:j.dynamic([["4225768774",[y.grey400]]])+" "+(i||"")}),r,D.createElement(j,{id:"4225768774",dynamic:[y.grey400]},["button.__jsx-style-dynamic-selector{border:none;padding:0;background:transparent;width:24px;height:24px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;cursor:pointer;border-radius:4px;margin-inline-start:2px;}",`button.__jsx-style-dynamic-selector:hover,button.__jsx-style-dynamic-selector:focus-visible{background:${y.grey400};}`,"button.__jsx-style-dynamic-selector:active,button.__jsx-style-dynamic-selector:focus{outline:none;}"]))});wh.displayName="TableHeaderCellAction";wh.propTypes={children:h.node,className:h.string,dataTest:h.string,title:h.string,onClick:h.func};function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(null,arguments)}const xh=O.forwardRef((t,e)=>{let{children:n,className:r,dataTest:i="dhis2-uicore-tablerow",draggable:s,role:o,selected:a,...l}=t;return D.createElement("tr",pm({},l,{ref:e,"data-test":i,role:o,className:"jsx-1820444258 "+(mr(r,{selected:a,draggable:s})||"")}),n,D.createElement(j,{id:"1820444258"},["tbody>tr.draggable.jsx-1820444258,tfoot>tr.draggable.jsx-1820444258{cursor:move;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}"]))});xh.displayName="TableRow";xh.propTypes={children:h.node,className:h.string,dataTest:h.string,draggable:h.bool,role:h.string,selected:h.bool};function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(null,arguments)}const m0=O.forwardRef((t,e)=>{let{children:n,className:r,dataTest:i="dhis2-uicore-tablescrollbox",maxHeight:s="auto",maxWidth:o="auto",...a}=t;return D.createElement("div",mm({},a,{"data-test":i,ref:e,className:j.dynamic([["2859562182",[y.grey300,s,o]]])+" "+(r||"")}),n,D.createElement(j,{id:"2859562182",dynamic:[y.grey300,s,o]},[`div.__jsx-style-dynamic-selector{border:1px solid ${y.grey300};border-top:none;box-sizing:border-box;max-height:${s};max-width:${o};overflow:auto;}`]))});m0.displayName="TableScrollBox";m0.propTypes={children:h.node,className:h.string,dataTest:h.string,maxHeight:h.string,maxWidth:h.string};const g0=O.forwardRef((t,e)=>{let{children:n,className:r,dataTest:i="dhis2-uicore-datatable",layout:s="auto",role:o,scrollHeight:a,scrollWidth:l,width:c="100%"}=t;const d=!!(a||l),u=D.createElement(p0,{borderless:d,className:r,dataTest:i,layout:s,ref:e,role:o,width:c},n);return d?D.createElement(m0,{className:mr(r,"tablescrollbox"),dataTest:`${i}-scrollbox`,maxHeight:a,maxWidth:l},u):u});g0.displayName="DataTable";g0.propTypes={children:h.node,className:h.string,dataTest:h.string,layout:h.oneOf(["auto","fixed","initial","inherit"]),role:h.string,scrollHeight:h.string,scrollWidth:h.string,width:h.string};function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(null,arguments)}const Pl=O.forwardRef((t,e)=>{let{active:n,align:r="left",backgroundColor:i,bordered:s,children:o,className:a,colSpan:l,dataTest:c="dhis2-uicore-datatablecell",error:d,fixed:u,large:f,left:p="auto",muted:m,rowSpan:v,role:b,scope:x,staticStyle:T,tag:E,valid:S,width:C="auto",onClick:M,...P}=t;const R=!E&&u||E&&E==="th"?bh:ka;return D.createElement(R,gm({},P,{active:n,align:r,backgroundColor:i,bordered:s,className:a,colSpan:l,dataTest:c,error:d,fixed:u,large:f,left:p,muted:m,rowSpan:v,ref:e,role:b,staticStyle:T,scope:x,valid:S,width:C,onClick:M}),o)});Pl.displayName="DataTableCell";const Qf=dc(["valid","error","muted"],h.bool),Gv=ht(t=>t.fixed,h.string);Pl.propTypes={active:h.bool,align:h.oneOf(["left","center","right"]),backgroundColor:h.string,bordered:h.bool,children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,error:Qf,fixed:h.bool,large:h.bool,left:Gv,muted:Qf,role:h.string,rowSpan:h.string,scope:h.string,staticStyle:h.bool,tag:h.oneOf(["td","th"]),valid:Qf,width:Gv,onClick:h.func};const Wo=["span.container.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}","span.top.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}","span.content.jsx-1552921066{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:24px;}"];Wo.__hash="1552921066";const Zv={styles:D.createElement(j,{id:"1231353820"},["thead>tr>th.DataTableColumnHeader.jsx-1231353820{padding-top:6px;padding-bottom:6px;}","thead>tr>th.DataTableColumnHeader.large.jsx-1231353820{padding-top:12px;padding-bottom:12px;}"]),className:"jsx-1231353820"},VI={"Toggle filter":"","Sort items":" "},QI={"Toggle filter":"Pepnout filtr","Sort items":"Tdit poloky"},KI={"Toggle filter":"Toggle filter","Sort items":"Sort items"},GI={"Toggle filter":"Alternar filtro","Sort items":"Ordena elementos"},ZI={"Toggle filter":"Alternar filtro","Sort items":"Clasificar artculos"},XI={"Toggle filter":"","Sort items":""},JI={"Toggle filter":"","Sort items":""},eN={"Toggle filter":"Sl p filter","Sort items":"Sorter elementer"},tN={"Toggle filter":"Schakelfilter","Sort items":"Items sorteren"},nN={"Toggle filter":"Alternar filtro","Sort items":"Ordenar itens"},rN={"Toggle filter":" ","Sort items":" "},iN={"Toggle filter":" ","Sort items":" '"},sN={"Toggle filter":" ","Sort items":" "},oN={"Toggle filter":"","Sort items":""},cr="default";k.addResources("ar",cr,VI);k.addResources("cs",cr,QI);k.addResources("en",cr,KI);k.addResources("es",cr,GI);k.addResources("es_419",cr,ZI);k.addResources("km",cr,XI);k.addResources("lo",cr,JI);k.addResources("nb",cr,eN);k.addResources("nl",cr,tN);k.addResources("pt",cr,nN);k.addResources("ru",cr,rN);k.addResources("uk",cr,iN);k.addResources("uz_UZ_Cyrl",cr,sN);k.addResources("zh",cr,oN);const D_=t=>{let{active:e,name:n,onClick:r}=t;const i=e?y.blue700:y.grey600,s=r?o=>{r({name:n,show:!e},o)}:void 0;return D.createElement(wh,{onClick:s,title:k.t("Toggle filter")},D.createElement(ox,{color:i}))};D_.propTypes={active:h.bool,name:h.string,onClick:h.func};const aN="asc",lN="desc",cN="default",kl=[cN,aN,lN],dN=t=>{const n=(kl.indexOf(t)+1)%kl.length;return kl[n]},M_=t=>{let{name:e,sortDirection:n,title:r,onClick:i}=t;const s=dN(n),o=i?a=>{i({name:e,direction:s},a)}:void 0;return D.createElement(wh,{onClick:o,title:r||k.t("Sort items")},D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",className:j.dynamic([["884818973",[y.grey500,y.blue700]]])+" "+(n||"")},D.createElement("g",{fill:"none",fillRule:"evenodd",className:j.dynamic([["884818973",[y.grey500,y.blue700]]])},D.createElement("polygon",{points:"4 9 12 9 8 14",className:j.dynamic([["884818973",[y.grey500,y.blue700]]])+" top"}),D.createElement("polygon",{points:"4 7 12 7 8 2",className:j.dynamic([["884818973",[y.grey500,y.blue700]]])+" bottom"}))),D.createElement(j,{id:"884818973",dynamic:[y.grey500,y.blue700]},[`svg.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${y.grey500};}`,`svg.asc.__jsx-style-dynamic-selector .top.__jsx-style-dynamic-selector,svg.desc.__jsx-style-dynamic-selector .bottom.__jsx-style-dynamic-selector{fill:${y.blue700};}`]))};M_.propTypes={name:h.string,sortDirection:ht(t=>t.onClick,h.oneOf(kl)),title:h.string,onClick:h.func};const rd={left:"flex-start",center:"center",right:"flex-end"},Ol=O.forwardRef((t,e)=>{let{align:n,children:r,className:i,colSpan:s,dataTest:o="dhis2-uicore-datatablecellhead",filter:a,fixed:l,large:c,left:d,name:u,role:f,rowSpan:p,scope:m,showFilter:v,sortDirection:b,sortIconTitle:x,top:T,width:E,onFilterIconClick:S,onSortIconClick:C}=t;return D.createElement(bh,{align:n,className:mr(i,"DataTableColumnHeader",Zv.className),colSpan:s,dataTest:o,fixed:l,large:c,left:d,ref:e,rowSpan:p,role:f,scope:m,top:T,width:E},D.createElement("span",{className:`jsx-3463223249 jsx-${Wo.__hash} container`},D.createElement("span",{className:`jsx-3463223249 jsx-${Wo.__hash} `+(mr("top",{large:c})||"")},D.createElement("span",{className:`jsx-3463223249 jsx-${Wo.__hash} content`},r),b&&D.createElement(M_,{name:u,sortDirection:b,onClick:C,title:x}),a&&D.createElement(D_,{name:u,active:v,onClick:S})),v&&a),Zv.styles,D.createElement(j,{id:Wo.__hash},Wo),D.createElement(j,{id:"3463223249"},[`.label.jsx-3463223249{-webkit-box-pack:${rd[n]};-webkit-justify-content:${rd[n]};-ms-flex-pack:${rd[n]};justify-content:${rd[n]};}`]))});Ol.displayName="DataTableColumnHeader";Ol.propTypes={align:h.oneOf(["left","center","right"]),children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,filter:ht(t=>t.onFilterIconClick||t.showFilter,h.node),fixed:h.bool,large:h.bool,left:ht(t=>t.fixed&&!t.top,h.string),name:h.string,role:h.string,rowSpan:h.string,scope:h.string,showFilter:ht(t=>t.filter,h.bool),sortDirection:ht(t=>t.onSortIconClick,h.oneOf(kl)),sortIconTitle:h.string,top:ht(t=>t.fixed&&!t.left,h.string),width:h.string,onFilterIconClick:ht(t=>t.filter,h.func),onSortIconClick:ht(t=>t.sortDirection,h.func)};const Xv={styles:D.createElement(j,{id:"1795567040"},[`tr.isHoveringExpandedContent.jsx-1795567040>td{background-color:${y.grey100};}`,`tr.isHoveringExpandedContent.jsx-1795567040>th{background-color:${y.grey300};}`,"tr.selected.isHoveringExpandedContent.jsx-1795567040>td{background-color:#cdeae8;}","tr.expanded.jsx-1795567040>td{border-bottom-color:transparent;}",`tr.expanded.jsx-1795567040>td.bordered{border-bottom-color:${y.grey300};}`]),className:"jsx-1795567040"},uN=()=>D.createElement(ka,{width:"48px"},D.createElement(nx,null)),Jv={styles:D.createElement(j,{id:"927553068"},["td.jsx-927553068{cursor:pointer;}"]),className:"jsx-927553068"},P_=t=>{let{expanded:e,onClick:n}=t;return D.createElement(ka,{className:mr(Jv.className,{expanded:e}),onClick:()=>n({expanded:!e}),width:"48px"},e?D.createElement(Zu,null):D.createElement(Gu,null),Jv.styles)};P_.propTypes={expanded:h.bool,onClick:h.func};const{className:hN,styles:fN}={styles:D.createElement(j,{id:"626485122"},[`tr.expanded:hover+tr>td.jsx-626485122{background-color:${y.grey100};}`,`tr.expanded:active+tr>td.jsx-626485122{background-color:${y.grey200};}`,"tr.selected.expanded:hover+tr.jsx-626485122>td.jsx-626485122{background-color:#cdeae8;}"]),className:"jsx-626485122"},k_=t=>{let{children:e,className:n,colSpan:r,dataTest:i,selected:s,setIsHoveringExpandedContent:o}=t;return D.createElement(xh,{onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),className:mr({[`${n}-expandedrow`]:!!n}),selected:s,dataTest:i&&`${i}-expandedrow`},D.createElement(ka,{className:hN,colSpan:r},e,fN))};k_.propTypes={children:h.node,className:h.string,colSpan:h.string,dataTest:h.string,selected:h.bool,setIsHoveringExpandedContent:h.func};function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(null,arguments)}const bu=O.forwardRef((t,e)=>{let{children:n,className:r,dataTest:i="dhis2-uicore-datatablerow",expandableContent:s,expanded:o,selected:a,draggable:l,role:c,onExpandToggle:d,...u}=t;const[f,p]=O.useState(!1),m=mr(r,Xv.className,{expanded:o,selected:a,draggable:l,isHoveringExpandedContent:f}),v=D.Children.count(n),b=String(l||s?v+1:v);return D.createElement(D.Fragment,null,D.createElement(xh,ym({ref:e,className:m,dataTest:i,selected:a,draggable:l,role:c},u),l&&D.createElement(uN,null),s&&D.createElement(P_,{expanded:o,onClick:d}),n,Xv.styles),s&&o&&D.createElement(k_,{className:r,dataTest:i,setIsHoveringExpandedContent:p,colSpan:b,selected:a},s))});bu.displayName="DataTableRow";bu.propTypes={children:h.node,className:h.string,dataTest:h.string,draggable:h.bool,expandableContent:ht(t=>t.onExpandToggle,h.node),expanded:h.bool,role:h.string,selected:h.bool,onExpandToggle:ht(t=>t.expandableContent,h.func)};var O_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(O_);var pN=O_.exports;const mN=Rn(pN),R_=t=>{let{children:e,dataTest:n}=t;return D.createElement("div",{"data-test":n,className:"jsx-1638813748"},e,D.createElement(j,{id:"1638813748"},[".jsx-1638813748{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-inline-end:4px;max-height:16px;max-width:16px;}"]))};R_.propTypes={dataTest:h.string.isRequired,children:h.node};const I_=t=>{let{children:e,dataTest:n}=t;return D.createElement("span",{"data-test":n,className:"jsx-1110058759"},e,D.createElement(j,{id:"1110058759"},[".jsx-1110058759{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"]))};I_.propTypes={dataTest:h.string.isRequired,children:h.node};const wu=t=>{let{maxWidth:e="240px",neutral:n,negative:r,positive:i,icon:s,bold:o,className:a,dataTest:l="dhis2-uicore-tag",children:c}=t;return D.createElement("div",{"data-test":l,className:j.dynamic([["2409336266",[y.grey300,y.grey700,y.grey900,e,y.red100,y.red800,y.red900,y.blue100,y.blue800,y.blue900,y.green100,y.green800,y.green900,y.grey700,y.white,y.white,y.blue800,y.blue050,y.white,y.green700,y.green050,y.white,y.red700,y.red050,y.white]]])+" "+(mN(a,{neutral:n,positive:i,negative:r,bold:o})||"")},s&&D.createElement(R_,{dataTest:`${l}-icon`},s),D.createElement(I_,{dataTest:`${l}-text`},c),D.createElement(j,{id:"2409336266",dynamic:[y.grey300,y.grey700,y.grey900,e,y.red100,y.red800,y.red900,y.blue100,y.blue800,y.blue900,y.green100,y.green800,y.green900,y.grey700,y.white,y.white,y.blue800,y.blue050,y.white,y.green700,y.green050,y.white,y.red700,y.red050,y.white]},[`div.__jsx-style-dynamic-selector{padding:5px 6px;border-radius:3px;background-color:${y.grey300};fill:${y.grey700};color:${y.grey900};max-width:${e};display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px;height:23px;}`,`.negative.__jsx-style-dynamic-selector{background-color:${y.red100};fill:${y.red800};color:${y.red900};}`,`.neutral.__jsx-style-dynamic-selector{background-color:${y.blue100};fill:${y.blue800};color:${y.blue900};}`,`.positive.__jsx-style-dynamic-selector{background-color:${y.green100};fill:${y.green800};color:${y.green900};}`,`.bold.__jsx-style-dynamic-selector{font-weight:700;background-color:${y.grey700};color:${y.white};fill:${y.white};}`,`.bold.neutral.__jsx-style-dynamic-selector{background-color:${y.blue800};color:${y.blue050};fill:${y.white};}`,`.bold.positive.__jsx-style-dynamic-selector{background-color:${y.green700};color:${y.green050};fill:${y.white};}`,`.bold.negative.__jsx-style-dynamic-selector{background-color:${y.red700};color:${y.red050};fill:${y.white};}`]))},Kf=dc(["neutral","positive","negative"],h.bool);wu.propTypes={bold:h.bool,children:h.node,className:h.string,dataTest:h.string,icon:h.node,maxWidth:h.string,negative:Kf,neutral:Kf,positive:Kf};class bo{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const Xl=typeof window>"u"||"Deno"in window;function Er(){}function gN(t,e){return typeof t=="function"?t(e):t}function vm(t){return typeof t=="number"&&t>=0&&t!==1/0}function eb(t,e){return t.filter(n=>e.indexOf(n)===-1)}function yN(t,e,n){const r=t.slice(0);return r[e]=n,r}function N_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function bl(t,e,n){return Oa(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function vN(t,e,n){return Oa(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Ji(t,e,n){return Oa(t)?[{...e,queryKey:t},n]:[t||{},e]}function bN(t,e,n){return Oa(t)?[{...e,mutationKey:t},n]:[t||{},e]}function tb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(Oa(o)){if(r){if(e.queryHash!==y0(o,e.options))return!1}else if(!xu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function nb(t,e){const{exact:n,fetching:r,predicate:i,mutationKey:s}=t;if(Oa(s)){if(!e.options.mutationKey)return!1;if(n){if(Ys(e.options.mutationKey)!==Ys(s))return!1}else if(!xu(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function y0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ys)(t)}function Ys(t){return JSON.stringify(t,(e,n)=>wm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xu(t,e){return A_(t,e)}function A_(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!A_(t[n],e[n])):!1}function j_(t,e){if(t===e)return t;const n=rb(t)&&rb(e);if(n||wm(t)&&wm(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const c=n?l:i[l];o[c]=j_(t[c],e[c]),o[c]===t[c]&&a++}return r===s&&a===r?t:o}return e}function bm(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wm(t){if(!ib(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!ib(n)||!n.hasOwnProperty("isPrototypeOf"))}function ib(t){return Object.prototype.toString.call(t)==="[object Object]"}function Oa(t){return Array.isArray(t)}function L_(t){return new Promise(e=>{setTimeout(e,t)})}function sb(t){L_(0).then(t)}function wN(){if(typeof AbortController=="function")return new AbortController}function xm(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?j_(t,e):e}class xN extends bo{constructor(){super(),this.setup=e=>{if(!Xl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const _u=new xN;class _N extends bo{constructor(){super(),this.setup=e=>{if(!Xl&&window.addEventListener){const n=()=>e();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Rr=new _N;function TN(t){return Math.min(1e3*2**t,3e4)}function _h(t){return(t??"online")==="online"?Rr.isOnline():!0}class $_{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Wd(t){return t instanceof $_}function F_(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((b,x)=>{s=b,o=x}),l=b=>{r||(p(new $_(b)),t.abort==null||t.abort())},c=()=>{e=!0},d=()=>{e=!1},u=()=>!_u.isFocused()||t.networkMode!=="always"&&!Rr.isOnline(),f=b=>{r||(r=!0,t.onSuccess==null||t.onSuccess(b),i==null||i(),s(b))},p=b=>{r||(r=!0,t.onError==null||t.onError(b),i==null||i(),o(b))},m=()=>new Promise(b=>{i=x=>{const T=r||!u();return T&&b(x),T},t.onPause==null||t.onPause()}).then(()=>{i=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let b;try{b=t.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(f).catch(x=>{var T,E;if(r)return;const S=(T=t.retry)!=null?T:3,C=(E=t.retryDelay)!=null?E:TN,M=typeof C=="function"?C(n,x):C,P=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,x);if(e||!P){p(x);return}n++,t.onFail==null||t.onFail(n,x),L_(M).then(()=>{if(u())return m()}).then(()=>{e?p(x):v()})})};return _h(t.networkMode)?v():m().then(v),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:c,continueRetry:d}}const v0=console;function EN(){let t=[],e=0,n=d=>{d()},r=d=>{d()};const i=d=>{let u;e++;try{u=d()}finally{e--,e||a()}return u},s=d=>{e?t.push(d):sb(()=>{n(d)})},o=d=>(...u)=>{s(()=>{d(...u)})},a=()=>{const d=t;t=[],d.length&&sb(()=>{r(()=>{d.forEach(u=>{n(u)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d}}}const ft=EN();class B_{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vm(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Xl?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class SN extends B_{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||v0,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||CN(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=xm(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Er).catch(Er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!N_(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}Array.isArray(this.options.queryKey);const o=wN(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const c=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:c};if(l(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=d.fetchOptions)==null?void 0:i.meta)){var u;this.dispatch({type:"fetch",meta:(u=d.fetchOptions)==null?void 0:u.meta})}const f=p=>{if(Wd(p)&&p.silent||this.dispatch({type:"error",error:p}),!Wd(p)){var m,v;(m=(v=this.cache.config).onError)==null||m.call(v,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=F_({fn:d.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var m,v;if(typeof p>"u"){f(new Error("undefined"));return}this.setData(p),(m=(v=this.cache.config).onSuccess)==null||m.call(v,p,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(p,m)=>{this.dispatch({type:"failed",failureCount:p,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:_h(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Wd(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ft.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function CN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class DN extends bo{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const s=n.queryKey,o=(i=n.queryHash)!=null?i:y0(s,n);let a=this.get(o);return a||(a=new SN({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ft.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Ji(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>tb(r,i))}findAll(e,n){const[r]=Ji(e,n);return Object.keys(r).length>0?this.queries.filter(i=>tb(r,i)):this.queries}notify(e){ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ft.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ft.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class MN extends B_{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||v0,this.observers=[],this.state=e.state||U_(),this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var E;return this.retryer=F_({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,C)=>{this.dispatch({type:"failed",failureCount:S,error:C})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(E=this.options.retry)!=null?E:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,s,o,a,l;if(!n){var c,d,u,f;this.dispatch({type:"loading",variables:this.options.variables}),await((c=(d=this.mutationCache.config).onMutate)==null?void 0:c.call(d,this.state.variables,this));const S=await((u=(f=this.options).onMutate)==null?void 0:u.call(f,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const E=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,E,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,E,this.state.variables,this.state.context)),await((a=(l=this.options).onSettled)==null?void 0:a.call(l,E,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:E}),E}catch(E){try{var p,m,v,b,x,T;throw await((p=(m=this.mutationCache.config).onError)==null?void 0:p.call(m,E,this.state.variables,this.state.context,this)),await((v=(b=this.options).onError)==null?void 0:v.call(b,E,this.state.variables,this.state.context)),await((x=(T=this.options).onSettled)==null?void 0:x.call(T,void 0,E,this.state.variables,this.state.context)),E}finally{this.dispatch({type:"error",error:E})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!_h(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),ft.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function U_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class PN extends bo{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new MN({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){ft.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>nb(e,n))}findAll(e){return this.mutations.filter(n=>nb(e,n))}notify(e){ft.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ft.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Er)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function kN(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,i,s,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,c=l==null?void 0:l.pageParam,d=(l==null?void 0:l.direction)==="forward",u=(l==null?void 0:l.direction)==="backward",f=((s=t.state.data)==null?void 0:s.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[];let m=p,v=!1;const b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>{var P;if((P=t.signal)!=null&&P.aborted)v=!0;else{var R;(R=t.signal)==null||R.addEventListener("abort",()=>{v=!0})}return t.signal}})},x=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),T=(M,P,R,I)=>(m=I?[P,...m]:[...m,P],I?[R,...M]:[...M,R]),E=(M,P,R,I)=>{if(v)return Promise.reject("Cancelled");if(typeof R>"u"&&!P&&M.length)return Promise.resolve(M);const U={queryKey:t.queryKey,pageParam:R,meta:t.options.meta};b(U);const L=x(U);return Promise.resolve(L).then(q=>T(M,R,q,I))};let S;if(!f.length)S=E([]);else if(d){const M=typeof c<"u",P=M?c:ob(t.options,f);S=E(f,M,P)}else if(u){const M=typeof c<"u",P=M?c:ON(t.options,f);S=E(f,M,P,!0)}else{m=[];const M=typeof t.options.getNextPageParam>"u";S=(a&&f[0]?a(f[0],0,f):!0)?E([],M,p[0]):Promise.resolve(T([],p[0],f[0]));for(let R=1;R<f.length;R++)S=S.then(I=>{if(a&&f[R]?a(f[R],R,f):!0){const L=M?p[R]:ob(t.options,I);return E(I,M,L)}return Promise.resolve(T(I,p[R],f[R]))})}return S.then(M=>({pages:M,pageParams:m}))}}}}function ob(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function ON(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class b0{constructor(e={}){this.queryCache=e.queryCache||new DN,this.mutationCache=e.mutationCache||new PN,this.logger=e.logger||v0,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=_u.subscribe(()=>{_u.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Rr.subscribe(()=>{Rr.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Ji(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=bl(e,n,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=gN(n,s);if(typeof o>"u")return;const a=bl(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return ft.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Ji(e,n),i=this.queryCache;ft.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,n,r){const[i,s]=Ji(e,n,r),o=this.queryCache,a={type:"active",...i};return ft.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,n,r){const[i,s={}]=Ji(e,n,r);typeof s.revert>"u"&&(s.revert=!0);const o=ft.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Er).catch(Er)}invalidateQueries(e,n,r){const[i,s]=Ji(e,n,r);return ft.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(c=>{c.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,n,r){const[i,s]=Ji(e,n,r),o=ft.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var c;return l.fetch(void 0,{...s,cancelRefetch:(c=s==null?void 0:s.cancelRefetch)!=null?c:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Er);return s!=null&&s.throwOnError||(a=a.catch(Er)),a}fetchQuery(e,n,r){const i=bl(e,n,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Er).catch(Er)}fetchInfiniteQuery(e,n,r){const i=bl(e,n,r);return i.behavior=kN(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Er).catch(Er)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>Ys(e)===Ys(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>xu(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>Ys(e)===Ys(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>xu(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=y0(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Y_ extends bo{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),ab(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return _m(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _m(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),bm(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&lb(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e);return this.createResult(n,e)}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Er)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Xl||this.currentResult.isStale||!vm(this.options.staleTime))return;const n=N_(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Xl||this.options.enabled===!1||!vm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||_u.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,c=l?e.state:this.currentQueryInitialState,d=l?this.currentResult:this.previousQueryResult,{state:u}=e;let{dataUpdatedAt:f,error:p,errorUpdatedAt:m,fetchStatus:v,status:b}=u,x=!1,T=!1,E;if(n._optimisticResults){const R=this.hasListeners(),I=!R&&ab(e,n),U=R&&lb(e,r,n,i);(I||U)&&(v=_h(e.options.networkMode)?"fetching":"paused",f||(b="loading")),n._optimisticResults==="isRestoring"&&(v="idle")}if(n.keepPreviousData&&!u.dataUpdatedAt&&d!=null&&d.isSuccess&&b!=="error")E=d.data,f=d.dataUpdatedAt,b=d.status,x=!0;else if(n.select&&typeof u.data<"u")if(s&&u.data===(o==null?void 0:o.data)&&n.select===this.selectFn)E=this.selectResult;else try{this.selectFn=n.select,E=n.select(u.data),E=xm(s==null?void 0:s.data,E,n),this.selectResult=E,this.selectError=null}catch(R){this.selectError=R}else E=u.data;if(typeof n.placeholderData<"u"&&typeof E>"u"&&b==="loading"){let R;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))R=s.data;else if(R=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof R<"u")try{R=n.select(R),this.selectError=null}catch(I){this.selectError=I}typeof R<"u"&&(b="success",E=xm(s==null?void 0:s.data,R,n),T=!0)}this.selectError&&(p=this.selectError,E=this.selectResult,m=Date.now(),b="error");const S=v==="fetching",C=b==="loading",M=b==="error";return{status:b,fetchStatus:v,isLoading:C,isSuccess:b==="success",isError:M,isInitialLoading:C&&S,data:E,dataUpdatedAt:f,error:p,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!C,isLoadingError:M&&u.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:T,isPreviousData:x,isRefetchError:M&&u.dataUpdatedAt!==0,isStale:w0(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,bm(r,n))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const c=l;return this.currentResult[c]!==n[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Wd(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){ft.batch(()=>{if(e.onSuccess){var n,r,i,s;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,c;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(c=this.options).onSettled)==null||l.call(c,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(d=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function RN(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ab(t,e){return RN(t,e)||t.state.dataUpdatedAt>0&&_m(t,e,e.refetchOnMount)}function _m(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&w0(t,e)}return!1}function lb(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&w0(t,n)}function w0(t,e){return t.isStaleByTime(e.staleTime)}class IN extends bo{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.length===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.length||this.destroy()}destroy(){this.listeners=[],this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,ft.batch(()=>{const r=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,n));const s=i.map(c=>c.observer),o=Object.fromEntries(s.map(c=>[c.options.queryHash,c])),a=s.map(c=>c.getCurrentResult()),l=s.some((c,d)=>c!==r[d]);r.length===s.length&&!l||(this.observers=s,this.observersMap=o,this.result=a,this.hasListeners()&&(eb(r,s).forEach(c=>{c.destroy()}),eb(s,r).forEach(c=>{c.subscribe(d=>{this.onUpdate(c,d)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,r=e.map(u=>this.client.defaultQueryOptions(u)),i=r.flatMap(u=>{const f=n.find(p=>p.options.queryHash===u.queryHash);return f!=null?[{defaultedQueryOptions:u,observer:f}]:[]}),s=i.map(u=>u.defaultedQueryOptions.queryHash),o=r.filter(u=>!s.includes(u.queryHash)),a=n.filter(u=>!i.some(f=>f.observer===u)),l=u=>{const f=this.client.defaultQueryOptions(u),p=this.observersMap[f.queryHash];return p??new Y_(this.client,f)},c=o.map((u,f)=>{if(u.keepPreviousData){const p=a[f];if(p!==void 0)return{defaultedQueryOptions:u,observer:p}}return{defaultedQueryOptions:u,observer:l(u)}}),d=(u,f)=>r.indexOf(u.defaultedQueryOptions)-r.indexOf(f.defaultedQueryOptions);return i.concat(c).sort(d)}onUpdate(e,n){const r=this.observers.indexOf(e);r!==-1&&(this.result=yN(this.result,r,n),this.notify())}notify(){ft.batch(()=>{this.listeners.forEach(e=>{e(this.result)})})}}let NN=class extends bo{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.client.defaultMutationOptions(e),bm(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:U_(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){ft.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,r,i,s;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,l,c;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(c=this.mutateOptions).onSettled)==null||l.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(d=>{d(this.currentResult)})})}};function AN(t){return{mutationKey:t.options.mutationKey,state:t.state}}function jN(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function LN(t){return t.state.isPaused}function $N(t){return t.state.status==="success"}function FN(t,e={}){const n=[],r=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||LN;t.getMutationCache().getAll().forEach(s=>{i(s)&&n.push(AN(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||$N;t.getQueryCache().getAll().forEach(s=>{i(s)&&r.push(jN(s))})}return{mutations:n,queries:r}}function BN(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),i=t.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var l;r.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(a=>{var l;const c=i.get(a.queryHash),d={...a.state,fetchStatus:"idle"};if(c){c.state.dataUpdatedAt<d.dataUpdatedAt&&c.setState(d);return}i.build(t,{...n==null||(l=n.defaultOptions)==null?void 0:l.queries,queryKey:a.queryKey,queryHash:a.queryHash},d)})}const Th=AD.useSyncExternalStore,cb=O.createContext(void 0),z_=O.createContext(!1);function W_(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=cb),window.ReactQueryClientContext):cb)}const gr=({context:t}={})=>{const e=O.useContext(W_(t,O.useContext(z_)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},UN=({client:t,children:e,context:n,contextSharing:r=!1})=>{O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=W_(n,r);return O.createElement(z_.Provider,{value:!n&&r},O.createElement(i.Provider,{value:t},e))},H_=O.createContext(!1),q_=()=>O.useContext(H_),YN=H_.Provider;function zN(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const WN=O.createContext(zN()),V_=()=>O.useContext(WN);function Q_(t,e){return typeof t=="function"?t(...e):!!t}const K_=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},G_=t=>{O.useEffect(()=>{t.clearReset()},[t])},Z_=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&Q_(n,[t.error,r]),X_=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},J_=(t,e)=>t.isLoading&&t.isFetching&&!e,Tm=(t,e,n)=>(t==null?void 0:t.suspense)&&J_(e,n),Em=(t,e,n)=>e.fetchOptimistic(t).then(({data:r})=>{t.onSuccess==null||t.onSuccess(r),t.onSettled==null||t.onSettled(r,null)}).catch(r=>{n.clearReset(),t.onError==null||t.onError(r),t.onSettled==null||t.onSettled(void 0,r)});function x0({queries:t,context:e}){const n=gr({context:e}),r=q_(),i=O.useMemo(()=>t.map(u=>{const f=n.defaultQueryOptions(u);return f._optimisticResults=r?"isRestoring":"optimistic",f}),[t,n,r]),[s]=O.useState(()=>new IN(n,i)),o=s.getOptimisticResult(i);Th(O.useCallback(u=>r?()=>{}:s.subscribe(ft.batchCalls(u)),[s,r]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),O.useEffect(()=>{s.setQueries(i,{listeners:!1})},[i,s]);const a=V_();i.forEach(u=>{K_(u,a),X_(u)}),G_(a);const c=o.some((u,f)=>Tm(i[f],u,r))?o.flatMap((u,f)=>{const p=i[f],m=s.getObservers()[f];if(p&&m){if(Tm(p,u,r))return Em(p,m,a);J_(u,r)&&Em(p,m,a)}return[]}):[];if(c.length>0)throw Promise.all(c);const d=o.find((u,f)=>{var p,m;return Z_({result:u,errorResetBoundary:a,useErrorBoundary:(p=(m=i[f])==null?void 0:m.useErrorBoundary)!=null?p:!1,query:s.getQueries()[f]})});if(d!=null&&d.error)throw d.error;return o}function HN(t,e){const n=gr({context:t.context}),r=q_(),i=V_(),s=n.defaultQueryOptions(t);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=ft.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=ft.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=ft.batchCalls(s.onSettled)),X_(s),K_(s,i),G_(i);const[o]=O.useState(()=>new e(n,s)),a=o.getOptimisticResult(s);if(Th(O.useCallback(l=>r?()=>{}:o.subscribe(ft.batchCalls(l)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),O.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),Tm(s,a,r))throw Em(s,o,i);if(Z_({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}function jr(t,e,n){const r=bl(t,e,n);return HN(r,Y_)}function wo(t,e,n){const[r,i={}]=bN(t,e,n),s=gr({context:i.context}),o=s.getMutationCache();return Th(O.useCallback(a=>o.subscribe(ft.batchCalls(a)),[o]),()=>s.isMutating(r),()=>s.isMutating(r))}function Eh(t,e,n){const r=vN(t,e,n),i=gr({context:r.context}),[s]=O.useState(()=>new NN(i,r));O.useEffect(()=>{s.setOptions(r)},[s,r]);const o=Th(O.useCallback(l=>s.subscribe(ft.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=O.useCallback((l,c)=>{s.mutate(l,c).catch(qN)},[s]);if(o.error&&Q_(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function qN(){}const VN=function(){return null};function Sm(t,e){return Sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sm(t,e)}function fi(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sm(t,e)}function id(t){return t.charAt(0)==="/"}function Gf(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function eT(t,e){e===void 0&&(e="");var n=t&&t.split("/")||[],r=e&&e.split("/")||[],i=t&&id(t),s=e&&id(e),o=i||s;if(t&&id(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a;if(r.length){var l=r[r.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,d=r.length;d>=0;d--){var u=r[d];u==="."?Gf(r,d):u===".."?(Gf(r,d),c++):c&&(Gf(r,d),c--)}if(!o)for(;c--;c)r.unshift("..");o&&r[0]!==""&&(!r[0]||!id(r[0]))&&r.unshift("");var f=r.join("/");return a&&f.substr(-1)!=="/"&&(f+="/"),f}var QN="Invariant failed";function xo(t,e){throw new Error(QN)}function KN(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function tT(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function qo(t,e,n,r){var i;typeof t=="string"?(i=KN(t),i.state=e):(i=Ne({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=eT(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function GN(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,c){if(t!=null){var d=typeof t=="function"?t(o,a):t;typeof d=="string"?typeof l=="function"?l(d,c):c(!0):c(d!==!1)}else c(!0)}var r=[];function i(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return r.push(l),function(){a=!1,r=r.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}function db(t,e,n){return Math.min(Math.max(t,e),n)}function ZN(t){t===void 0&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=r===void 0?["/"]:r,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=GN();function d(R){Ne(P,R),P.length=P.entries.length,c.notifyListeners(P.location,P.action)}function u(){return Math.random().toString(36).substr(2,l)}var f=db(o,0,i.length-1),p=i.map(function(R){return typeof R=="string"?qo(R,void 0,u()):qo(R,void 0,R.key||u())}),m=tT;function v(R,I){var U="PUSH",L=qo(R,I,u(),P.location);c.confirmTransitionTo(L,U,n,function(z){if(z){var q=P.index,W=q+1,B=P.entries.slice(0);B.length>W?B.splice(W,B.length-W,L):B.push(L),d({action:U,location:L,index:W,entries:B})}})}function b(R,I){var U="REPLACE",L=qo(R,I,u(),P.location);c.confirmTransitionTo(L,U,n,function(z){z&&(P.entries[P.index]=L,d({action:U,location:L}))})}function x(R){var I=db(P.index+R,0,P.entries.length-1),U="POP",L=P.entries[I];c.confirmTransitionTo(L,U,n,function(z){z?d({action:U,location:L,index:I}):d()})}function T(){x(-1)}function E(){x(1)}function S(R){var I=P.index+R;return I>=0&&I<P.entries.length}function C(R){return R===void 0&&(R=!1),c.setPrompt(R)}function M(R){return c.appendListener(R)}var P={length:p.length,action:"POP",location:p[f],index:f,entries:p,createHref:m,push:v,replace:b,go:x,goBack:T,goForward:E,canGo:S,block:C,listen:M};return P}var Ra={exports:{}},XN=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},Tu=XN;Ra.exports=iT;Ra.exports.parse=_0;Ra.exports.compile=tA;Ra.exports.tokensToFunction=nT;Ra.exports.tokensToRegExp=rT;var JN=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _0(t,e){for(var n=[],r=0,i=0,s="",o=e&&e.delimiter||"/",a;(a=JN.exec(t))!=null;){var l=a[0],c=a[1],d=a.index;if(s+=t.slice(i,d),i=d+l.length,c){s+=c[1];continue}var u=t[i],f=a[2],p=a[3],m=a[4],v=a[5],b=a[6],x=a[7];s&&(n.push(s),s="");var T=f!=null&&u!=null&&u!==f,E=b==="+"||b==="*",S=b==="?"||b==="*",C=f||o,M=m||v,P=f||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:p||r++,prefix:f||"",delimiter:C,optional:S,repeat:E,partial:T,asterisk:!!x,pattern:M?iA(M):x?".*":eA(C,P)})}return i<t.length&&(s+=t.substr(i)),s&&n.push(s),n}function eA(t,e){return!e||e.indexOf(t)>-1?"[^"+zs(t)+"]+?":zs(e)+"|(?:(?!"+zs(e)+")[^"+zs(t)+"])+?"}function tA(t,e){return nT(_0(t,e),e)}function nA(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function rA(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function nT(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",E0(e)));return function(i,s){for(var o="",a=i||{},l=s||{},c=l.pretty?nA:encodeURIComponent,d=0;d<t.length;d++){var u=t[d];if(typeof u=="string"){o+=u;continue}var f=a[u.name],p;if(f==null)if(u.optional){u.partial&&(o+=u.prefix);continue}else throw new TypeError('Expected "'+u.name+'" to be defined');if(Tu(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(f.length===0){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var m=0;m<f.length;m++){if(p=c(f[m]),!n[d].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(m===0?u.prefix:u.delimiter)+p}continue}if(p=u.asterisk?rA(f):c(f),!n[d].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+p+'"');o+=u.prefix+p}return o}}function zs(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function iA(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function T0(t,e){return t.keys=e,t}function E0(t){return t&&t.sensitive?"":"i"}function sA(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return T0(t,e)}function oA(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(iT(t[i],e,n).source);var s=new RegExp("(?:"+r.join("|")+")",E0(n));return T0(s,e)}function aA(t,e,n){return rT(_0(t,n),e,n)}function rT(t,e,n){Tu(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",o=0;o<t.length;o++){var a=t[o];if(typeof a=="string")s+=zs(a);else{var l=zs(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var d=zs(n.delimiter||"/"),u=s.slice(-d.length)===d;return r||(s=(u?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),i?s+="$":s+=r&&u?"":"(?="+d+"|$)",T0(new RegExp("^"+s,E0(n)),e)}function iT(t,e,n){return Tu(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?sA(t,e):Tu(t)?oA(t,e,n):aA(t,e,n)}var lA=Ra.exports;const cA=Rn(lA);var sT={exports:{}},Xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ln=typeof Symbol=="function"&&Symbol.for,S0=ln?Symbol.for("react.element"):60103,C0=ln?Symbol.for("react.portal"):60106,Sh=ln?Symbol.for("react.fragment"):60107,Ch=ln?Symbol.for("react.strict_mode"):60108,Dh=ln?Symbol.for("react.profiler"):60114,Mh=ln?Symbol.for("react.provider"):60109,Ph=ln?Symbol.for("react.context"):60110,D0=ln?Symbol.for("react.async_mode"):60111,kh=ln?Symbol.for("react.concurrent_mode"):60111,Oh=ln?Symbol.for("react.forward_ref"):60112,Rh=ln?Symbol.for("react.suspense"):60113,dA=ln?Symbol.for("react.suspense_list"):60120,Ih=ln?Symbol.for("react.memo"):60115,Nh=ln?Symbol.for("react.lazy"):60116,uA=ln?Symbol.for("react.block"):60121,hA=ln?Symbol.for("react.fundamental"):60117,fA=ln?Symbol.for("react.responder"):60118,pA=ln?Symbol.for("react.scope"):60119;function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S0:switch(t=t.type,t){case D0:case kh:case Sh:case Dh:case Ch:case Rh:return t;default:switch(t=t&&t.$$typeof,t){case Ph:case Oh:case Nh:case Ih:case Mh:return t;default:return e}}case C0:return e}}}function oT(t){return yr(t)===kh}Xe.AsyncMode=D0;Xe.ConcurrentMode=kh;Xe.ContextConsumer=Ph;Xe.ContextProvider=Mh;Xe.Element=S0;Xe.ForwardRef=Oh;Xe.Fragment=Sh;Xe.Lazy=Nh;Xe.Memo=Ih;Xe.Portal=C0;Xe.Profiler=Dh;Xe.StrictMode=Ch;Xe.Suspense=Rh;Xe.isAsyncMode=function(t){return oT(t)||yr(t)===D0};Xe.isConcurrentMode=oT;Xe.isContextConsumer=function(t){return yr(t)===Ph};Xe.isContextProvider=function(t){return yr(t)===Mh};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S0};Xe.isForwardRef=function(t){return yr(t)===Oh};Xe.isFragment=function(t){return yr(t)===Sh};Xe.isLazy=function(t){return yr(t)===Nh};Xe.isMemo=function(t){return yr(t)===Ih};Xe.isPortal=function(t){return yr(t)===C0};Xe.isProfiler=function(t){return yr(t)===Dh};Xe.isStrictMode=function(t){return yr(t)===Ch};Xe.isSuspense=function(t){return yr(t)===Rh};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sh||t===kh||t===Dh||t===Ch||t===Rh||t===dA||typeof t=="object"&&t!==null&&(t.$$typeof===Nh||t.$$typeof===Ih||t.$$typeof===Mh||t.$$typeof===Ph||t.$$typeof===Oh||t.$$typeof===hA||t.$$typeof===fA||t.$$typeof===pA||t.$$typeof===uA)};Xe.typeOf=yr;sT.exports=Xe;var mA=sT.exports,aT=mA,gA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yA={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lT={};lT[aT.ForwardRef]=gA;lT[aT.Memo]=yA;var Zf=1073741823,ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function vA(){var t="__global_unique_id__";return ub[t]=(ub[t]||0)+1}function bA(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wA(t){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(i){return i!==r})},get:function(){return t},set:function(r,i){t=r,e.forEach(function(s){return s(t,i)})}}}function xA(t){return Array.isArray(t)?t[0]:t}function _A(t,e){var n,r,i="__create-react-context-"+vA()+"__",s=function(a){fi(l,a);function l(){for(var d,u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return d=a.call.apply(a,[this].concat(f))||this,d.emitter=wA(d.props.value),d}var c=l.prototype;return c.getChildContext=function(){var u;return u={},u[i]=this.emitter,u},c.componentWillReceiveProps=function(u){if(this.props.value!==u.value){var f=this.props.value,p=u.value,m;bA(f,p)?m=0:(m=typeof e=="function"?e(f,p):Zf,m|=0,m!==0&&this.emitter.set(u.value,m))}},c.render=function(){return this.props.children},l}(D.Component);s.childContextTypes=(n={},n[i]=h.object.isRequired,n);var o=function(a){fi(l,a);function l(){for(var d,u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return d=a.call.apply(a,[this].concat(f))||this,d.observedBits=void 0,d.state={value:d.getValue()},d.onUpdate=function(m,v){var b=d.observedBits|0;b&v&&d.setState({value:d.getValue()})},d}var c=l.prototype;return c.componentWillReceiveProps=function(u){var f=u.observedBits;this.observedBits=f??Zf},c.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var u=this.props.observedBits;this.observedBits=u??Zf},c.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},c.getValue=function(){return this.context[i]?this.context[i].get():t},c.render=function(){return xA(this.props.children)(this.state.value)},l}(D.Component);return o.contextTypes=(r={},r[i]=h.object,r),{Provider:s,Consumer:o}}var TA=D.createContext||_A,cT=function(e){var n=TA();return n.displayName=e,n},EA=cT("Router-History"),la=cT("Router"),Ah=function(t){fi(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(r){var i;return i=t.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=e.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return D.createElement(la.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},D.createElement(EA.Provider,{children:this.props.children||null,value:this.props.history}))},e}(D.Component);D.Component;D.Component;var hb={},SA=1e4,fb=0;function CA(t,e){var n=""+e.end+e.strict+e.sensitive,r=hb[n]||(hb[n]={});if(r[t])return r[t];var i=[],s=cA(t,i,e),o={regexp:s,keys:i};return fb<SA&&(r[t]=o,fb++),o}function M0(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,i=n.exact,s=i===void 0?!1:i,o=n.strict,a=o===void 0?!1:o,l=n.sensitive,c=l===void 0?!1:l,d=[].concat(r);return d.reduce(function(u,f){if(!f&&f!=="")return null;if(u)return u;var p=CA(f,{end:s,strict:a,sensitive:c}),m=p.regexp,v=p.keys,b=m.exec(t);if(!b)return null;var x=b[0],T=b.slice(1),E=t===x;return s&&!E?null:{path:f,url:f==="/"&&x===""?"/":x,isExact:E,params:v.reduce(function(S,C,M){return S[C.name]=T[M],S},{})}},null)}function DA(t){return D.Children.count(t)===0}var MA=function(t){fi(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.render=function(){var i=this;return D.createElement(la.Consumer,null,function(s){s||xo();var o=i.props.location||s.location,a=i.props.computedMatch?i.props.computedMatch:i.props.path?M0(o.pathname,i.props):s.match,l=Ne({},s,{location:o,match:a}),c=i.props,d=c.children,u=c.component,f=c.render;return Array.isArray(d)&&DA(d)&&(d=null),D.createElement(la.Provider,{value:l},l.match?d?typeof d=="function"?d(l):d:u?D.createElement(u,l):f?f(l):null:typeof d=="function"?d(l):null)})},e}(D.Component);function P0(t){return t.charAt(0)==="/"?t:"/"+t}function PA(t,e){return t?Ne({},e,{pathname:P0(t)+e.pathname}):e}function kA(t,e){if(!t)return e;var n=P0(t);return e.pathname.indexOf(n)!==0?e:Ne({},e,{pathname:e.pathname.substr(n.length)})}function pb(t){return typeof t=="string"?t:tT(t)}function Xf(t){return function(){xo()}}function mb(){}D.Component;D.Component;D.useContext;function Rl(t){return t.charAt(0)==="/"?t:"/"+t}function gb(t){return t.charAt(0)==="/"?t.substr(1):t}function OA(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function dT(t,e){return OA(t,e)?t.substr(e.length):t}function uT(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function RA(t){var e=t||"/",n="",r="",i=e.indexOf("#");i!==-1&&(r=e.substr(i),e=e.substr(0,i));var s=e.indexOf("?");return s!==-1&&(n=e.substr(s),e=e.substr(0,s)),{pathname:e,search:n==="?"?"":n,hash:r==="#"?"":r}}function Tr(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Zs(t,e,n,r){var i;typeof t=="string"?(i=RA(t),i.state=e):(i=Ne({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=eT(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function hT(){var t=null;function e(o){return t=o,function(){t===o&&(t=null)}}function n(o,a,l,c){if(t!=null){var d=typeof t=="function"?t(o,a):t;typeof d=="string"?typeof l=="function"?l(d,c):c(!0):c(d!==!1)}else c(!0)}var r=[];function i(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return r.push(l),function(){a=!1,r=r.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];r.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var fT=!!(typeof window<"u"&&window.document&&window.document.createElement);function pT(t,e){e(window.confirm(t))}function IA(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function NA(){return window.navigator.userAgent.indexOf("Trident")===-1}function AA(){return window.navigator.userAgent.indexOf("Firefox")===-1}function jA(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var yb="popstate",vb="hashchange";function bb(){try{return window.history.state||{}}catch{return{}}}function LA(t){t===void 0&&(t={}),fT||xo();var e=window.history,n=IA(),r=!NA(),i=t,s=i.forceRefresh,o=s===void 0?!1:s,a=i.getUserConfirmation,l=a===void 0?pT:a,c=i.keyLength,d=c===void 0?6:c,u=t.basename?uT(Rl(t.basename)):"";function f(G){var K=G||{},Q=K.key,A=K.state,F=window.location,H=F.pathname,V=F.search,se=F.hash,de=H+V+se;return u&&(de=dT(de,u)),Zs(de,A,Q)}function p(){return Math.random().toString(36).substr(2,d)}var m=hT();function v(G){Ne(J,G),J.length=e.length,m.notifyListeners(J.location,J.action)}function b(G){jA(G)||E(f(G.state))}function x(){E(f(bb()))}var T=!1;function E(G){if(T)T=!1,v();else{var K="POP";m.confirmTransitionTo(G,K,l,function(Q){Q?v({action:K,location:G}):S(G)})}}function S(G){var K=J.location,Q=M.indexOf(K.key);Q===-1&&(Q=0);var A=M.indexOf(G.key);A===-1&&(A=0);var F=Q-A;F&&(T=!0,U(F))}var C=f(bb()),M=[C.key];function P(G){return u+Tr(G)}function R(G,K){var Q="PUSH",A=Zs(G,K,p(),J.location);m.confirmTransitionTo(A,Q,l,function(F){if(F){var H=P(A),V=A.key,se=A.state;if(n)if(e.pushState({key:V,state:se},null,H),o)window.location.href=H;else{var de=M.indexOf(J.location.key),Se=M.slice(0,de+1);Se.push(A.key),M=Se,v({action:Q,location:A})}else window.location.href=H}})}function I(G,K){var Q="REPLACE",A=Zs(G,K,p(),J.location);m.confirmTransitionTo(A,Q,l,function(F){if(F){var H=P(A),V=A.key,se=A.state;if(n)if(e.replaceState({key:V,state:se},null,H),o)window.location.replace(H);else{var de=M.indexOf(J.location.key);de!==-1&&(M[de]=A.key),v({action:Q,location:A})}else window.location.replace(H)}})}function U(G){e.go(G)}function L(){U(-1)}function z(){U(1)}var q=0;function W(G){q+=G,q===1&&G===1?(window.addEventListener(yb,b),r&&window.addEventListener(vb,x)):q===0&&(window.removeEventListener(yb,b),r&&window.removeEventListener(vb,x))}var B=!1;function Z(G){G===void 0&&(G=!1);var K=m.setPrompt(G);return B||(W(1),B=!0),function(){return B&&(B=!1,W(-1)),K()}}function ne(G){var K=m.appendListener(G);return W(1),function(){W(-1),K()}}var J={length:e.length,action:"POP",location:C,createHref:P,push:R,replace:I,go:U,goBack:L,goForward:z,block:Z,listen:ne};return J}var wb="hashchange",$A={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+gb(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:gb,decodePath:Rl},slash:{encodePath:Rl,decodePath:Rl}};function mT(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Ja(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function FA(t){window.location.hash=t}function Jf(t){window.location.replace(mT(window.location.href)+"#"+t)}function BA(t){t===void 0&&(t={}),fT||xo();var e=window.history;AA();var n=t,r=n.getUserConfirmation,i=r===void 0?pT:r,s=n.hashType,o=s===void 0?"slash":s,a=t.basename?uT(Rl(t.basename)):"",l=$A[o],c=l.encodePath,d=l.decodePath;function u(){var K=d(Ja());return a&&(K=dT(K,a)),Zs(K)}var f=hT();function p(K){Ne(G,K),G.length=e.length,f.notifyListeners(G.location,G.action)}var m=!1,v=null;function b(K,Q){return K.pathname===Q.pathname&&K.search===Q.search&&K.hash===Q.hash}function x(){var K=Ja(),Q=c(K);if(K!==Q)Jf(Q);else{var A=u(),F=G.location;if(!m&&b(F,A)||v===Tr(A))return;v=null,T(A)}}function T(K){if(m)m=!1,p();else{var Q="POP";f.confirmTransitionTo(K,Q,i,function(A){A?p({action:Q,location:K}):E(K)})}}function E(K){var Q=G.location,A=P.lastIndexOf(Tr(Q));A===-1&&(A=0);var F=P.lastIndexOf(Tr(K));F===-1&&(F=0);var H=A-F;H&&(m=!0,L(H))}var S=Ja(),C=c(S);S!==C&&Jf(C);var M=u(),P=[Tr(M)];function R(K){var Q=document.querySelector("base"),A="";return Q&&Q.getAttribute("href")&&(A=mT(window.location.href)),A+"#"+c(a+Tr(K))}function I(K,Q){var A="PUSH",F=Zs(K,void 0,void 0,G.location);f.confirmTransitionTo(F,A,i,function(H){if(H){var V=Tr(F),se=c(a+V),de=Ja()!==se;if(de){v=V,FA(se);var Se=P.lastIndexOf(Tr(G.location)),De=P.slice(0,Se+1);De.push(V),P=De,p({action:A,location:F})}else p()}})}function U(K,Q){var A="REPLACE",F=Zs(K,void 0,void 0,G.location);f.confirmTransitionTo(F,A,i,function(H){if(H){var V=Tr(F),se=c(a+V),de=Ja()!==se;de&&(v=V,Jf(se));var Se=P.indexOf(Tr(G.location));Se!==-1&&(P[Se]=V),p({action:A,location:F})}})}function L(K){e.go(K)}function z(){L(-1)}function q(){L(1)}var W=0;function B(K){W+=K,W===1&&K===1?window.addEventListener(wb,x):W===0&&window.removeEventListener(wb,x)}var Z=!1;function ne(K){K===void 0&&(K=!1);var Q=f.setPrompt(K);return Z||(B(1),Z=!0),function(){return Z&&(Z=!1,B(-1)),Q()}}function J(K){var Q=f.appendListener(K);return B(1),function(){B(-1),Q()}}var G={length:e.length,action:"POP",location:M,createHref:R,push:I,replace:U,go:L,goBack:z,goForward:q,block:ne,listen:J};return G}D.Component;var UA=function(t){fi(e,t);function e(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s))||this,r.history=BA(r.props),r}var n=e.prototype;return n.render=function(){return D.createElement(Ah,{history:this.history,children:this.props.children})},e}(D.Component),Cm=function(e,n){return typeof e=="function"?e(n):e},Dm=function(e,n){return typeof e=="string"?Zs(e,null,null,n):e},k0=function(e){return e},ca=D.forwardRef;typeof ca>"u"&&(ca=k0);function YA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var zA=ca(function(t,e){var n=t.innerRef,r=t.navigate,i=t.onClick,s=po(t,["innerRef","navigate","onClick"]),o=s.target,a=Ne({},s,{onClick:function(c){try{i&&i(c)}catch(d){throw c.preventDefault(),d}!c.defaultPrevented&&c.button===0&&(!o||o==="_self")&&!YA(c)&&(c.preventDefault(),r())}});return k0!==ca?a.ref=e||n:a.ref=n,D.createElement("a",a)}),WA=ca(function(t,e){var n=t.component,r=n===void 0?zA:n,i=t.replace,s=t.to,o=t.innerRef,a=po(t,["component","replace","to","innerRef"]);return D.createElement(la.Consumer,null,function(l){l||xo();var c=l.history,d=Dm(Cm(s,l.location),l.location),u=d?c.createHref(d):"",f=Ne({},a,{href:u,navigate:function(){var m=Cm(s,l.location),v=Tr(l.location)===Tr(Dm(m)),b=i||v?c.replace:c.push;b(m)}});return k0!==ca?f.ref=e||o:f.innerRef=o,D.createElement(r,f)})}),gT=function(e){return e},Eu=D.forwardRef;typeof Eu>"u"&&(Eu=gT);function HA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(function(r){return r}).join(" ")}Eu(function(t,e){var n=t["aria-current"],r=n===void 0?"page":n,i=t.activeClassName,s=i===void 0?"active":i,o=t.activeStyle,a=t.className,l=t.exact,c=t.isActive,d=t.location,u=t.sensitive,f=t.strict,p=t.style,m=t.to,v=t.innerRef,b=po(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return D.createElement(la.Consumer,null,function(x){x||xo();var T=d||x.location,E=Dm(Cm(m,T),T),S=E.pathname,C=S&&S.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),M=C?M0(T.pathname,{path:C,exact:l,sensitive:u,strict:f}):null,P=!!(c?c(M,T):M),R=typeof a=="function"?a(P):a,I=typeof p=="function"?p(P):p;P&&(R=HA(R,s),I=Ne({},I,o));var U=Ne({"aria-current":P&&r||null,className:R,style:I,to:E},b);return gT!==Eu?U.ref=e||v:U.innerRef=v,D.createElement(WA,U)})});var Su=function(){return Su=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Su.apply(this,arguments)};function qA(t,e,n){n===void 0&&(n=!0);var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=t.decode.apply(t,i);return o===void 0||n&&o===null?e:o};return Su(Su({},t),{decode:r})}function yT(t,e){if(t==null)return t;if(t.length===0&&t!=="")return null;var n=t instanceof Array?t[0]:t;return n==null,n}function VA(t){return t==null?t:String(t)}function QA(t){var e=yT(t);return e==null?e:String(e)}function KA(t,e,n){return e===void 0&&(e="-"),n===void 0&&(n="_"),t==null?t:Object.keys(t).length?Object.keys(t).map(function(r){return""+r+e+t[r]}).join(n):""}function GA(t,e,n){e===void 0&&(e="-"),n===void 0&&(n="_");var r=yT(t);if(r==null)return r;if(r==="")return{};var i={},s=new RegExp(e+"(.*)");return r.split(n).forEach(function(o){var a=o.split(s),l=a[0],c=a[1];i[l]=c}),i}var wl={encode:VA,decode:QA},ZA={encode:KA,decode:GA},lo={},XA=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),vT="%[a-f0-9]{2}",xb=new RegExp("("+vT+")|([^%]+?)","gi"),_b=new RegExp("("+vT+")+","gi");function Mm(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Mm(n),Mm(r))}function JA(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(xb)||[],n=1;n<e.length;n++)t=Mm(e,n).join(""),e=t.match(xb)||[];return t}}function ej(t){for(var e={"%FE%FF":"","%FF%FE":""},n=_b.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=JA(n[0]);r!==n[0]&&(e[n[0]]=r)}n=_b.exec(t)}e["%C2"]="";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var tj=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return ej(t)}},nj=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},rj=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(n[o]=a)}return n};(function(t){const e=XA,n=tj,r=nj,i=rj,s=T=>T==null,o=Symbol("encodeFragmentIdentifier");function a(T){switch(T.arrayFormat){case"index":return E=>(S,C)=>{const M=S.length;return C===void 0||T.skipNull&&C===null||T.skipEmptyString&&C===""?S:C===null?[...S,[d(E,T),"[",M,"]"].join("")]:[...S,[d(E,T),"[",d(M,T),"]=",d(C,T)].join("")]};case"bracket":return E=>(S,C)=>C===void 0||T.skipNull&&C===null||T.skipEmptyString&&C===""?S:C===null?[...S,[d(E,T),"[]"].join("")]:[...S,[d(E,T),"[]=",d(C,T)].join("")];case"colon-list-separator":return E=>(S,C)=>C===void 0||T.skipNull&&C===null||T.skipEmptyString&&C===""?S:C===null?[...S,[d(E,T),":list="].join("")]:[...S,[d(E,T),":list=",d(C,T)].join("")];case"comma":case"separator":case"bracket-separator":{const E=T.arrayFormat==="bracket-separator"?"[]=":"=";return S=>(C,M)=>M===void 0||T.skipNull&&M===null||T.skipEmptyString&&M===""?C:(M=M===null?"":M,C.length===0?[[d(S,T),E,d(M,T)].join("")]:[[C,d(M,T)].join(T.arrayFormatSeparator)])}default:return E=>(S,C)=>C===void 0||T.skipNull&&C===null||T.skipEmptyString&&C===""?S:C===null?[...S,d(E,T)]:[...S,[d(E,T),"=",d(C,T)].join("")]}}function l(T){let E;switch(T.arrayFormat){case"index":return(S,C,M)=>{if(E=/\[(\d*)\]$/.exec(S),S=S.replace(/\[\d*\]$/,""),!E){M[S]=C;return}M[S]===void 0&&(M[S]={}),M[S][E[1]]=C};case"bracket":return(S,C,M)=>{if(E=/(\[\])$/.exec(S),S=S.replace(/\[\]$/,""),!E){M[S]=C;return}if(M[S]===void 0){M[S]=[C];return}M[S]=[].concat(M[S],C)};case"colon-list-separator":return(S,C,M)=>{if(E=/(:list)$/.exec(S),S=S.replace(/:list$/,""),!E){M[S]=C;return}if(M[S]===void 0){M[S]=[C];return}M[S]=[].concat(M[S],C)};case"comma":case"separator":return(S,C,M)=>{const P=typeof C=="string"&&C.includes(T.arrayFormatSeparator),R=typeof C=="string"&&!P&&u(C,T).includes(T.arrayFormatSeparator);C=R?u(C,T):C;const I=P||R?C.split(T.arrayFormatSeparator).map(U=>u(U,T)):C===null?C:u(C,T);M[S]=I};case"bracket-separator":return(S,C,M)=>{const P=/(\[\])$/.test(S);if(S=S.replace(/\[\]$/,""),!P){M[S]=C&&u(C,T);return}const R=C===null?[]:C.split(T.arrayFormatSeparator).map(I=>u(I,T));if(M[S]===void 0){M[S]=R;return}M[S]=[].concat(M[S],R)};default:return(S,C,M)=>{if(M[S]===void 0){M[S]=C;return}M[S]=[].concat(M[S],C)}}}function c(T){if(typeof T!="string"||T.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function d(T,E){return E.encode?E.strict?e(T):encodeURIComponent(T):T}function u(T,E){return E.decode?n(T):T}function f(T){return Array.isArray(T)?T.sort():typeof T=="object"?f(Object.keys(T)).sort((E,S)=>Number(E)-Number(S)).map(E=>T[E]):T}function p(T){const E=T.indexOf("#");return E!==-1&&(T=T.slice(0,E)),T}function m(T){let E="";const S=T.indexOf("#");return S!==-1&&(E=T.slice(S)),E}function v(T){T=p(T);const E=T.indexOf("?");return E===-1?"":T.slice(E+1)}function b(T,E){return E.parseNumbers&&!Number.isNaN(Number(T))&&typeof T=="string"&&T.trim()!==""?T=Number(T):E.parseBooleans&&T!==null&&(T.toLowerCase()==="true"||T.toLowerCase()==="false")&&(T=T.toLowerCase()==="true"),T}function x(T,E){E=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},E),c(E.arrayFormatSeparator);const S=l(E),C=Object.create(null);if(typeof T!="string"||(T=T.trim().replace(/^[?#&]/,""),!T))return C;for(const M of T.split("&")){if(M==="")continue;let[P,R]=r(E.decode?M.replace(/\+/g," "):M,"=");R=R===void 0?null:["comma","separator","bracket-separator"].includes(E.arrayFormat)?R:u(R,E),S(u(P,E),R,C)}for(const M of Object.keys(C)){const P=C[M];if(typeof P=="object"&&P!==null)for(const R of Object.keys(P))P[R]=b(P[R],E);else C[M]=b(P,E)}return E.sort===!1?C:(E.sort===!0?Object.keys(C).sort():Object.keys(C).sort(E.sort)).reduce((M,P)=>{const R=C[P];return R&&typeof R=="object"&&!Array.isArray(R)?M[P]=f(R):M[P]=R,M},Object.create(null))}t.extract=v,t.parse=x,t.stringify=(T,E)=>{if(!T)return"";E=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},E),c(E.arrayFormatSeparator);const S=R=>E.skipNull&&s(T[R])||E.skipEmptyString&&T[R]==="",C=a(E),M={};for(const R of Object.keys(T))S(R)||(M[R]=T[R]);const P=Object.keys(M);return E.sort!==!1&&P.sort(E.sort),P.map(R=>{const I=T[R];return I===void 0?"":I===null?d(R,E):Array.isArray(I)?I.length===0&&E.arrayFormat==="bracket-separator"?d(R,E)+"[]":I.reduce(C(R),[]).join("&"):d(R,E)+"="+d(I,E)}).filter(R=>R.length>0).join("&")},t.parseUrl=(T,E)=>{E=Object.assign({decode:!0},E);const[S,C]=r(T,"#");return Object.assign({url:S.split("?")[0]||"",query:x(v(T),E)},E&&E.parseFragmentIdentifier&&C?{fragmentIdentifier:u(C,E)}:{})},t.stringifyUrl=(T,E)=>{E=Object.assign({encode:!0,strict:!0,[o]:!0},E);const S=p(T.url).split("?")[0]||"",C=t.extract(T.url),M=t.parse(C,{sort:!1}),P=Object.assign(M,T.query);let R=t.stringify(P,E);R&&(R=`?${R}`);let I=m(T.url);return T.fragmentIdentifier&&(I=`#${E[o]?d(T.fragmentIdentifier,E):T.fragmentIdentifier}`),`${S}${R}${I}`},t.pick=(T,E,S)=>{S=Object.assign({parseFragmentIdentifier:!0,[o]:!1},S);const{url:C,query:M,fragmentIdentifier:P}=t.parseUrl(T,S);return t.stringifyUrl({url:C,query:i(M,E),fragmentIdentifier:P},S)},t.exclude=(T,E,S)=>{const C=Array.isArray(E)?M=>!E.includes(M):(M,P)=>!E(M,P);return t.pick(T,C,S)}})(lo);var da=function(){return da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},da.apply(this,arguments)};'{}[],":'.split("").map(function(t){return[t,encodeURIComponent(t)]});function bT(t,e,n){var r=lo.stringify(t,n);n&&n.transformSearchString&&(r=n.transformSearchString(r));var i=r.length?"?"+r:"",s=lo.parseUrl(e.href||"").url+i,o=da(da({},e),{key:""+Date.now(),href:s,search:i,query:t});return o}function ij(t,e,n){var r=lo.parse(e.search,{parseNumbers:!1}),i=da(da({},r),t);return bT(i,e,n)}function Tb(t,e){for(var n={},r=Object.keys(e),i=0,s=r;i<s.length;i++){var o=s[i],a=e[o];t[o]?n[o]=t[o].encode(e[o]):n[o]=a==null?a:String(a)}return n}var sj=Object.prototype.hasOwnProperty;function Eb(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ai(t,e,n){var r,i;if(Eb(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;for(var a=0;a<s.length;a++){var l=(i=(r=n==null?void 0:n[s[a]])===null||r===void 0?void 0:r.equals)!==null&&i!==void 0?i:Eb;if(!sj.call(e,s[a])||!l(t[s[a]],e[s[a]]))return!1}return!0}function Ws(t,e,n){n===void 0&&(n=ai);var r=(t.current==null||e==null)&&t.current===e||!n(t.current,e);O.useEffect(function(){r&&(t.current=e)},[t,e,r])}function jh(t){return typeof t=="object"?typeof window<"u"?t.search:lo.extract(""+t.pathname+(t.search?t.search:"")):""}function oj(t,e,n,r){switch(n===void 0&&(n="pushIn"),n){case"replace":case"push":return bT(t,e,r);case"replaceIn":case"pushIn":default:return ij(t,e,r)}}function aj(t,e,n){switch(n===void 0&&(n="pushIn"),n){case"pushIn":case"push":t.push(e);break;case"replaceIn":case"replace":default:t.replace(e);break}}var lj={location:{},getLocation:function(){return{}},setLocation:function(){}},wT=O.createContext(lj);function xT(){var t=O.useContext(wT);return t}function ep(t){var e=t.history,n=t.location,r=t.children,i=t.stringifyOptions,s=O.useRef(n);O.useEffect(function(){s.current=n},[n]);var o=O.useCallback(function(){return s.current},[s]),a=O.useCallback(function(l,c){s.current=oj(l,e==null||e.location==null?s.current:e.location,c,i),e&&aj(e,s.current,c)},[e,i]);return O.createElement(wT.Provider,{value:{location:n,getLocation:o,setLocation:a}},r)}var cj=function(t){var e=t,n=lo.parse(e||"");return function(r){return e!==r&&(e=r,n=lo.parse(e)),n}},Lh=cj();function Sb(t,e,n,r,i,s){var o,a=!ai(r.current,n),l=(o=n.equals)!==null&&o!==void 0?o:ai,c=Lh(jh(t)),d=!ai(i.current,c[e]),u=d?c[e]:i.current;if(!d&&!a&&s.current!==void 0)return s.current;var f=n.decode(u),p=(s.current==null||f==null)&&s.current===f||!l(s.current,f);return p?f:s.current}var Pc=function(t,e){e===void 0&&(e=wl);var n=xT(),r=n.location,i=n.getLocation,s=n.setLocation,o=Lh(jh(r)),a=O.useRef(),l=O.useRef(e),c=O.useRef(),d=Sb(r,t,e,l,a,c);Ws(a,o[t]),Ws(l,e),Ws(c,d,e.equals);var u={paramConfig:e,name:t,setLocation:s,getLocation:i},f=O.useRef(u);f.current=u;var p=O.useCallback(function(v,b){var x,T=f.current,E;if(typeof v=="function"){var S=Sb(T.getLocation(),T.name,T.paramConfig,l,a,c);c.current=S,E=T.paramConfig.encode(v(S))}else E=T.paramConfig.encode(v);T.setLocation((x={},x[T.name]=E,x),b)},[]);return[d,p]};function Cb(t,e,n,r,i,s){var o=!ai(n.current,e),a=Lh(jh(t)),l=r.current!==a;if(!l&&!o&&i.current!==void 0)return{encodedValues:i.current,decodedValues:s.current};for(var c=i.current||{},d=s.current||{},u={},f=Object.keys(e),p={},m=0,v=f;m<v.length;m++){var b=v[m],x=e[b],T=!ai(c[b],a[b]),E=void 0,S=void 0;T||c[b]===void 0&&d[b]===void 0?(E=a[b],S=x.decode(E)):(E=c[b],S=d[b]),u[b]=E,p[b]=S}var C=!ai(s.current,p,e);return{encodedValues:u,decodedValues:C?p:s.current}}var dj=function(t){var e=xT(),n=e.location,r=e.getLocation,i=e.setLocation,s=Lh(jh(n)),o=O.useRef(t),a=O.useRef(s),l=O.useRef(void 0),c=O.useRef({});t=ai(t,o.current)?o.current:t;var d=Cb(n,t,o,a,l,c),u=d.encodedValues,f=d.decodedValues;Ws(a,s),Ws(o,t),Ws(l,u),Ws(c,f,function(b,x){return ai(b,x,t)});var p={paramConfigMap:t,setLocation:i,getLocation:r},m=O.useRef(p);m.current=p;var v=O.useCallback(function(b,x){var T=m.current,E;if(typeof b=="function"){var S=Cb(T.getLocation(),T.paramConfigMap,o,a,l,c).decodedValues;c.current=S,E=Tb(T.paramConfigMap,b(S))}else E=Tb(T.paramConfigMap,b);T.setLocation(E,x)},[]);return[f,v]};var Il=function(){return Il=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Il.apply(this,arguments)},Db,tp;function uj(t){if(t===Db&&tp!=null)return tp;var e={replace:function(n){t.replaceState(n.state,"",n.protocol+"//"+n.host+n.pathname+n.search)},push:function(n){t.pushState(n.state,"",n.protocol+"//"+n.host+n.pathname+n.search)},get location(){return window.location}};return Db=t,tp=e,e}var Mb,np;function hj(t){if(t===Mb&&np!=null)return np;var e={replace:function(n){t.navigate(n.protocol+"//"+n.host+n.pathname+n.search,{replace:!0})},push:function(n){t.navigate(n.protocol+"//"+n.host+n.pathname+n.search,{replace:!1})},get location(){return t.location}};return Mb=t,np=e,e}function rp(t){var e=t===void 0?{}:t,n=e.history,r=e.location,i=typeof window<"u";if(i&&(n||(n=uj(window.history)),r||(r=window.location)),!r)throw new Error(`
        Could not read the location. Is the router wired up correctly?
      `);return{history:n,location:r}}function fj(t){var e=t.children,n=t.ReactRouterRoute,r=t.reachHistory,i=t.history,s=t.location,o=t.stringifyOptions,a=O.useRef(o),l=!ai(a.current,o),c=l?o:a.current;return O.useEffect(function(){a.current=c},[c]),n?O.createElement(n,null,function(d){return O.createElement(ep,Il({stringifyOptions:c},rp(d)),e)}):r?O.createElement(ep,Il({stringifyOptions:c},rp({history:hj(r),location:s})),e):O.createElement(ep,Il({stringifyOptions:c},rp({history:i,location:s})),e)}const _T=O.createContext();function pj(){const t=O.useContext(_T);if(t===void 0)throw new Error("usePrintableArea must be used within a PrintContextProvider");return t}const mj="_printAreaProvider_13kty_1",gj={printAreaProvider:mj};function TT({children:t}){const[e,n]=O.useState(null),[r,i]=O.useState(null);O.useEffect(()=>(e&&window.print(),()=>{n(!1),i(!1)}),[e,r]);const o={formPrinting:e,printForm:(a=!1)=>{i(a),n(!0)}};return w.jsx(_T.Provider,{value:o,children:w.jsx("div",{className:Pe(gj.printAreaProvider,r&&"form-cleared"),children:t})})}TT.propTypes={children:h.node.isRequired};const yj="_wrapper_1i2vr_1",vj="_hideForPrint_1i2vr_14 _hideForPrint_9lzdq_20",ip={wrapper:yj,hideForPrint:vj};var Cu="NOT_FOUND";function bj(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Cu},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function wj(t,e){var n=[];function r(a){var l=n.findIndex(function(d){return e(a,d.key)});if(l>-1){var c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return Cu}function i(a,l){r(a)===Cu&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var xj=function(e,n){return e===n};function _j(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function Tj(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?xj:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=_j(i),c=o===1?bj(l):wj(o,l);function d(){var u=c.get(arguments);if(u===Cu){if(u=t.apply(null,arguments),a){var f=c.getEntries(),p=f.find(function(m){return a(m.value,u)});p&&(u=p.value)}c.put(arguments,u)}return u}return d.clearCache=function(){return c.clear()},d}function Ej(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Sj(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=0,d,u={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(u=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var p=u,m=p.memoizeOptions,v=m===void 0?n:m,b=Array.isArray(v)?v:[v],x=Ej(a),T=t.apply(void 0,[function(){return c++,f.apply(null,arguments)}].concat(b)),E=t(function(){for(var C=[],M=x.length,P=0;P<M;P++)C.push(x[P].apply(null,arguments));return d=T.apply(null,C),d});return Object.assign(E,{resultFunc:f,memoizedResultFunc:T,dependencies:x,lastResult:function(){return d},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),E};return i}var _o=Sj(Tj);const Cj=t=>t.reduce((e,n)=>(e[n.id]=n,e),{}),Dj=(t,e=Cj)=>Object.keys(t).reduce((n,r)=>{const i=t[r];return Array.isArray(i)?n[r]=e(t[r]):n[r]=i,n},{}),Mj=_o(t=>t,t=>Dj(t)),Pj=["/dataEntry/metadata"],kj={refetchOnMount:!1,select:Mj,staleTime:24*60*60*1e3},et=()=>jr(Pj,kj),Oj="",Rj={"Bi-Week":" ",Week:Oj},Ij="Tden",Nj={"Bi-Week":"Dvoutden",Week:Ij},Aj="Week",jj={'Couldn\'t find a monthly period for weekly period id "{{periodId}}"':`Couldn't find a monthly period for weekly period id "{{periodId}}"`,'Couldn\'t find a weekly period for weekly period id "{{periodId}}"':`Couldn't find a weekly period for weekly period id "{{periodId}}"`,'Couldn\'t handle unknown period id "{{periodId}}"':`Couldn't handle unknown period id "{{periodId}}"`,'Could not find a period type for period id "{{periodId}}"':'Could not find a period type for period id "{{periodId}}"','Could not determine a period type for period id "{{periodId}}"':'Could not determine a period type for period id "{{periodId}}"','Couldn\'t find a period type for weekly period id "{{periodId}}"':`Couldn't find a period type for weekly period id "{{periodId}}"`,"Bi-Week":"Bi-Week",Week:Aj,'Date string is invalid, received "{{dateString}}"':'Date string is invalid, received "{{dateString}}"',"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.":"Date string format does not match the specified format. Expected {{format}} but got {{detectedFormat}}.",'Unrecognized date, received "{{date}}"':'Unrecognized date, received "{{date}}"',"Year {{year}} is out of range.":"Year {{year}} is out of range.","Month {{month}} is out of range | 1 <= {{month}} <= 12.":"Month {{month}} is out of range | 1 <= {{month}} <= 12.","Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.":"Day {{day}} is out of range | 1 <= {{day}} <= {{daysInMonth}}.","Date is not given":"Date is not given","Date {{dateString}} is less than the minimum allowed date {{minDateString}}.":"Date {{dateString}} is less than the minimum allowed date {{minDateString}}.","Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}.":"Date {{dateString}} is greater than the maximum allowed date {{maxDateString}}."},Lj="Semana",$j={"Bi-Week":"Quincenal",Week:Lj},Fj="Semana",Bj={"Bi-Week":"Cada dos semanas",Week:Fj},Uj="Semaine",Yj={"Bi-Week":"Bi-hebdomadaire",Week:Uj},zj="Minggu",Wj={"Bi-Week":"",Week:zj},Hj="",qj={"Bi-Week":"",Week:Hj},Vj="Uke",Qj={"Bi-Week":"Toukentlig",Week:Vj},Kj="Week",Gj={"Bi-Week":"",Week:Kj},Zj="",Xj={"Bi-Week":"",Week:Zj},Jj="",e9={"Bi-Week":"",Week:Jj},t9="Semana",n9={"Bi-Week":"Bimensal",Week:t9},r9="Semana",i9={"Bi-Week":"",Week:r9},s9="",o9={"Bi-Week":"",Week:s9},a9="",l9={"Bi-Week":"",Week:a9},c9="",d9={"Bi-Week":"",Week:c9},u9="",h9={"Bi-Week":"",Week:u9},f9="",p9={"Bi-Week":"-",Week:f9},m9="Hafta",g9={"Bi-Week":"Juft-Hafta",Week:m9},y9="Tun",v9={"Bi-Week":"K 2 tun ny",Week:y9},b9="",w9={"Bi-Week":"",Week:b9},x9="",_9={"Bi-Week":"",Week:x9},Pt="default";k.addResources("ar",Pt,Rj);k.addResources("cs",Pt,Nj);k.addResources("en",Pt,jj);k.addResources("es",Pt,$j);k.addResources("es_419",Pt,Bj);k.addResources("fr",Pt,Yj);k.addResources("id",Pt,Wj);k.addResources("lo",Pt,qj);k.addResources("nb",Pt,Qj);k.addResources("nl",Pt,Gj);k.addResources("prs",Pt,Xj);k.addResources("ps",Pt,e9);k.addResources("pt",Pt,n9);k.addResources("pt_BR",Pt,i9);k.addResources("ru",Pt,o9);k.addResources("si",Pt,l9);k.addResources("uk",Pt,d9);k.addResources("ur",Pt,h9);k.addResources("uz_UZ_Cyrl",Pt,p9);k.addResources("uz_UZ_Latn",Pt,g9);k.addResources("vi",Pt,v9);k.addResources("zh",Pt,w9);k.addResources("zh_CN",Pt,_9);const To={ethiopian:"ethiopic",coptic:"coptic",gregorian:"gregory",islamic:"islamic",iso8601:"iso8601",nepali:"nepali",thai:"buddhist",persian:"persian"},T9={nepali:{"ne-NP":{monthNames:["","","","","","","","","","","",""],dayNamesShort:["","","","","","",""],numbers:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},"en-NP":{monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],dayNamesShort:["Som","Mangl","Budha","Bihi","Shukra","Shani","Aaita"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"]}}},hr={1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,32,31,32,31,30,30,30,29,30,29,31],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]};class E9 extends he.Calendar{constructor(){super("iso8601")}toString(){return"nepali"}year(e){var n;const{isoYear:r,isoMonth:i,isoDay:s}=e.getISOFields();return(n=op({year:r,month:i,day:s}))===null||n===void 0?void 0:n.year}eraYear(e){return this.year(e)}daysInMonth(e){const{year:n,month:r}=e;return hr[n][r]}month(e){var n;const{isoYear:r,isoMonth:i,isoDay:s}=e.getISOFields();return(n=op({year:r,month:i,day:s}))===null||n===void 0?void 0:n.month}monthCode(e){const{month:n}=e;return ET(n)}day(e){const{isoYear:n,isoMonth:r,isoDay:i}=e.getISOFields(),{day:s}=op({year:n,month:r,day:i});return s}dateFromFields(e){const{year:n,day:r,month:i}=sp({year:e.year,month:e.month,day:e.day});return new he.PlainDate(n,i,r,this)}yearMonthFromFields(e){const{year:n,day:r,month:i}=sp({year:e.year,month:e.month,day:e.day});return new he.PlainYearMonth(n,i,this,r)}monthDayFromFields(e){const{year:n,day:r,month:i}=sp({year:e.year,month:e.month,day:e.day});return new he.PlainMonthDay(r,i,this,n)}}const Pm=Object.keys(hr),Du=Number(Pm[0]),Mu=Number(Pm[Pm.length-1]),sp=t=>{let{year:e}=t;if(e<Du||e>Mu)throw new Error(`Conversions are only possible between ${Du} and ${Mu} in Nepali calendar`);const{month:n,day:r=1}=t;let i=0,s=n;const o=e-(n>9||s===9&&r>=hr[e][0]?56:57);for(n!==9&&(i=r,s--);s!==9;)s<=0&&(s=12,e--),i+=hr[e][s],s--;n===9?(i+=r-hr[e][0],i<0&&(i+=he.PlainDate.from({year:o,day:1,month:1}).daysInYear)):i+=hr[e][9]-hr[e][0];const a=he.PlainDate.from({year:o,month:1,day:1}).add({days:i});return{year:a.year,month:a.month,monthCode:ET(a.month),day:a.day}},op=t=>{const e=he.PlainDate.from({year:t.year,month:t.month,day:t.day}),n=e.year,r=e.dayOfYear;let i=n+56;if(!hr[i])throw new Error(`Conversions are only possible between ${Du} and ${Mu} in Nepali calendar`);let s=9;const o=hr[i][0];let a=hr[i][s]-o+1;for(;r>a;){var l;s++,s>12&&(s=1,i++),a+=(l=hr[i])===null||l===void 0?void 0:l[s]}if(!hr[i])throw new Error(`Conversions are only possible between ${Du} and ${Mu} in Nepali calendar`);const c=hr[i][s]-(a-r);return{year:i,month:s,day:c}};function ET(t){return`M${t.toString().padStart(2,"0")}`}const O0={nepali:{calendar:new E9,locales:T9.nepali,defaultLocale:"en-NP"}},S9=/^(?:(\d{4})([-./])(\d{2})(\2)(\d{2})|(\d{2})([-./])(\d{2})(\7)(\d{4}))$/;function ST(t,e){const n=t.match(S9);if(!n)throw new Error(k.t('Date string is invalid, received "{{dateString}}"',{dateString:t}));let r,i,s,o;n[1]?(r=n[1],i=n[3],s=n[5],o="YYYY-MM-DD"):(s=n[6],i=n[8],r=n[10],o="DD-MM-YYYY");const a=parseInt(r,10),l=parseInt(i,10),c=parseInt(s,10);return{year:a,month:l,day:c,format:o}}const CT=function(){var t,e,n,r,i,s;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"gregory",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:((t=Intl)===null||t===void 0||(e=t.DateTimeFormat)===null||e===void 0||(n=(r=e.call(t)).resolvedOptions)===null||n===void 0||(i=n.call(r))===null||i===void 0?void 0:i.timeZone)||"UTC";const l=he.Now.zonedDateTime("gregory",a);let c=(s=To[o])!==null&&s!==void 0?s:o;return Bi(c)&&(c=Eo(c)),he.ZonedDateTime.from(l).withCalendar(c)},Bi=t=>!!O0[t],ss=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(e,"0")},Dr=(t,e,n)=>{var r;const i=(r=t.eraYear)!==null&&r!==void 0?r:t.year,s=ss(t.month);let o=t.day;e==="endOfMonth"?o=t.daysInMonth:e==="startOfMonth"&&(o=1);const a=ss(o);return n==="DD-MM-YYYY"?`${a}-${s}-${i}`:`${i}-${s}-${a}`},Eo=t=>{var e;if(!Bi(t))return t;const r=(e=O0[t])===null||e===void 0?void 0:e.calendar;if(!r)throw new Error(`No implemenation found for custom calendar ${t}`);return r},C9=["adlm","ahom","arab","arabext","armn","armnlow","bali","beng","bhks","brah","cakm","cham","cyrl","deva","ethi","finance","fullwide","geor","gong","gonm","grek","greklow","gujr","guru","hanidays","hanidec","hans","hansfin","hant","hantfin","hebr","hmng","hmnp","java","jpan","jpanfin","jpanyear","kali","khmr","knda","lana","lanatham","laoo","latn","lepc","limb","mathbold","mathdbl","mathmono","mathsanb","mathsans","mlym","modi","mong","mroo","mtei","mymr","mymrshan","mymrtlng","native","newa","nkoo","olck","orya","osma","rohg","roman","romanlow","saur","shrd","sind","sinh","sora","sund","takr","talu","taml","tamldec","telu","thai","tirh","tibt","traditio","vaii","wara","wcho"],D9=(t,e)=>{const n=Object.keys(t).find(r=>{var i,s;return((i=r.split("-"))===null||i===void 0||(s=i[0])===null||s===void 0?void 0:s.toLowerCase())===e});if(n)return t[n]},R0=(t,e)=>{var n,r;const i=O0[t];if(!i)return;const s=i.locales||{},o=(n=(r=e&&(s==null?void 0:s[e]))!==null&&r!==void 0?r:D9(s,e))!==null&&n!==void 0?n:s==null?void 0:s[i.defaultLocale];if(!o)throw new Error(`no localisation found for custom calendar ${t}. Requested locale: ${e}, Default locale ${i.defaultLocale}`);return o},M9=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{dateStyle:"full"};if(!e.calendar)throw new Error("no calendar provided to localise function");if(!t)throw new Error("a date must be provided to localiseDateLabel");const r=Bi(e.calendar),i=t instanceof he.ZonedDateTime?t==null?void 0:t.toPlainDate():t;return r?Dr(t):i.toLocaleString(e.locale,{calendar:e.calendar,dateStyle:n.dateStyle}).toString()},P9=(t,e)=>{var n;if(!e.calendar)throw new Error("no calendar provided to localise function");const r=Bi(e.calendar),i=R0(e.calendar,e.locale);return r?(i==null||(n=i.numbers)===null||n===void 0?void 0:n[t.day])||t.day:t.toPlainDate().toLocaleString(e.locale,{calendar:e.calendar,numberingSystem:C9.includes(e.numberingSystem)?e.numberingSystem:void 0,day:"numeric"})},k9=(t,e,n)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const r=Bi(e.calendar),i=R0(e.calendar,e.locale);return r?i==null?void 0:i.monthNames[t.month-1]:t.toLocaleString(e.locale,n)},O9=(t,e)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");const n=Bi(e.calendar),r=R0(e.calendar,e.locale),i=r==null?void 0:r.dayNamesShort[t.dayOfWeek-1];return n&&i?i:t.toPlainDate().toLocaleString(e.locale,{weekday:e.weekDayFormat,calendar:e.calendar})},R9=(t,e,n)=>{if(!e.calendar)throw new Error("no calendar provided to localise function");return Bi(e.calendar)?t.year:t.toPlainYearMonth().toLocaleString(e.locale,n)},Xs={localiseYear:R9,localiseDateLabel:M9,localiseWeekLabel:P9,localiseMonth:k9,localiseWeekDayLabel:O9},DT=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const[e,n,r]=t.replace(/_/g,"-").split("-");let i=e;r&&(i=`${i}-${r}`),n&&(i=`${i}-${n}`);try{const s=Intl.DateTimeFormat.supportedLocalesOf(i);return s&&s.length===1?i:void 0}catch{return}},I9=t=>{let{date:e,calendar:n}=t;const{year:r,month:i,day:s}=ST(e);return he.PlainDate.from({year:r,month:i,day:s,calendar:n})},Vn=t=>{let{date:e,calendar:n}=t;if(typeof e=="string")return I9({date:e,calendar:n});if(e instanceof Date)return he.PlainDate.from({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),calendar:n});if(e instanceof he.PlainDate)return he.PlainDate.from({year:e.year,month:e.month,day:e.day,calendar:n});throw new Error(k.t('Unrecognized date, received "{{date}}"',{date:e}))},N9=(t,e)=>{var n;const r=Eo((n=To[e])!==null&&n!==void 0?n:e),{eraYear:i,year:s,month:o,day:a}=he.PlainDate.from(t).withCalendar(r);return{eraYear:i,year:s,month:o,day:a}},A9=(t,e)=>{var n;const r=Eo((n=To[e])!==null&&n!==void 0?n:e),i=typeof t=="string"?ST(t):t;r==="ethiopic"&&(i.eraYear=i.year,i.era="era1",delete i.year),i.calendar=r;const{year:s,month:o,day:a}=he.PlainDate.from(i).withCalendar("iso8601");return{year:s,month:o,day:a}},At=["DAILY","WEEKLY","WEEKLYMON","WEEKLYTUE","WEEKLYWED","WEEKLYTHU","WEEKLYFRI","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","QUARTERLYFEB","QUARTERLYMAR","QUARTERLYAPR","QUARTERLYMAY","QUARTERLYJUN","QUARTERLYJUL","QUARTERLYAUG","QUARTERLYSEP","QUARTERLYOCT","QUARTERLYNOV","QUARTERLYDEC","SIXMONTHLY","SIXMONTHLYJAN","SIXMONTHLYFEB","SIXMONTHLYMAR","SIXMONTHLYAPR","SIXMONTHLYMAY","SIXMONTHLYJUN","SIXMONTHLYJUL","SIXMONTHLYAUG","SIXMONTHLYSEP","SIXMONTHLYOCT","SIXMONTHLYNOV","SIXMONTHLYDEC","YEARLY","FYJAN","FYFEB","FYMAR","FYAPR","FYMAY","FYJUN","FYJUL","FYAUG","FYSEP","FYOCT","FYNOV","FYDEC"],I0=At.filter(t=>t.match(/WEEKLY/)),$h=At.filter(t=>t.match(/MONTHLY|QUARTERLY|SIXMONTHLY/)),kc=At.filter(t=>t.match(/QUARTERLY/)),Oc=At.filter(t=>t.match(/SIXMONTHLY/)),j9=["MONTHLY","BIMONTHLY","QUARTERLY","QUARTERLYJAN","SIXMONTHLY","SIXMONTHLYJAN"],L9=At.filter(t=>t.match(/(QUARTERLY|SIXMONTHLY)[A-Z]/)),MT=$h.filter(t=>t!=="MONTHLY"),N0=At.filter(t=>t.match(/^(YEARLY|FY[A-Z]{3})/)),$9=At.filter(t=>t.match(/^FY[A-Z]{3}$/));[...j9,...At.filter(t=>t.match(/JAN$/))];const F9=At.filter(t=>t.match(/FEB$/)),B9=At.filter(t=>t.match(/MAR$/)),U9=At.filter(t=>t.match(/APR$/)),Y9=At.filter(t=>t.match(/MAY$/)),z9=At.filter(t=>t.match(/JUN$/)),W9=At.filter(t=>t.match(/JUL$/)),H9=At.filter(t=>t.match(/AUG$/)),q9=At.filter(t=>t.match(/SEP$/)),V9=At.filter(t=>t.match(/OCT$/)),Q9=At.filter(t=>t.match(/NOV$/)),K9=At.filter(t=>t.match(/DEC/)),{localiseDateLabel:G9}=Xs,Fh=t=>{let{date:e,calendar:n,locale:r}=t;const i=e.year,s=String(e.month).padStart(2,"0"),o=String(e.day).padStart(2,"0"),a=`${i}${s}${o}`,l=G9(e,{calendar:n,locale:r},{dateStyle:"long"});return{periodType:"DAILY",id:a,iso:a,displayName:l,name:Dr(e),startDate:Dr(e),endDate:Dr(e)}},Z9=t=>{let{year:e,calendar:n,endsBefore:r,locale:i}=t;const s=r?Vn({calendar:n,date:r}):null,o=he.PlainDate.from({year:e,month:1,day:1,calendar:n}),a=[];for(let l=0;l<o.daysInYear;l++){const c=o.add({days:l});if(s&&he.PlainDate.compare(c,s)>-1)break;const d=Fh({date:c,calendar:n,locale:i});a.push(d)}return a},ua=t=>F9.includes(t)?"FEB":B9.includes(t)?"MAR":U9.includes(t)?"APR":Y9.includes(t)?"MAY":z9.includes(t)?"JUN":W9.includes(t)?"JUL":H9.includes(t)?"AUG":q9.includes(t)?"SEP":V9.includes(t)?"OCT":Q9.includes(t)?"NOV":K9.includes(t)?"DEC":"JAN",pi={JAN:{value:1,name:"January"},FEB:{value:2,name:"February"},MAR:{value:3,name:"March"},APR:{value:4,name:"April"},MAY:{value:5,name:"May"},JUN:{value:6,name:"June"},JUL:{value:7,name:"July"},AUG:{value:8,name:"August"},SEP:{value:9,name:"September"},OCT:{value:10,name:"October"},NOV:{value:11,name:"November"},DEC:{value:12,name:"December"}},X9=t=>{let{periodType:e,month:n,year:r,calendar:i,locale:s}=t;const o=r4({periodType:e,month:n.month,monthsInYear:n.monthsInYear}),a=e4(e),l=n.add({months:a}),c=J9({periodType:e,currentMonth:n,year:r,index:o});n.calendar==="ethiopic"&&console.warn("todo: confirm the special cases for the 13th month with Abyot, then update the start/end dates for Ethiopic calendar");const d=he.PlainDate.from({year:l.year,month:l.month,day:1,calendar:l.calendar}).subtract({days:1}),u=t4({periodType:e,month:n,locale:s,calendar:i,nextMonth:l.subtract({months:1})});return{periodType:e,id:c,iso:c,name:u,displayName:u,startDate:Dr(n,"startOfMonth"),endDate:Dr(d,"endOfMonth")}},J9=t=>{let{periodType:e,currentMonth:n,year:r,index:i}=t;if(e==="BIMONTHLY")return`${r}${ss(i)}B`;if(e==="QUARTERLY")return`${r}Q${i}`;if(e==="SIXMONTHLY")return`${r}S${i}`;if(kc.includes(e)){const s=pi[ua(e)].name;return`${r}${s}Q${i}`}if(Oc.includes(e)){const s=pi[ua(e)].name;return`${r}${s}S${i}`}return`${r}${ss(n.month)}`},e4=t=>{if(Oc.includes(t))return 6;if(kc.includes(t))return 3;if(t==="MONTHLY")return 1;if(t==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${t}`)},t4=t=>{const{periodType:e,month:n,nextMonth:r,calendar:i,locale:s}=t;if(Bi(i))return n4(t);const o={month:"long",year:"numeric",calendar:i},a={month:"long",calendar:i};let l="";if(MT.includes(e)){const c=n.year===r.year?a:o;l=`${n.toLocaleString(s,c)} - ${r.toLocaleString(s,o)}`}else l=`${n.toLocaleString(s,o)}`;return l=l.replace(/ERA\d+\s*/g,"").trim(),l},n4=t=>{let{periodType:e,month:n,nextMonth:r,calendar:i,locale:s}=t,o="";if(MT.includes(e)){const a=n.year!==r.year;o=`${Xs.localiseMonth(n,{locale:s,calendar:i},{})}${a?` ${n.year}`:""} - ${Xs.localiseMonth(r,{locale:s,calendar:i},{})} ${r.year}`}else o=`${Xs.localiseMonth(n,{locale:s,calendar:i},{})} ${r.year}`;return o},r4=t=>{let{periodType:e,month:n,monthsInYear:r}=t;if(e==="MONTHLY")return n;if(e==="BIMONTHLY"){if(n%2===0)throw new Error(`Even numbers can't be a month for BIMONTHLY period type, received "${n}"`);return Math.ceil(n/2)}if(kc.includes(e))return s4(e,n,r);if(Oc.includes(e))return i4(e,n,r);throw new Error(`Unrecognized period type "${e}"`)},PT=(t,e)=>[...Array(e-t+1).fill(null).map((r,i)=>i+t),1,2,3,4,5,6,7,8,9,10,11,12].slice(0,12),kT=(t,e)=>{const n=[];for(let r=0;r<12;r+=e)n.push(t.slice(r,r+e));return n},i4=(t,e,n)=>{const r=ua(t),i=pi[r].value,s=PT(i,n);return kT(s,6)[1].includes(e)?2:1},s4=(t,e,n)=>{const r=ua(t),i=pi[r].value,s=PT(i,n),o=kT(s,3);return o[1].includes(e)?2:o[2].includes(e)?3:o[3].includes(e)?4:1},A0=t=>{let{period:e,date:n,calendar:r}=t;const i=Vn({calendar:r,date:e.startDate}),s=Vn({calendar:r,date:e.endDate}),o=he.PlainDate.compare(n,i)<1,a=he.PlainDate.compare(i,n)===-1,l=he.PlainDate.compare(n,s)<1;return o||a&&l},Jl=t=>{let{year:e,calendar:n,periodType:r,endsBefore:i,locale:s}=t,o=he.PlainDate.from({year:e,month:a4(r),day:n.toString()==="nepali"?14:1,calendar:n});const a=[];for(;o.year===e||l4(r,a.length);){const l=c4({periodType:r,currentMonth:o.month});if(!o4(n,o)){const u=X9({periodType:r,month:o,year:e,calendar:n,locale:s});if(i&&A0({period:u,date:i,calendar:n}))break;a.push(u)}const d=o.add({months:l});o=Vn({date:d,calendar:n})}return a},o4=(t,e)=>t==="ethiopic"&&e.month===13,a4=t=>{if(L9.includes(t)){const e=ua(t);return pi[e].value}return 1},l4=(t,e)=>Oc.includes(t)?e<2:kc.includes(t)?e<4:!1,c4=t=>{let{periodType:e}=t;if(Oc.includes(e))return 6;if(kc.includes(e))return 3;if(e==="MONTHLY")return 1;if(e==="BIMONTHLY")return 2;throw new Error(`unrecognised monthly period type ${e}`)},Ki={Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6,Sunday:7},Xo=t=>{let{year:e,calendar:n,periodType:r,startingDay:i,endsBefore:s}=t;const o=d4(r,i);let a=u4({year:e,calendar:n,startingDay:o});const l=[];let c=1;const d=r==="BIWEEKLY"?13:6;do{const u=a.add({days:d});if(s&&A0({period:{startDate:Dr(a),endDate:Dr(u)},date:s,calendar:n}))break;const f=f4({periodType:r,startingDay:o,year:e,weekIndex:c});if(!(u.year===e+1&&u.day>=4)){const p=p4({periodType:r,date:a,nextWeek:u,weekIndex:c});l.push({periodType:r,id:f,iso:f,name:p,displayName:p,startDate:Dr(a),endDate:Dr(u)})}a=Vn({date:u,calendar:n}).add({days:1}),c++}while(a.year===e);return l},d4=(t,e)=>{switch(t){case"WEEKLYMON":return Ki.Monday;case"WEEKLYTUE":return Ki.Tuesday;case"WEEKLYWED":return Ki.Wednesday;case"WEEKLYTHU":return Ki.Thursday;case"WEEKLYFRI":return Ki.Friday;case"WEEKLYSAT":return Ki.Saturday;case"WEEKLYSUN":return Ki.Sunday;case"WEEKLY":case"BIWEEKLY":default:return e||Ki.Monday}},u4=t=>{const{year:e,calendar:n,startingDay:r}=t,i=he.PlainDate.from({year:e,month:1,day:4,calendar:n}),s=i.dayOfWeek-r;return s>0?i.subtract({days:s}):s<0?i.subtract({days:s+7}):i},h4={1:"",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"},f4=t=>{let{startingDay:e,periodType:n,year:r,weekIndex:i}=t;const s=n==="BIWEEKLY"?"BiW":"W";return`${r}${h4[e]}${s}${i}`},p4=t=>{let{periodType:e,date:n,nextWeek:r,weekIndex:i}=t;const{year:s,month:o,day:a}=n,{year:l,month:c,day:d}=r;return`${e==="BIWEEKLY"?k.t("Bi-Week"):k.t("Week")} ${i} - ${s}-${ss(o)}-${ss(a)} - ${l}-${ss(c)}-${ss(d)}`},OT=t=>{if(t==="YEARLY")return 1;const e=ua(t),n=pi[e];return(n==null?void 0:n.value)||1},RT={1:"",2:"Feb",3:"March",4:"April",5:"May",6:"Jun",7:"July",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},IT=t=>{let{periodType:e,year:n,locale:r,calendar:i}=t;const s=OT(e),o=m4({periodType:e,year:n,month:s}),a=s.toString().padStart(2,"0"),l=Vn({date:`${n}-${a}-01`,calendar:i}),c=Vn({date:`${n+1}-${a}-01`,calendar:i}).subtract({days:1}),d=y4(e,l,{locale:r,calendar:i});return{periodType:e,id:o,iso:o,name:d,displayName:d,startDate:Dr(l,"startOfMonth"),endDate:Dr(c,"endOfMonth")}},m4=t=>{let{periodType:e,year:n,month:r}=t;if(e==="YEARLY")return n.toString();if(g4(e)){const i=RT[r];return`${n}${i}`}throw new Error(`can not build value for unrecognised yearly type "${e}"`)},g4=t=>$9.includes(t),y4=(t,e,n)=>{if(t==="YEARLY")return e.year.toString();if(Bi(n.calendar))return v4(e,n);const r={month:"long",year:"numeric",calendar:n.calendar},i=Xs.localiseMonth(e,n,r),s=Xs.localiseMonth(e.add({months:e.monthsInYear-1}),n,r);let o=`${i} - ${s}`;return o=o.replace(/ERA\d+\s*/g,"").trim(),o},v4=(t,e)=>{const n=s=>`${Xs.localiseMonth(s,e,{})} ${s.year}`,r=he.PlainDate.from({year:t.year+1,month:t.month-1,day:1,calendar:e.calendar});return`${n(t)} - ${n(r)}`},Pu=t=>{let{year:e,calendar:n,periodType:r,endsBefore:i,yearsCount:s,locale:o}=t;const a=OT(r),l=he.PlainDate.from({year:e,month:a,day:n.toString()==="nepali"?14:1,calendar:n}),c=he.PlainDate.from({day:1,month:1,year:1970,calendar:"gregory"}).withCalendar(n),d=c.eraYear||c.year,u=[],f=s??e-d+1;for(let p=0;p<f;p++){const m=l.year-p,v=IT({periodType:r,year:m,locale:o,calendar:n});i&&A0({period:v,date:i,calendar:n})||u.push(v)}return u},os=t=>{var e,n;let{periodType:r,year:i,endsBefore:s,calendar:o,locale:a="en",yearsCount:l=10,startingDay:c=1}=t,d;if(typeof i=="number")d=i;else if(!isNaN(i)&&!isNaN(parseInt(i)))d=parseInt(i);else throw new Error("year must be a number");const u=Eo((e=To[o])!==null&&e!==void 0?e:o),f=(n=DT(a))!==null&&n!==void 0?n:"en",p=s?Vn({calendar:u,date:s}):void 0;if(I0.includes(r))return Xo({year:d,periodType:r,calendar:u,startingDay:c,endsBefore:p});if(N0.includes(r))return Pu({year:d,periodType:r,locale:f,calendar:u,endsBefore:p,yearsCount:l});if($h.includes(r))return Jl({year:d,periodType:r,locale:f,calendar:u,endsBefore:p});if(r==="DAILY")return Z9({year:d,locale:f,calendar:u,endsBefore:p});throw new Error(`can not generate period for unrecognised period type "${r}"`)},b4=t=>{let{date:e,calendar:n,locale:r}=t;const i=Vn({date:e,calendar:n});return Fh({date:i,calendar:n,locale:r})},w4=t=>{let{periodType:e,date:n,locale:r,calendar:i}=t;const s=parseInt(n.substring(0,4),10),o=Jl({year:s,calendar:i,periodType:e,locale:r});if(n<o[0].startDate){const d=Jl({year:s-1,calendar:i,periodType:e,locale:r}).find(u=>{const f=u.startDate<=n,p=u.endDate>=n;return f&&p});if(!d)throw new Error(`Could not find period for date "${n}"`);return d}const l=o.find(c=>n>=c.startDate&&n<=c.endDate);if(l)return l;throw new Error(`Something went wrong retrieving the fixed period of type "${e}" for date "${n}"`)},x4=t=>{let{periodType:e,date:n,calendar:r}=t;const i=parseInt(n.substring(0,4),10),s=Xo({year:i,calendar:r,periodType:e,startingDay:1});if(n<s[0].startDate)return Xo({year:i-1,calendar:r,periodType:e,startingDay:1}).slice(-1)[0];if(n>s.slice(-1)[0].endDate)return Xo({year:i+1,calendar:r,periodType:e,startingDay:1})[0];const o=s.find(a=>n>=a.startDate&&n<=a.endDate);if(o)return o;throw new Error(`Something went wrong retrieving the fixed period of type "${e}" for date "${n}"`)},_4=t=>{let{date:e,calendar:n,locale:r,periodType:i}=t;const s=parseInt(e.substring(0,4),10),o=Pu({year:s,calendar:n,periodType:i,yearsCount:1,locale:r}),[a]=o;if(e<a.startDate){const c=Pu({year:s-1,calendar:n,periodType:i,yearsCount:1,locale:r}),[d]=c;return d}return a},T4=t=>{var e;let{periodType:n,date:r,calendar:i,locale:s="en"}=t;const o=Eo((e=To[i])!==null&&e!==void 0?e:i),a={periodType:n,date:r,calendar:o,locale:s};if(n==="DAILY")return b4(a);if($h.includes(n))return w4(a);if(I0.includes(n))return x4(a);if(N0.includes(n))return _4(a);throw new Error(`can not generate period for unrecognised period type "${n}"`)},E4=new RegExp("^([0-9]{4})W([0-9]+)$"),S4=new RegExp("^([0-9]{4})BiW([0-9]+)$"),C4=new RegExp("^([0-9]{4})([A-Z][a-z]{2})W([0-9]+)$"),D4=new RegExp("^([0-9]{4})([0-9]{2})$"),M4=new RegExp("^([0-9]{4})([0-9]{2})B$"),P4=new RegExp("^([0-9]{4})Q([0-9])$"),k4=new RegExp("^([0-9]{4})([A-Z][a-z]+)Q([0-9])$"),O4=new RegExp("^([0-9]{4})S([0-9])$"),R4=new RegExp("^([0-9]{4})([A-Z][a-z]+)S([0-9])$"),I4=new RegExp("^([0-9]{4})$"),N4=new RegExp("^([0-9]{4})([A-Z][a-z]{2,})$"),A4=Object.values(RT).slice(1).join("|"),j4=new RegExp(`^[0-9]{4}(${A4})?$`),L4=t=>j4.test(t),Pb=Object.values(pi).map(t=>{let{name:e}=t;return e}).join("|"),$4=["^[0-9]{6}$","^[0-9]{6}B$",`^[0-9]{4}(${Pb})?Q[0-9]$`,`^[0-9]{4}(${Pb})?S[0-9]$`].join("|"),F4=new RegExp($4),B4=t=>F4.test(t),U4=t=>/^[0-9]{4}([A-Z][a-z]{2}|Bi)?W[0-9]+$/.test(t),Y4=t=>/^[0-9]{8}$/.test(t),z4=t=>{if(D4.test(t))return"MONTHLY";if(M4.test(t))return"BIMONTHLY";if(P4.test(t))return"QUARTERLY";const e=t.match(k4);if(e){const r=e[2],i=Object.entries(pi).find(o=>{let[,{name:a}]=o;return a===r});if(!i)throw new Error("@TODO");const[s]=i;return`QUARTERLY${s}`}if(O4.test(t))return"SIXMONTHLY";const n=t.match(R4);if(n){const r=n[2],i=Object.entries(pi).find(o=>{let[,{name:a}]=o;return a===r});if(!i)throw new Error("@TODO");const[s]=i;return`SIXMONTHLY${s}`}throw new Error(k.t('Could not find a period type for period id "{{periodId}}"',{periodId:t}))},W4=t=>{if(E4.test(t))return"WEEKLY";if(S4.test(t))return"BIWEEKLY";const e=t.match(C4);if(e){const[,,n]=e,r=`WEEKLY${n.toUpperCase()}`;if(!At.includes(r))throw new Error(k.t('Could not determine a period type for period id "{{periodId}}"',{periodId:t}));return r}throw new Error(k.t(`Couldn't find a period type for weekly period id "{{periodId}}"`,{periodId:t}))},H4=t=>{if(I4.test(t))return"YEARLY";const e=t.match(N4);if(e){const n=e[2].slice(0,3),r=Object.entries(pi).find(s=>{let[,{name:o}]=s;return o.startsWith(n)});if(!r)throw new Error("@TODO");const[i]=r;return`FY${i}`}throw new Error(k.t('Could not find a period type for period id "{{periodId}}"',{periodId:t}))},ha=t=>{var e,n;let{periodId:r,calendar:i,locale:s="en"}=t;const o=Eo((e=To[i])!==null&&e!==void 0?e:i),a=(n=DT(s))!==null&&n!==void 0?n:"en";if(L4(r)){const l=parseInt(r.substring(0,4),10),c=H4(r);return IT({year:l,periodType:c,calendar:o,locale:s})}if(B4(r)){const l=z4(r),c=parseInt(r.substring(0,4),10),u=os({periodType:l,year:c,calendar:o,locale:a}).find(m=>{let{id:v}=m;return v===r});if(u)return u;const p=os({year:c+1,periodType:l,calendar:o,locale:a}).slice(-1).find(m=>{let{id:v}=m;return v===r});if(!p)throw new Error(k.t(`Couldn't find a monthly period for weekly period id "{{periodId}}"`,{periodId:r}));return p}if(U4(r)){const l=parseInt(r.substring(0,4),10),c=W4(r),u=os({year:l,periodType:c,calendar:o,locale:s}).find(p=>{let{id:m}=p;return m===r});if(u)return u;const[f]=os({year:l-1,periodType:c,calendar:o,locale:s}).slice(-1);if(f.id===r)return f;throw new Error(k.t(`Couldn't find a weekly period for weekly period id "{{periodId}}"`,{periodId:r}))}if(Y4(r)){const l=r.substring(0,4),c=r.substring(4,6),d=r.substring(6),u=Vn({date:`${l}-${c}-${d}`,calendar:o});return Fh({date:u,locale:s,calendar:o})}throw new Error(k.t(`Couldn't handle unknown period id "{{periodId}}"`,{periodId:r}))},q4=t=>{let{period:e,steps:n,calendar:r,locale:i}=t;const s=Vn({date:e.startDate,calendar:r}),o=[],a=Math.abs(n);for(let l=0;l<a;++l){const c=l+1,d=n>0?s.add({days:c}):s.subtract({days:c}),u=Fh({date:d,calendar:r,locale:i});n>0?o.push(u):o.unshift(u)}return o},V4=t=>{const{steps:e}=t,n=Math.abs(e);return e>0?Q4({...t,steps:n}):K4({...t,steps:n})},Q4=t=>{let{period:e,steps:n,calendar:r,locale:i}=t;const s=parseInt(e.id.substring(0,4),10),o=[];let a=s;for(;o.length<n;){const l=Jl({year:a,calendar:r,periodType:e.periodType,locale:i}),c=a===s?l.findIndex(f=>e.startDate<f.startDate):0,d=n-o.length,u=l.slice(c,c+d);o.push(...u),a++}return o},K4=t=>{let{period:e,steps:n,calendar:r,locale:i}=t;const s=parseInt(e.startDate.substring(0,4),10),o=[];let a=s;for(;o.length<n;){const l=n-o.length,c=Jl({year:a,calendar:r,periodType:e.periodType,locale:i});if(a<s){const p=Math.max(0,c.length-l),m=c.slice(p);o.unshift(...m),a--;continue}const d=c.findIndex(p=>e.startDate<p.startDate)-1,u=Math.max(0,d-l),f=c.slice(u,d);o.push(...f),a--}return o},G4=t=>{const{steps:e}=t,n=Math.abs(e);return e>0?Z4({...t,steps:n}):X4({...t,steps:n})},Z4=t=>{let{period:e,steps:n,calendar:r}=t;const i=parseInt(e.id.substring(0,4),10),s=Vn({date:e.startDate,calendar:r}),o=[];let a=i;for(;o.length<n;){const l=Xo({year:a,calendar:r,periodType:e.periodType,startingDay:1}),c=a===i?l.findIndex(f=>{const p=Vn({calendar:r,date:f.startDate});return he.PlainDate.compare(s,p)===-1}):0,d=n-o.length,u=l.slice(c,c+d);o.push(...u),a++}return o},X4=t=>{let{period:e,steps:n,calendar:r}=t;const i=Vn({date:e.startDate,calendar:r}),s=[];let o=i.year;for(;s.length<n;){const a=n-s.length,l=Xo({year:o,calendar:r,periodType:e.periodType,startingDay:1});if(o<i.year){const p=Math.max(0,l.length-a),m=l.slice(p);s.unshift(...m),o--;continue}const c=l.findIndex(p=>{const m=Vn({calendar:r,date:p.startDate});return he.PlainDate.compare(i,m)===-1}),d=c!==-1?c-1:l.length,u=Math.max(0,d-a),f=l.slice(u,d);s.push(...f),o--}return s},J4=t=>{let{period:e,calendar:n,steps:r,locale:i}=t;const s=Math.abs(r),o=parseInt(e.startDate.substring(0,4),10),a=r>0?o+s:o-1,l=Pu({year:a,calendar:n,yearsCount:s,periodType:e.periodType,locale:i});return r>0?l.reverse():l},NT=t=>{var e;let{period:n,calendar:r,steps:i=1,locale:s="en"}=t;const o=Eo((e=To[r])!==null&&e!==void 0?e:r),{periodType:a}=n,l={period:n,calendar:o,steps:i,locale:s};if(i===0)throw new Error('Can not generate zero fixed periods, please choose either a negative or positive value for "steps"');if(a==="DAILY")return q4(l);if(I0.includes(a))return G4(l);if($h.includes(a))return V4(l);if(N0.includes(a))return J4(l);throw new Error(`Can not generate following fixed period for unrecognised period type "${a}"`)};function eL(t){return typeof t=="string"||typeof t=="number"}var tL=function(){function t(){this._cache={}}var e=t.prototype;return e.set=function(r,i){this._cache[r]=i},e.get=function(r){return this._cache[r]},e.remove=function(r){delete this._cache[r]},e.clear=function(){this._cache={}},e.isValidCacheKey=function(r){return eL(r)},t}(),nL=tL,rL=function(){return!0};function cn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r,i){if(i)throw new Error('[re-reselect] "options" as second argument is not supported anymore. Please provide an option object as single argument.');var s=typeof r=="function"?{keySelector:r}:Object.assign({},r),o=0,a=e.pop(),l=Array.isArray(e[0])?e[0]:[].concat(e),c=function(){return o++,a.apply(void 0,arguments)};e.push(c);var d=s.cacheObject||new nL,u=s.selectorCreator||_o,f=d.isValidCacheKey||rL;s.keySelectorCreator&&(s.keySelector=s.keySelectorCreator({keySelector:s.keySelector,inputSelectors:l,resultFunc:a}));var p=function(){var v=s.keySelector.apply(s,arguments);if(f(v)){var b=d.get(v);return b===void 0&&(b=u.apply(void 0,e),d.set(v,b)),b.apply(void 0,arguments)}console.warn('[re-reselect] Invalid cache key "'+v+'" has been returned by keySelector function.')};return p.getMatchingSelector=function(){var m=s.keySelector.apply(s,arguments);return d.get(m)},p.removeMatchingSelector=function(){var m=s.keySelector.apply(s,arguments);d.remove(m)},p.clearCache=function(){d.clear()},p.resultFunc=a,p.dependencies=l,p.cache=d,p.recomputations=function(){return o},p.resetRecomputations=function(){return o=0},p.keySelector=s.keySelector,p}}const AT=["gregory","gregorian","iso8601"],iL=24*60*60*1e3,km=new RegExp(/^\d{4}-\d{2}-\d{2}$/),sn=(t,e)=>{try{return String(t).padStart(e,"0")}catch(n){return console.error(n),t}},sL=(t,e)=>{const n=sn(t.getFullYear(),4),r=sn(t.getMonth()+1,2),i=sn(t.getDate(),2),s=sn(t.getHours(),2),o=sn(t.getMinutes(),2),a=sn(t.getSeconds(),2);return e?`${n}-${r}-${i}`:`${n}-${r}-${i}T${s}:${o}:${a}`},fa=(t,e)=>{if(!t)return;if(AT.includes(e))return t;const n=t.substring(0,10),r=t.substring(11),{year:i,eraYear:s,month:o,day:a}=N9(n,e);return`${sn(e==="ethiopian"?s:i,4)}-${sn(o,2)}-${sn(a,2)}${r?"T"+r:""}`},vs=(t,e)=>{if(!t)return;if(AT.includes(e))return t;const n=t.substring(0,10),r=t.substring(11),{year:i,month:s,day:o}=A9(n,e);return`${sn(i,4)}-${sn(s,2)}-${sn(o,2)}${r?"T"+r:""}`},oL=({startDateString:t,days:e,calendar:n="gregory"})=>{const r=vs(t,n),i=km.test(r),s=i?r+"T00:00":r,o=new Date(s),a=new Date(o.getTime()+e*iL),l=sL(a,i);return fa(l,n)},jT=({startDate:t,endDate:e,calendar:n,timezone:r})=>{if(!t)return null;const i=Bh({calendar:"gregory",timezone:r,long:!0}),s=vs(t,n),o=e?vs(e,n):i;return jD(s).from(o)},ds=({date:t,calendar:e="gregory"}={},{date:n,calendar:r="gregory"}={},{inclusive:i=!1}={})=>{if(!t||!n)return!1;const s=vs(t,e),o=vs(n,r),a=km.test(s)?s+"T00:00":s,l=km.test(o)?o+"T00:00":o,c=new Date(a),d=new Date(l);return isNaN(c)?(console.error(`Invalid date: ${t}`,a,s),null):isNaN(d)?(console.error(`Invalid date: ${n}`,l,o),null):i?c<=d:c<d},Ia=(t,e,{inclusive:n=!1}={})=>ds(e,t,{inclusive:n}),aL=(t,e,n)=>{const r=["ethiopian","ethiopic"].includes(n)?t.eraYear:t.year,i=`${sn(r,4)}-${sn(t.month,2)}-${sn(t.day,2)}`;return e?`${i}T${sn(t.hour,2)}:${sn(t.minute,2)}:${sn(t.second,2)}`:i},Bh=({calendar:t="gregory",timezone:e="Etc/UTC",long:n=!1}={})=>{const r=CT(t,e);return aL(r,n,t)},ku={nepali:2030,coptic:1686,ethiopian:1963,ethiopic:1963,persian:1349,thai:2513,islamic:1392,default:1970},lL=({dateString:t,dateFormat:e="yyyy-mm-dd",includeTimeZone:n=!1})=>{var c,d;if(!t)return"";const r=t.substring(0,4),i=t.substring(5,7),s=t.substring(8,10),o=t.substring(11,13),a=t.substring(14,16),l=(d=(c=Intl.DateTimeFormat())==null?void 0:c.resolvedOptions())==null?void 0:d.timeZone;return e.toLowerCase()==="dd-mm-yyyy"?`${s}-${i}-${r} ${o}:${a} ${n&&l?"("+l+")":""}`:`${r}-${i}-${s} ${o}:${a} ${n&&l?"("+l+")":""}`},Uh=({date:t,includeTimeZone:e})=>{const{systemInfo:n={}}=Jt(),{calendar:r="gregory",dateFormat:i}=n,{fromServerDate:s}=uI(),o=new Date(t);if(isNaN(o))return w.jsx("span",{children:k.t("Invalid date ({{date}})",{date:t})});const a=s(t),l=fa(a.getClientZonedISOString(),r);return w.jsx("span",{children:lL({dateString:l,dateFormat:i,includeTimeZone:e})})};Uh.propTypes={date:h.string,includeTimeZone:h.bool};const cL=t=>{if(t.length===0)return[];const e=[],n=t.length-1;function r(i,s){const o=t[s].length;for(let a=0;a<o;a++){const l=[...i];l.push(t[s][a]),s===n?e.push(l):r(l,s+1)}}return r([],0),e};function dL(t,e){return Object.fromEntries(Object.entries(t).filter(e))}const uL=(t,e)=>t.reduce((n,r)=>{const i=e(r);return n[i]=n[i]??[],n[i].push(r),n},{}),LT=t=>t.categories,Rc=t=>t.categoryCombos,j0=t=>t.categoryOptions,$T=t=>t.dataElements,FT=t=>t.indicators,BT=t=>t.dataSets,hL=t=>t.optionSets,fL=(t,e)=>LT(t)[e],pL=(t,e)=>j0(t)[e],UT=(t,e)=>hL(t)[e],Wt=(t,e)=>{var n;return(n=BT(t))==null?void 0:n[e]},L0=(t,e)=>{var n;return(n=$T(t))==null?void 0:n[e]},mL=(t,e)=>{var r;return((r=Wt(t,e))==null?void 0:r.sections)??[]},Na=(t,e)=>Rc(t)[e],gL=(t,e)=>{const n=Na(t,e);return n?n.categoryOptionCombos:null},YT=cn(Na,(t,e,n)=>n,(t,e)=>t==null?void 0:t.categoryOptionCombos.find(n=>n.id===e))((t,e,n)=>n);cn(t=>t,t=>Rc(t),(t,e)=>e,(t,e,n)=>{const r=Object.values(e);for(const i of r){const s=(i==null?void 0:i.categoryOptionCombos)||[];for(const o of s)if((o==null?void 0:o.id)===n){const a=Object.values(t.categoryOptions),{categoryOptions:l}=o;return a.filter(({id:c})=>l.includes(c))}}return[]})((t,e)=>e);const zT=cn(Wt,t=>{var e;return!t||!t.compulsoryDataElementOperands?new Set:new Set((e=t.compulsoryDataElementOperands)==null?void 0:e.map(n=>{var r,i;return`${(r=n==null?void 0:n.dataElement)==null?void 0:r.id}.${(i=n==null?void 0:n.categoryOptionCombo)==null?void 0:i.id}`}))})((t,e)=>e),WT=cn(mL,(t,e,n)=>n,(t,e)=>t.find(n=>n.id===e))((t,e,n)=>`${e}:${n}`),Ic=cn(Na,LT,(t,e)=>t==null?void 0:t.categories.map(n=>e[n]))((t,e)=>e),HT=cn(Wt,Rc,(t,e)=>e,(t,e,n)=>{var i,s;if(!((i=t==null?void 0:t.categoryCombo)!=null&&i.id)){console.warn(`Data set with id ${n} does not have a category combo`);return}const r=e[(s=t==null?void 0:t.categoryCombo)==null?void 0:s.id];return r||console.warn(`Could not find a category combo for data set with id ${n}`),r})((t,e)=>e),yL=cn(t=>t,HT,(t,e)=>e,(t,e,n)=>e!=null&&e.id?Ic(t,e.id):(console.warn(`Could not find categories for data set with id ${n}`),[]))((t,e)=>e),qT=cn(fL,j0,(t,e)=>t.categoryOptions.map(n=>e[n]))((t,e)=>e),VT=cn($T,Wt,(t,e)=>{if(e!=null&&e.dataSetElements)return e.dataSetElements.map(n=>{const r=t[n.dataElement.id],i=n.categoryCombo??r.categoryCombo;return{...r,categoryCombo:i}})})((t,e)=>e),vL=_o(VT,t=>[...t].sort((e,n)=>{var r;return(r=e.displayFormName)==null?void 0:r.localeCompare(n.displayFormName)})),bL=cn(FT,Wt,(t,e)=>(e==null?void 0:e.indicators.map(n=>t[n]))||[])((t,e)=>e),wL=cn(WT,VT,(t,e)=>t.dataElements.map(n=>e.find(r=>r.id===n)))((t,e,n)=>`${e}:${n}`),xL=cn(WT,FT,(t,e)=>t?t.indicators.map(n=>e[n]):[])((t,e,n)=>`${e}:${n}`),_L=_o((t,e)=>e,Rc,(t,e)=>{const n=[];return t.forEach((r,i)=>{const s=t[i-1],o=n[n.length-1],a=(s==null?void 0:s.categoryCombo.id)===r.categoryCombo.id;!o||!a?n.push({dataElements:[r],categoryCombo:e[r.categoryCombo.id]}):o.dataElements.push(r)}),n}),QT=_o((t,e)=>e,Rc,(t,e)=>{const n=uL(t,r=>r.categoryCombo.id);return Object.entries(n).map(([r,i])=>({dataElements:i,categoryCombo:e[r]}))}),KT=cn(Ic,t=>t?t.map(({categoryOptions:e})=>e.length).reduce((e,n)=>e*n):1)((t,e)=>e),TL=cn(gL,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{const r=n;for(const i of t){const s=i.categoryOptions,o=r.length===s.length,a=r.every(l=>s.includes(l));if(o&&a)return{...i,categoryOptions:r}}return console.warn(`Could not find categoryOptionCombo for catCombo ${e}, with categoryOptions: ${n.join()}`),null})((t,e)=>e),EL=cn(Ic,t=>{const e=(t==null?void 0:t.map(n=>n.categoryOptions))||[];return cL(e)})((t,e)=>e),GT=cn(t=>t,(t,e)=>e,EL,(t,e,n)=>n.map(r=>TL(t,e,r)))((t,e)=>e),SL=({periodStartDate:t,periodEndDate:e,categoryOption:n,calendar:r="gregory"})=>{if(!n.startDate&&!n.endDate)return!0;if(n.startDate){const i=n.startDate;if(ds({date:t,calendar:r},{date:i,calendar:"gregory"},{inclusive:!1}))return!1}if(n.endDate){const i=n.endDate;if(Ia({date:e,calendar:r},{date:i,calendar:"gregory"},{inclusive:!1}))return!1}return!0},CL=({categoryOption:t,orgUnitId:e,orgUnitPath:n})=>{var r;return(r=t==null?void 0:t.organisationUnits)!=null&&r.length?n?n.split("/").filter(s=>s.length).some(s=>t==null?void 0:t.organisationUnits.includes(s)):t==null?void 0:t.organisationUnits.includes(e):!0},DL=(t,e)=>t.map(n=>({...n,categoryOptions:n.categoryOptions.map(r=>e[r]).filter(r=>r!==void 0)})),$0=cn(t=>t,Wt,(t,e,n)=>n,(t,e,n,r)=>r,(t,e,n,r,i)=>i,(t,e,n,r,i,s)=>s,(t,e,n,r,i,s="gregory")=>{var v;if(!(e!=null&&e.id)||!n)return[];const o=yL(t,e==null?void 0:e.id),a=j0(t),l=DL(o,a);let c;try{c=ha({periodId:n,calendar:s})}catch(b){return console.error(b),[]}if(!c)return[];const d=c.startDate,f=Math.max((e==null?void 0:e.openPeriodsAfterCoEndDate)||0,0)*-1,m=((v=(f?NT({steps:f-1,period:c,calendar:s}):[])[0])==null?void 0:v.endDate)||c.endDate;return l.map(b=>({...b,categoryOptions:b.categoryOptions.filter(x=>SL({periodStartDate:d,periodEndDate:m,categoryOption:x,calendar:s})&&CL({categoryOption:x,orgUnitId:r,orgUnitPath:i}))}))})((t,e,n,r)=>`${e}:${n}:${r}`),ML=cn(Wt,(t,e,n)=>n,(t,e)=>!(t!=null&&t.id)||!e||!t||!e?null:t.dataInputPeriods.filter(n=>{var r;return((r=n==null?void 0:n.period)==null?void 0:r.id)===e})[0]||null)((t,e)=>`${t}:${e}`),Aa={dataSetId:wl,orgUnitId:wl,periodId:wl,attributeOptionComboSelection:qA(ZA,{}),sectionFilter:wl};function jt(){return Pc("dataSetId",Aa.dataSetId)}function dr(){return Pc("orgUnitId",Aa.orgUnitId)}function Gn(){return Pc("periodId",Aa.periodId)}function Ui(){return Pc("attributeOptionComboSelection",Aa.attributeOptionComboSelection)}function Nc(){return Pc("sectionFilter",Aa.sectionFilter)}function Yi(){return dj(Aa)}function PL(){const[,t]=Yi();return O.useCallback(()=>{t({dataSetId:void 0,orgUnitId:void 0,periodId:void 0,attributeOptionComboSelection:void 0,sectionFilter:void 0})},[t])}function Ac(){const[{attributeOptionComboSelection:t,dataSetId:e,orgUnitId:n,periodId:r,sectionFilter:i}]=Yi(),s=Object.values(t);return ZT({attributeOptions:s,dataSetId:e,orgUnitId:n,periodId:r,sectionFilter:i})}const ZT=({attributeOptions:t=[],dataSetId:e,orgUnitId:n,periodId:r,sectionFilter:i})=>[t.sort().join(";"),e,n,r,i].filter(o=>o!==void 0).join(),kL=t=>{const[e,n,r,i]=t.split(",");return{attributeOptions:e,dataSetId:n,orgUnitId:r,periodId:i}};function Yh(){var c;const[{dataSetId:t,orgUnitId:e,periodId:n,attributeOptionComboSelection:r}]=Yi(),{data:i}=et();if(!i||!t||!e||!n)return!1;const s=Wt(i,t),o=(c=s==null?void 0:s.categoryCombo)==null?void 0:c.id,a=Na(i,o);if(s===void 0||a===null||a===void 0)return!1;const l=Object.values(r);return a!=null&&a.isDefault?!0:a.categories.length===l.length}const Om=At.filter(t=>t.match(/^(YEARLY|FY[A-Z]{3})/)),F0={Daily:"DAILY",Weekly:"WEEKLY",WeeklyMonday:"WEEKLYMON",WeeklyTueday:"WEEKLYTUE",WeeklyWednesday:"WEEKLYWED",WeeklyThursday:"WEEKLYTHU",WeeklyFriday:"WEEKLYFRI",WeeklySaturday:"WEEKLYSAT",WeeklySunday:"WEEKLYSUN",BiWeekly:"BIWEEKLY",Monthly:"MONTHLY",BiMonthly:"BIMONTHLY",Quarterly:"QUARTERLY",QuarterlyJan:"QUARTERLYJAN",QuarterlyFeb:"QUARTERLYFEB",QuarterlyMar:"QUARTERLYMAR",QuarterlyApril:"QUARTERLYAPR",QuarterlyMay:"QUARTERLYMAY",QuarterlyJun:"QUARTERLYJUN",QuarterlyJuly:"QUARTERLYJUL",QuarterlyAug:"QUARTERLYAUG",QuarterlySep:"QUARTERLYSEP",QuarterlyOct:"QUARTERLYOCT",QuarterlyNov:"QUARTERLYNOV",QuarterlyDec:"QUARTERLYDEC",SixMonthly:"SIXMONTHLY",SixMonthlyJan:"SIXMONTHLYJAN",SixMonthlyFeb:"SIXMONTHLYFEB",SixMonthlyMar:"SIXMONTHLYMAR",SixMonthlyApril:"SIXMONTHLYAPR",SixMonthlyMay:"SIXMONTHLYMAY",SixMonthlyJun:"SIXMONTHLYJUN",SixMonthlyJuly:"SIXMONTHLYJUL",SixMonthlyAug:"SIXMONTHLYAUG",SixMonthlySep:"SIXMONTHLYSEP",SixMonthlyOct:"SIXMONTHLYOCT",SixMonthlyNov:"SIXMONTHLYNOV",SixMonthlyDec:"SIXMONTHLYDEC",Yearly:"YEARLY",FinancialJan:"FYJAN",FinancialFeb:"FYFEB",FinancialMar:"FYMAR",FinancialApril:"FYAPR",FinancialMay:"FYMAY",FinancialJun:"FYJUN",FinancialJuly:"FYJUL",FinancialAug:"FYAUG",FinancialSep:"FYSEP",FinancialOct:"FYOCT",FinancialNov:"FYNOV",FinancialDec:"FYDEC"};Object.fromEntries(At.map(t=>[t,t]));const OL=["/me?fields=authorities,avatar,email,name,settings"],RL={refetchOnMount:!1,staleTime:24*60*60*1e3},Ts=()=>jr(OL,RL),IL=["/me?fields=username"],NL={refetchOnMount:!1,staleTime:24*60*60*1e3},AL=()=>jr(IL,NL);function ja(){const{data:t}=Ts();return YL(t)}const zh="ALL",jL="F_MINMAX_DATAELEMENT_DELETE",LL="F_MINMAX_DATAELEMENT_ADD",$L="F_DATAVALUE_ADD",FL="F_EDIT_EXPIRED",BL=t=>t.authorities.some(e=>[jL,zh].includes(e)),UL=t=>t.authorities.some(e=>[LL,zh].includes(e)),YL=t=>{var e;return!!((e=t==null?void 0:t.authorities)!=null&&e.some(n=>[$L,zh].includes(n)))},zL=t=>t.authorities.some(e=>[FL,zh].includes(e));function Wh(t){const{systemInfo:e={}}=Jt(),{calendar:n="gregory"}=e,{data:r}=Ts(),{keyUiLocale:i}=r.settings??{};return O.useMemo(()=>{if(!t)return null;try{return ha({periodId:t,calendar:n,locale:i})}catch(s){return console.error(s),null}},[t,n,i])}const La=()=>{const[t]=dr(),e=["organisationUnits",{id:t,params:{fields:["id","displayName","path","openingDate","closedDate"]}}],{isFetching:n,error:r,data:i}=jr(e,{enabled:!!t});return{loading:!i&&n,error:r,data:i}};function WL(){qL(),VL(),QL(),KL(),GL()}function HL(t,e){var n;if(!t)return"";try{return((n=ha({periodId:t,calendar:e}))==null?void 0:n.periodType)||""}catch(r){return console.error(r),""}}function qL(){const{systemInfo:t={}}=Jt(),{calendar:e="gregory"}=t,[n,r]=Gn(),[i,s]=O.useState(()=>HL(n,e)),[o,a]=Ui(),[l,c]=jt(),[d,u]=O.useState(l),[f,p]=dr(),{data:m}=et(),v=Wt(m,l),{organisationUnits:b,periodType:x}=Wt(m,l)||{},T=F0[x],{show:E}=Ar(S=>S,{warning:!0});O.useEffect(()=>{l&&!v&&(E(k.t("There was a problem loading the {{objectType}} selection ({{id}}). You might not have access, or the selection might be invalid.",{objectType:"Data Set",id:l})),c(void 0),r(void 0),p(void 0),a(void 0)),l!==d&&(i!==T&&(r(void 0),s(T)),a(void 0),f!==void 0&&!(b!=null&&b.includes(f))&&p(void 0),u(l))},[l,d,u,T,n,i,r,o,a,b,p,f,v,c,E])}function VL(){const{data:t}=et(),[e]=jt(),[n]=Gn(),[r]=dr(),[i,s]=O.useState(r),{data:o}=La(),a=o==null?void 0:o.path,[l,c]=Ui(),{systemInfo:d={}}=Jt(),{calendar:u="gregory"}=d,f=$0(t,e,n,r,a,u);O.useEffect(()=>{r!==i&&(XT({attributeOptionComboSelection:l,relevantCategoriesWithOptions:f,setAttributeOptionComboSelection:c}),s(r))},[r,i,s,l,c,f])}function XT({attributeOptionComboSelection:t,relevantCategoriesWithOptions:e,setAttributeOptionComboSelection:n}){const r=dL(t,([i,s])=>e.find(o=>o.id===i&&o.categoryOptions.find(a=>a.id===s)));JSON.stringify(t)!==JSON.stringify(r)&&n(JSON.stringify(r)==="{}"?void 0:r)}function QL(){const{data:t}=et(),[e,n]=Ui(),[r]=jt(),[i]=dr(),{data:s}=La(),o=s==null?void 0:s.path,[a]=Gn(),[l,c]=O.useState(a),{systemInfo:d={}}=Jt(),{calendar:u="gregory"}=d,f=$0(t,r,a,i,o,u);O.useEffect(()=>{a!==l&&(XT({attributeOptionComboSelection:e,relevantCategoriesWithOptions:f,setAttributeOptionComboSelection:n}),c(a))},[a,l,c,e,f,n])}function KL(){const[t]=Ui(),[e,n]=O.useState(t);O.useEffect(()=>{JSON.stringify(t)!==JSON.stringify(e)&&n(t)},[t,e,n])}function GL(){const[t]=Nc(),[e,n]=O.useState(t);O.useEffect(()=>{t!==e&&n(t)},[t,e,n])}const jc=()=>{const{data:t}=et(),[{dataSetId:e,attributeOptionComboSelection:n}]=Yi();return O.useMemo(()=>{if(t&&e){const r=Wt(t,e);if(r==null)return;const i=r.categoryCombo.id,s=Na(t,i),o=Object.values(n).sort();if(!s.isDefault)return{attributeCombo:i,attributeOptions:o}}return{attributeCombo:void 0,attributeOptions:void 0}},[t,e,n])},B0={all:["dataEntry/dataValues"],byIds:({dataSetId:t,periodId:e,orgUnitId:n,categoryComboId:r,categoryOptionIds:i})=>{const s={ds:t,pe:e,ou:n,cc:r,cp:i&&i.join(";")};return[...B0.all,{params:s}]}};function zi(){const[{dataSetId:t,orgUnitId:e,periodId:n}]=Yi(),{attributeCombo:r,attributeOptions:i}=jc()||{};return B0.byIds({dataSetId:t,periodId:n,orgUnitId:e,categoryComboId:r,categoryOptionIds:i})}function Hh(t){return typeof t!="function"?Rm:function(...n){Rm.apply(this,n),t.apply(this,n)}}function Rm(){Rr.isOnline()||Rr.setOnline(!0)}function ZL(t){return t?t.reduce((n,r)=>(n[r.dataElement]?n[r.dataElement][r.categoryOptionCombo]=r:n[r.dataElement]={[r.categoryOptionCombo]:r},n),{}):{}}const XL=_o(t=>t,t=>{const e=t.completeStatus,n=ZL(t.dataValues),r=t.minMaxValues||{},i=t.lockStatus||"";return{completeStatus:e,dataValues:n,minMaxValues:r,lockStatus:i}}),qh=({onSuccess:t}={})=>{const e=Yh(),n=zi(),r=wo(n[0])>0;return jr(n,{enabled:!r&&e,staleTime:1/0,select:XL,refetchOnReconnect:!1,meta:{persist:!0},onSuccess:Hh(t)})},JL=([t,e])=>n=>{const r={...e};return n&&(r.params=n),[...t,{...r}]},e5=["dataEntry/dataSetCompletion"],JT={complete:JL([e5])};function Vh(){const t=zi(),{params:e}=t[1];return JT.complete(e)}const t5={resource:"dataEntry/dataSetCompletion",type:"create",data:({ds:t,pe:e,ou:n,cc:r,cp:i,completed:s})=>({dataSet:t,period:e,orgUnit:n,attribute:{combo:r,options:i==null?void 0:i.split(";")},completed:s})},e2=t=>function(n){const{mutationKey:r}=this,{params:i}=r[1];return t.mutate(t5,{variables:{...i,...n}})};function Qh(){const t=gr(),e=hc(),n=e2(e),{show:r}=Ar(a=>a,{critical:!0}),i=zi(),s=Vh(),{data:o}=AL();return Eh(n,{mutationKey:s,onMutate:async({completed:a})=>{await t.cancelQueries(i);const l=t.getQueryData(i);return t.setQueryData(i,()=>({...l,completeStatus:{...l==null?void 0:l.completeStatus,complete:a,lastUpdatedBy:o==null?void 0:o.username}})),{complete:a,previousDataValueSet:l,dataValueSetQueryKey:i}},onError:(a,l,c)=>{const d=k.t(`Something went wrong while setting the form's completion to "{{completed}}": {{errorMessage}}`,{completed:c.complete,errorMessage:a.message,nsSeparator:"-:-"});r(d),t.setQueryData(c.dataValueSetQueryKey,c.previousDataValueSet||{})}})}function n5(t,e){t.setMutationDefaults(JT.complete(),{mutationFn:e2(e)})}function t2(){const t=gr(),e=t.getMutationCache(),n=Vh(),r=zi();return({completedBoolean:i}={})=>{const s=e.find({mutationKey:n});if(!s)return;e.remove(s);const{completed:o}=s.options.variables;t.setQueryData(r,a=>({...a,completeStatus:{...a.completeStatus,complete:i??!o}}))}}const Jo="data-details",ec="validation-results",n2="contextual-help",r5=new Set([401,502,503,504]),U0=t=>{var e;return(t==null?void 0:t.type)==="network"||r5.has((e=t==null?void 0:t.details)==null?void 0:e.httpStatusCode)},i5=t=>U0(t),s5=t=>U0(t),r2=t=>!U0(t),o5={E2022:k.t("Selected period is after latest open future period")},a5={},l5=[["errorCode",o5],["httpStatusCode",a5]];class i2 extends Zw{constructor({message:e,type:n,details:r={}},i,s){super({message:e,type:n,details:r}),this.mutationKey=i,this.value=s,this.displayMessage=this.resolveDisplayMessage()}resolveDisplayMessage(){for(const[e,n]of l5){const r=this.details[e],i=n[r];if(i)return typeof i=="function"?i(this):i}return this.message}}const c5=t=>t instanceof Zw,kb=t=>{let e;const n=new Set,r=(l,c)=>{const d=typeof l=="function"?l(e):l;if(!Object.is(d,e)){const u=e;e=c??typeof d!="object"?d:Object.assign({},e,d),n.forEach(f=>f(e,u))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,a),a},d5=t=>t?kb(t):kb;var s2={exports:{}},o2={},a2={exports:{}},l2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pa=O;function u5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var h5=typeof Object.is=="function"?Object.is:u5,f5=pa.useState,p5=pa.useEffect,m5=pa.useLayoutEffect,g5=pa.useDebugValue;function y5(t,e){var n=e(),r=f5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return m5(function(){i.value=n,i.getSnapshot=e,ap(i)&&s({inst:i})},[t,n,e]),p5(function(){return ap(i)&&s({inst:i}),t(function(){ap(i)&&s({inst:i})})},[t]),g5(n),n}function ap(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!h5(t,n)}catch{return!0}}function v5(t,e){return e()}var b5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v5:y5;l2.useSyncExternalStore=pa.useSyncExternalStore!==void 0?pa.useSyncExternalStore:b5;a2.exports=l2;var w5=a2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=O,x5=w5;function _5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var T5=typeof Object.is=="function"?Object.is:_5,E5=x5.useSyncExternalStore,S5=Kh.useRef,C5=Kh.useEffect,D5=Kh.useMemo,M5=Kh.useDebugValue;o2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=S5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=D5(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return u=m}return u=p}if(m=u,T5(d,p))return m;var v=r(p);return i!==void 0&&i(m,v)?m:(d=p,u=v)}var c=!1,d,u,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=E5(t,s[0],s[1]);return C5(function(){o.hasValue=!0,o.value=a},[a]),M5(a),a};s2.exports=o2;var P5=s2.exports;const k5=Rn(P5),{useSyncExternalStoreWithSelector:O5}=k5;function R5(t,e=t.getState,n){const r=O5(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return O.useDebugValue(r),r}const Ob=t=>{const e=typeof t=="function"?d5(t):t,n=(r,i)=>R5(e,r,i);return Object.assign(n,e),n},$a=t=>t?Ob(t):Ob,Gh=({contextSelectionId:t,item:{categoryOptionCombo:e,dataElement:n}})=>`${t}_${n}_${e}`,I5=t=>{const[e,n,r]=t.split("_");return{...kL(e),dataElement:n,categoryOptionCombo:r}},Im=t=>{var n;if(!t)return null;const e=ZT({attributeOptions:(n=t.cp)==null?void 0:n.split(";"),dataSetId:t.ds,orgUnitId:t.ou,periodId:t.pe});return Gh({contextSelectionId:e,item:{categoryOptionCombo:t.co,dataElement:t.de}})},Rb=t=>Im(t[1].params),Ib={errors:{}},tc=$a((t,e)=>({...Ib,setErrorById:(n,r)=>t(i=>{const s={...i.errors};return s[n]=r,{errors:s}}),setError:n=>{const r=Rb(n.mutationKey);e().setErrorById(r,n)},clearErrorById:n=>t(r=>{const i={...r.errors};return delete i[n],{errors:i}}),clearErrorByMutationKey:n=>{const r=Rb(n);e().clearErrorById(r)},clearErrorByDataValueParams:n=>{const r=Im(n);e().clearErrorById(r)},clearAll:()=>t(Ib),getErrors:()=>e().errors,getErrorById:n=>e().getErrors()[n],getErrorByDataValueParams:n=>e().getErrorById(Im(n)),getErrorsForSelection:n=>{const r=e().getErrors();return Object.entries(r).filter(([i])=>i.startsWith(n)).map(([i,s])=>({field:I5(i),error:s}))},getNumberOfErrors:n=>{const r=n??e().getErrors();return Object.keys(r).length}})),c2=()=>{const t=tc(n=>n.setError);return{onError:function(r){r2(r)&&(console.error(r),r instanceof i2&&t(r))}}};function N5(t,e){const{co:n,de:r}=e;return t.findIndex(i=>i.categoryOptionCombo===n&&i.dataElement===r)}function A5({variables:t,dataValueMutationParams:e}){return{...t,attribute:{combo:e.cc,options:e.cp},categoryOptionCombo:e.co,dataElement:e.de,orgUnit:e.ou,period:e.pe}}function d2({previousQueryData:t,dataValueIndex:e,variables:n,dataValueMutationParams:r}){if(e===-1){const s=A5({variables:n,dataValueMutationParams:r}),o=t.dataValues?[...t.dataValues,s]:[s];return{...t,dataValues:o}}else{const s={...t.dataValues[e],...n};n.value===""&&(s.followUp=!1);const o=[...t.dataValues];return o[e]=s,{...t,dataValues:o}}}function j5({previousQueryData:t,dataValueIndex:e}){const n=t.dataValues,r=[...n.slice(0,e),...n.slice(e+1)];return{...t,dataValues:r}}function Y0({variables:t,dataValueMutationParams:e,queryClient:n,dataValueSetQueryKey:r,updateQueryDataFunction:i}){return n.setQueryData(r,s=>{const o=s??{dataValues:[],minMaxValues:[]},a=o.dataValues||[],l=N5(a,e);return i({previousQueryData:o,dataValueIndex:l,variables:t,dataValueMutationParams:e})})}function L5({variables:t,dataValueMutationParams:e,queryClient:n,dataValueSetQueryKey:r}){return Y0({variables:t,dataValueMutationParams:e,queryClient:n,dataValueSetQueryKey:r,updateQueryDataFunction:d2})}function $5({variables:t,dataValueMutationParams:e,queryClient:n,dataValueSetQueryKey:r}){var i,s;return Y0({variables:{value:{name:(i=t.file)==null?void 0:i.name,size:(s=t.file)==null?void 0:s.size}},dataValueMutationParams:e,queryClient:n,dataValueSetQueryKey:r,updateQueryDataFunction:d2})}function F5({dataValueMutationParams:t,queryClient:e,dataValueSetQueryKey:n}){return Y0({dataValueMutationParams:t,queryClient:e,dataValueSetQueryKey:n,updateQueryDataFunction:j5})}const sd=([t,e])=>n=>{const r={...e};return n&&(r.params=n),[...t,{...r}]},od=["dataValues"],Js={all:sd([od]),update:sd([od,{method:"update"}]),file:sd([od,{method:"update",entity:"file"}]),delete:sd([od,{method:"delete"}])},u2={resource:"dataValues",type:"create",data:t=>t},h2={resource:"dataValues",type:"delete",params:t=>t},f2={resource:"dataValues/file",type:"create",data:t=>t},Hd=(t,e)=>function(r){const{mutationKey:i}=this,{params:s}=i[1];return t.mutate(e,{variables:{...s,...r}})};function z0({mutationObj:t}){const e=hc();return O.useMemo(()=>Hd(e,t),[e,t])}function B5(){return z0({mutationObj:u2})}function U5(){return z0({mutationObj:h2})}function Y5(){return z0({mutationObj:f2})}function z5(t,e){t.setMutationDefaults(Js.file(),{mutationFn:Hd(e,f2)}),t.setMutationDefaults(Js.update(),{mutationFn:Hd(e,u2)}),t.setMutationDefaults(Js.delete(),{mutationFn:Hd(e,h2)})}const Lc=({deId:t,cocId:e})=>{const[{dataSetId:n,orgUnitId:r,periodId:i}]=Yi(),{attributeCombo:s,attributeOptions:o}=jc();return O.useMemo(()=>{const a={de:t,co:e,ds:n,ou:r,pe:i};if(s){const l=o.join(";");a.cc=s,a.cp=l}return a},[n,r,i,s,o,e,t])};function W0({mutationKey:t,dataValueParams:e,mutationFn:n,optimisticUpdateFn:r,options:{onSuccess:i,onError:s}={}}){const o=gr(),a=zi(),{onError:l}=c2(),c=tc(d=>d.clearErrorByMutationKey);return Eh(n,{mutationKey:t,onMutate:async d=>{await o.cancelQueries(a);const u=o.getQueryData(a)??{dataValues:[],minMaxValues:[]};return r({variables:d,dataValueMutationParams:e,queryClient:o,dataValueSetQueryKey:a}),{previousQueryData:u,mutationKey:t}},onError:(d,u,f)=>{s==null||s(),c5(d)&&(d=new i2(d,f.mutationKey,u)),l(d);const{shouldRollback:p}=r2(d);p&&o.setQueryData(a,f.previousQueryData)},onSuccess:Hh((d,u,{mutationKey:f})=>{c(f),i==null||i()})})}function bi({deId:t,cocId:e},n){const r=Lc({deId:t,cocId:e}),i=B5();return W0({dataValueParams:r,mutationKey:Js.update(r),mutationFn:i,optimisticUpdateFn:L5,options:n})}function p2({deId:t,cocId:e}){const n=Lc({deId:t,cocId:e}),r=Y5();return W0({mutationKey:Js.file(n),dataValueParams:n,mutationFn:r,optimisticUpdateFn:$5})}function m2({deId:t,cocId:e}){const n=Lc({deId:t,cocId:e}),r=U5();return W0({mutationKey:Js.delete(n),dataValueParams:n,mutationFn:r,optimisticUpdateFn:F5})}es.node.isRequired,es.string.isRequired;const pe=Object.freeze({BOOLEAN:"BOOLEAN",DATE:"DATE",DATETIME:"DATETIME",EMAIL:"EMAIL",FILE_RESOURCE:"FILE_RESOURCE",IMAGE:"IMAGE",INTEGER:"INTEGER",INTEGER_NEGATIVE:"INTEGER_NEGATIVE",INTEGER_POSITIVE:"INTEGER_POSITIVE",INTEGER_ZERO_OR_POSITIVE:"INTEGER_ZERO_OR_POSITIVE",LETTER:"LETTER",LONG_TEXT:"LONG_TEXT",NUMBER:"NUMBER",PERCENTAGE:"PERCENTAGE",PHONE_NUMBER:"PHONE_NUMBER",TEXT:"TEXT",TIME:"TIME",TRUE_ONLY:"TRUE_ONLY",UNIT_INTERVAL:"UNIT_INTERVAL",URL:"URL"}),g2=[pe.INTEGER,pe.INTEGER_NEGATIVE,pe.INTEGER_POSITIVE,pe.INTEGER_ZERO_OR_POSITIVE,pe.NUMBER,pe.PERCENTAGE],Nl=[pe.INTEGER,pe.INTEGER_NEGATIVE,pe.INTEGER_POSITIVE,pe.INTEGER_ZERO_OR_POSITIVE,pe.NUMBER,pe.PERCENTAGE,pe.UNIT_INTERVAL];function W5({metadata:t,dataValue:e,dataElement:n,categoryOptionComboId:r}){const{optionSet:i,valueType:s,commentOptionSet:o}=n,a=i?!1:g2.includes(s),l=Na(t,n.categoryCombo.id),c=YT(t,l.id,r),d=l.isDefault?"":c.displayName;return e?{...e,valueType:s,canHaveLimits:a,categoryOptionCombo:r,categoryOptionComboName:d,name:n.displayName,code:n.code,commentOptionSetId:o==null?void 0:o.id,description:n.description,displayFormName:n.displayFormName}:{valueType:s,canHaveLimits:a,categoryOptionCombo:r,categoryOptionComboName:d,dataElement:n.id,name:n.displayName,lastUpdated:"",followup:!1,comment:null,storedBy:null,code:null,commentOptionSetId:o==null?void 0:o.id,description:n.description,displayFormName:n.displayFormName}}function H0(){const t=Ba(i=>i.getHighlightedField()),e=ar(i=>i.getDataValue({dataElementId:t==null?void 0:t.dataElementId,categoryOptionComboId:t==null?void 0:t.categoryOptionComboId})),{data:n}=et(),r=L0(n,t==null?void 0:t.dataElementId);return O.useMemo(()=>!t||!r?null:W5({metadata:n,dataValue:e,dataElement:r,categoryOptionComboId:t.categoryOptionComboId}),[t,r,e,n])}const Wn=Object.freeze({OPEN:"Open",LOCKED_DATA_INPUT_PERIOD:"Locked_data_input_period",LOCKED_ORGANISATION_UNIT:"Locked_organisation_unit",LOCKED_EXPIRY_DAYS:"Locked_expiry_days",LOCKED_APPROVED:"Locked_approved",LOCKED_NO_AUTHORITY:"Locked_no_authority"}),H5=Object.freeze({LOCKED:Wn.LOCKED_EXPIRY_DAYS,APPROVED:Wn.LOCKED_APPROVED}),y2=O.createContext({lockStatus:"",locked:"",setLockStatus:()=>{throw new Error('Context function "setLockStatus" not set')}});function Fa(){return O.useContext(y2)}const q5=({dataSetId:t,metadata:e,selectedPeriod:n,userCanEditExpired:r,calendar:i,timezone:s})=>{if(!n)return;const o=Wt(e,t);if(!o)return;const{expiryDays:a,dataInputPeriods:l}=o;if(l.length===0&&a===0)return;let c=null;const d=Bh({calendar:i,timezone:s,long:!0});if(l.length>0){const u=ML(e,t,n.id);if(!u)return{state:Wn.LOCKED_DATA_INPUT_PERIOD,lockDate:null};const{openingDate:f,closingDate:p}=u;if(f&&ds({date:d,calendar:i},{date:f,calendar:"gregory"},{inclusive:!1})||p&&Ia({date:d,calendar:i},{date:p,calendar:"gregory"},{inclusive:!1}))return{state:Wn.LOCKED_DATA_INPUT_PERIOD,lockDate:null};c=p}if(a>0&&!r){const u=oL({startDateString:n.endDate,days:a+1,calendar:i});d&&u&&ds({date:d,calendar:i},{date:u,calendar:i},{inclusive:!1})&&(c=ds({date:c,calendar:"gregory"},{date:u,calendar:i},{inclusive:!1})?c:vs(u,i))}return{state:Wn.OPEN,lockDate:c}},V5=({orgUnitOpeningDateString:t,orgUnitClosedDateString:e,selectedPeriod:n,calendar:r="gregory"})=>{if(!(n!=null&&n.startDate)||!(n!=null&&n.endDate)||!t&&!e)return!1;const i=n.startDate,s=n.endDate;return!!(t&&!ds({date:t,calendar:"gregory"},{date:i,calendar:r},{inclusive:!0})||e&&!Ia({date:e,calendar:"gregory"},{date:s,calendar:r},{inclusive:!0}))},Q5=()=>{var m;const[t]=jt(),e=La(),{data:{openingDate:n,closedDate:r}={}}=e,[i]=Gn(),s=Wh(i),{data:o}=et(),a=qh(),{setLockStatus:l}=Fa(),{data:c}=Ts(),d=zL(c),{systemInfo:u={}}=Jt(),{calendar:f="gregory",serverTimeZoneId:p="Etc/UTC"}=u;O.useEffect(()=>{var x;const v=H5[(x=a.data)==null?void 0:x.lockStatus];if(v){l({state:v});return}if(V5({orgUnitOpeningDateString:n,orgUnitClosedDateString:r,selectedPeriod:s,calendar:f})){l({state:Wn.LOCKED_ORGANISATION_UNIT});return}const b=q5({dataSetId:t,selectedPeriod:s,metadata:o,userCanEditExpired:d,calendar:f,timezone:p});if(b){l(b);return}l({state:Wn.OPEN})},[o,t,n,r,d,(m=a.data)==null?void 0:m.lockStatus,l,s,f,p])};function v2({children:t}){const e=ja(),[{state:n,lockDate:r},i]=O.useState({state:Wn.OPEN,lockDate:null}),s=O.useMemo(()=>({locked:n!==Wn.OPEN||!e,lockStatus:{state:e?n:Wn.LOCKED_NO_AUTHORITY,lockDate:r||null},setLockStatus:i}),[n,r,e]);return w.jsx(y2.Provider,{value:s,children:t})}v2.propTypes={children:h.any.isRequired};const K5="_wrapper_hkq35_1",G5={wrapper:K5};function Zh({children:t}){return w.jsx("div",{className:G5.wrapper,children:t})}Zh.propTypes={children:h.any.isRequired};const Z5="_wrapper_1ewia_1",X5="_title_1ewia_10",J5="_closeButton_1ewia_15",lp={wrapper:Z5,title:X5,closeButton:J5},Xh=({children:t,onClose:e})=>w.jsxs("header",{className:lp.wrapper,children:[w.jsx("span",{className:lp.title,children:t}),w.jsx("button",{className:lp.closeButton,title:k.t("Close details sidebar"),onClick:e,children:w.jsx(LD,{color:y.grey700})})]});Xh.propTypes={children:h.string.isRequired,onClose:h.func.isRequired};const e$="_toggleableUnit_1adat_1",t$="_title_1adat_6",n$="_content_1adat_29",r$="_open_1adat_34",i$="_disabled_1adat_38",el={toggleableUnit:e$,title:t$,content:n$,open:r$,disabled:i$},on=({title:t,children:e,disabled:n,open:r,onToggle:i})=>{const s=n?y.grey400:y.grey700,o=l=>{l.preventDefault(),!n&&i(!r)},a=r?Zu:Gu;return w.jsxs("details",{open:n?!1:r,className:Pe(el.toggleableUnit,{[el.disabled]:n,[el.open]:r}),children:[w.jsxs("summary",{tabIndex:n?"-1":void 0,className:el.title,onClick:o,children:[n?k.t("{{title}} (disabled)",{title:t}):t,w.jsx(a,{color:s})]}),w.jsx("div",{className:el.content,children:r?e:null})]})};on.propTypes={open:h.bool.isRequired,title:h.string.isRequired,onToggle:h.func.isRequired,children:h.node,disabled:h.bool};const q0={id:h.string,hide:h.func,show:h.func},Nb={dataValueSet:{dataValues:{},minMaxValues:[]},initialDataValues:{}},ar=$a((t,e)=>({...Nb,getDataValue:({dataElementId:n,categoryOptionComboId:r})=>{var i,s;return(s=(i=e().dataValueSet.dataValues)==null?void 0:i[n])==null?void 0:s[r]},isComplete:()=>{var n,r;return!!((r=(n=e().dataValueSet)==null?void 0:n.completeStatus)!=null&&r.complete)},getDataValues:()=>{var n;return(n=e().dataValueSet)==null?void 0:n.dataValues},setDataValueSet:n=>t({dataValueSet:n??Nb.dataValueSet}),getInitialDataValue:({dataElementId:n,categoryOptionComboId:r})=>{var i,s,o;return(o=(s=(i=e().initialDataValues)==null?void 0:i.values)==null?void 0:s[n])==null?void 0:o[r]},getInitialDataValues:()=>e().initialDataValues,setInitialDataValues:(n,r)=>{t({initialDataValues:{values:n,formKey:r}})},getMinMaxValues:({dataElementId:n,categoryOptionComboId:r})=>{var i,s;return(s=(i=e().dataValueSet)==null?void 0:i.minMaxValues)==null?void 0:s.find(o=>o.categoryOptionCombo===r&&o.dataElement===n)},hasComment:({dataElementId:n,categoryOptionComboId:r})=>{const i=e().getDataValue({dataElementId:n,categoryOptionComboId:r});return!!(i!=null&&i.comment)}})),s$={validationToRefresh:!1},Nm=$a((t,e)=>({...s$,setValidationToRefresh:n=>t({validationToRefresh:n}),getValidationToRefresh:()=>e().validationToRefresh})),Ba=$a((t,e)=>({highlightedFieldId:null,setHighlightedField:n=>t({highlightedFieldId:n}),getHighlightedField:()=>e().highlightedFieldId,isFieldHighlighted:({dataElementId:n,categoryOptionComboId:r})=>{const i=e().highlightedFieldId;return!!i&&i.dataElementId===n&&i.categoryOptionComboId===r}})),Ab={errors:{},warnings:{},completeAttempted:!1},ji=$a((t,e)=>({...Ab,getErrors:()=>e().errors,getNumberOfErrors:()=>b2(e().getErrors()),getError:n=>ct(e().getErrors(),n),setError:(n,r)=>{const i=e().getErrors(),s=tr(i,n,r)??{};t({errors:s})},getWarnings:()=>e().warnings,getWarning:n=>ct(e().getWarnings(),n),setWarning:(n,r)=>{const i=e().getWarnings(),s=tr(i,n,r)??{};t({warnings:s})},getCompleteAttempted:()=>e().completeAttempted,setCompleteAttempted:n=>t({completeAttempted:n}),reset:()=>{t(Ab)}}));function b2(t){return Array.isArray(t)||typeof t!="object"?1:Object.values(t).reduce((e,n)=>e+b2(n),0)}const Ou=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Ou(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Ou(r)(n)}}}},o$=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,x)=>({...x,...b}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch{}if(!c)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...b)},r,i);const d=Ou(s.serialize),u=()=>{const b=s.partialize({...r()});let x;const T=d({state:b,version:s.version}).then(E=>c.setItem(s.name,E)).catch(E=>{x=E});if(x)throw x;return T},f=i.setState;i.setState=(b,x)=>{f(b,x),u()};const p=t((...b)=>{n(...b),u()},r,i);let m;const v=()=>{var b;if(!c)return;o=!1,a.forEach(T=>T(r()));const x=((b=s.onRehydrateStorage)==null?void 0:b.call(s,r()))||void 0;return Ou(c.getItem.bind(c))(s.name).then(T=>{if(T)return s.deserialize(T)}).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==s.version){if(s.migrate)return s.migrate(T.state,T.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return T.state}).then(T=>{var E;return m=s.merge(T,(E=r())!=null?E:p),n(m,!0),u()}).then(()=>{x==null||x(m,void 0),o=!0,l.forEach(T=>T(m))}).catch(T=>{x==null||x(void 0,T)})};return i.persist={setOptions:b=>{s={...s,...b},b.getStorage&&(c=b.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},v(),m||p},a$=o$,l$={comments:{},limits:{}},ma=$a(a$((t,e)=>({...l$,setUnsavedComment:(n,r)=>t(i=>{const s={...i.comments};return s[n]=r,{comments:s}}),deleteUnsavedComment:n=>t(r=>{const i={...r.comments};return delete i[n],{comments:i}}),getUnsavedComment:n=>e().comments[n],setUnsavedLimits:(n,r)=>t(i=>{const s={...i.limits};return s[n]=r,{limits:s}}),deleteUnsavedLimits:n=>t(r=>{const i={...r.limits};return delete i[n],{limits:i}}),getUnsavedLimits:n=>e().limits[n]}))),Ua=(t,e)=>`${t}.${e}`,w2=t=>{if(!t)return{dataElementId:null,categoryOptionComboId:null};const[e,n]=t.split(".");return{dataElementId:e,categoryOptionComboId:n}},c$=()=>{const t=O.useRef(void 0),{dataElementId:e,categoryOptionComboId:n}=Ba(s=>s.getHighlightedField())||{},r=Ua(e,n),i=t.current;return t.current=r,i};function Wi(){return hI()}function d$(){const t=O.useRef(!0);return t.current?(t.current=!1,!0):t.current}const u$=(t={},e={})=>{var r;const n=(r=t.validationRuleViolations)==null?void 0:r.map(i=>{var s;return{...i,metaData:(s=e.validationRules)==null?void 0:s.find(o=>o.id===i.validationRule.id)}});return n==null?void 0:n.reduce((i,s)=>{const o=s.metaData.importance;return i[o]=i[o]??[],i[o].push(s),i},{})};function x2(t={},e={}){const{commentRequiredViolations:n}=t;return{validationRuleViolations:u$(t,e),commentRequiredViolations:n}}const h$="",f$={"Upload file":" ","Upload files":" ",Remove:h$,"No file(s) selected yet":"    ()  ","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'            "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"      8   ","Password should be no longer than 34 characters":"      34 ","Password should contain at least one lowercase letter":"          ","Password should contain at least one UPPERCASE letter":"          ","Password should contain at least one number":"         ","Password should have at least one special character":"         ","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"     ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"    url "},p$="",m$={"Upload file":"","Upload files":"",Remove:p$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"      ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"     "},g$="",y$={"Upload file":"","Upload files":"",Remove:g$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"   ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"  URL  "},v$="Odebrat",b$={"Upload file":"Nahrt soubor","Upload files":"Nahrt soubory",Remove:v$,"No file(s) selected yet":"Zatm nen (nejsou) vybrny dn soubory","Please provide an alpha-numeric value":"Uvete alfanumerickou hodnotu","Please provide a boolean value":"Zadejte prosm booleovskou hodnotu","Please enter between {{lowerBound}} and {{upperBound}} characters":"Zadejte prosm mezi {{lowerBound}} a {{upperBound}} znaky",'Please make sure the value of this input matches the value in "{{otherField}}".':'Zkontrolujte, zda se hodnota tohoto vstupu shoduje s hodnotou v "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Zadejte prosm maximln {{upperBound}} znak","Please enter a number with a maximum of {{upperBound}}":"Zadejte slo s maximln hodnotou {{upperBound}}","Please enter at least {{lowerBound}} characters":"Zadejte prosm alespo {{lowerBound}} znak","Please enter a number of at least {{lowerBound}}":"Zadejte prosm slo alespo {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"slo nesm bt men ne {{lowerBound}} nebo vt ne {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Ujistte se, e hodnota tohoto vstupu odpovd vzoru {{patternString}}.","Password should be a string":"Heslo by mlo bt etzec","Password should be at least 8 characters long":"Heslo by mlo mt alespo 8 znak","Password should be no longer than 34 characters":"Heslo by nemlo bt del ne 34 znak","Password should contain at least one lowercase letter":"Heslo by mlo obsahovat alespo jedno mal psmeno","Password should contain at least one UPPERCASE letter":"Heslo by mlo obsahovat alespo jedno VELK psmeno","Password should contain at least one number":"Heslo by mlo obsahovat alespo jedno slo","Password should have at least one special character":"Heslo by mlo mt alespo jeden speciln znak","Please provide a username between 4 and 255 characters":"Zadejte uivatelsk jmno o dlce 4 a 255 znak","Please provide a valid email address":"Uvete platnou e-mailovou adresu","Please provide a value":"Zadejte prosm hodnotu","Please provide a round number without decimals":"Uvete prosm zaokrouhlen slo bez desetinnch mst","Please provide a valid international phone number.":"Zadejte platn mezinrodn telefonn slo.","Please provide a number":"Uvete prosm slo","Please provide a string":"Zadejte etzec","Please provide a valid url":"Uvete platnou adresu URL"},w$="Remove",x$={"Upload file":"","Upload files":"",Remove:w$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},_$="Remove",T$={"Upload file":"Upload file","Upload files":"Upload files",Remove:_$,"No file(s) selected yet":"No file(s) selected yet","Please provide an alpha-numeric value":"Please provide an alpha-numeric value","Please provide a boolean value":"Please provide a boolean value","Please enter between {{lowerBound}} and {{upperBound}} characters":"Please enter between {{lowerBound}} and {{upperBound}} characters",'Please make sure the value of this input matches the value in "{{otherField}}".':'Please make sure the value of this input matches the value in "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Please enter a maximum of {{upperBound}} characters","Please enter a number with a maximum of {{upperBound}}":"Please enter a number with a maximum of {{upperBound}}","Please enter at least {{lowerBound}} characters":"Please enter at least {{lowerBound}} characters","Please enter a number of at least {{lowerBound}}":"Please enter a number of at least {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"Number cannot be less than {{lowerBound}} or more than {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Please make sure the value of this input matches the pattern {{patternString}}.","Password should be a string":"Password should be a string","Password should be at least 8 characters long":"Password should be at least 8 characters long","Password should be no longer than 34 characters":"Password should be no longer than 34 characters","Password should contain at least one lowercase letter":"Password should contain at least one lowercase letter","Password should contain at least one UPPERCASE letter":"Password should contain at least one UPPERCASE letter","Password should contain at least one number":"Password should contain at least one number","Password should have at least one special character":"Password should have at least one special character","Please provide a username between 4 and 255 characters":"Please provide a username between 4 and 255 characters","Please provide a valid email address":"Please provide a valid email address","Please provide a value":"Please provide a value","Please provide a round number without decimals":"Please provide a round number without decimals","Please provide a valid international phone number.":"Please provide a valid international phone number.","Please provide a number":"Please provide a number","Please provide a string":"Please provide a string","Please provide a valid url":"Please provide a valid url"},E$="Eliminar",S$={"Upload file":"Subir archivo","Upload files":"Subir archivos",Remove:E$,"No file(s) selected yet":"Ningn archivo (s) seleccionado (s) todava","Please provide an alpha-numeric value":"Proporcione un valor alfanumrico.","Please provide a boolean value":"Proporcione un valor booleano","Please enter between {{lowerBound}} and {{upperBound}} characters":"Ingresa entre {{lowerBound}} y {{upperBound}} caracteres",'Please make sure the value of this input matches the value in "{{otherField}}".':'Asegrese de que el valor de este campo coincida con el valor de "{{otherField}}".',"Please enter a maximum of {{upperBound}} characters":"Ingrese un mximo de {{upperBound}} caracteres","Please enter a number with a maximum of {{upperBound}}":"Ingrese un nmero con un mximo de {{upperBound}}","Please enter at least {{lowerBound}} characters":"Ingrese al menos {{lowerBound}} caracteres","Please enter a number of at least {{lowerBound}}":"Ingrese un nmero de al menos {{lowerBound}}","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"El nmero no puede ser menor que {{lowerBound}} ni mayor que {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":"Asegrese de que el valor que est poniendo coincida con el patrn {{patternString}}.","Password should be a string":"La contrasea debe ser tipo cadena","Password should be at least 8 characters long":"La contrasea debe tener al menos 8 caracteres","Password should be no longer than 34 characters":"La contrasea no debe tener ms de 34 caracteres","Password should contain at least one lowercase letter":"La contrasea debe contener al menos una letra minscula","Password should contain at least one UPPERCASE letter":"La contrasea debe contener al menos una letra MAYSCULA","Password should contain at least one number":"La contrasea debe contener al menos un nmero","Password should have at least one special character":"La contrasea debe tener al menos un carcter especial","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Por favor proporcione un correo electrnico vlido","Please provide a value":"Proporcione un valor","Please provide a round number without decimals":"Por favor, proporcione un nmero redondo sin decimales","Please provide a valid international phone number.":"Por favor, proporcione un nmero de telfono internacional vlido.","Please provide a number":"Proporcione un nmero    ","Please provide a string":"Proporcione una cadena","Please provide a valid url":"Proporcione un enlace vlido."},C$="Supprimer",D$={"Upload file":"Charger fichier","Upload files":"",Remove:C$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Le mot de passe doit contenir au moins 8 caractres","Password should be no longer than 34 characters":"Le mot de passe ne doit pas dpasser 34 caractres","Password should contain at least one lowercase letter":"Le mot de passe doit contenir au moins une lettre minuscule","Password should contain at least one UPPERCASE letter":"Le mot de passe doit contenir au moins une lettre MAJUSCULE","Password should contain at least one number":"Le mot de passe doit contenir au moins un chiffre","Password should have at least one special character":"Le mot de passe doit avoir au moins un caractre spcial","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Veuillez saisir une adresse email valide","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Veuillez saisir un lien URL valide"},M$="Hapus",P$={"Upload file":"","Upload files":"",Remove:M$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},k$="",O$={"Upload file":"","Upload files":"",Remove:k$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},R$="",I$={"Upload file":"","Upload files":"",Remove:R$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},N$="",A$={"Upload file":"","Upload files":"",Remove:N$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},j$="Fjern",L$={"Upload file":"Last opp fil","Upload files":"",Remove:j$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Passord m inneholde minst 8 karakterer","Password should be no longer than 34 characters":"Passordet kan ikke vre lenger enn 34 karakterer","Password should contain at least one lowercase letter":"Passordet m inneholde minst en liten bokstav","Password should contain at least one UPPERCASE letter":"Passordet m inneholdet minst en STOR bokstav","Password should contain at least one number":"Passord m inneholde minst et siffer","Password should have at least one special character":"Passordet skal ha minst ett spesialtegn","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Vennligst fyll ut en gyldig e-postadresse","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Oppgi en gyldig url"},$$="",F$={"Upload file":" ","Upload files":"",Remove:$$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},B$=" ",U$={"Upload file":"  ","Upload files":"",Remove:B$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},Y$="Remover",z$={"Upload file":"Carregar arquivo","Upload files":"",Remove:Y$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"A senha deve ter pelo menos 8 caracteres","Password should be no longer than 34 characters":"A senha no deve ter mais que 34 caracteres","Password should contain at least one lowercase letter":"A senha deve conter pelo menos uma letra minscula","Password should contain at least one UPPERCASE letter":"A senha deve conter pelo menos uma letra MAISCULA","Password should contain at least one number":"A senha deve conter pelo menos um nmero","Password should have at least one special character":"A senha deve ter pelo menos um caractere especial","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Por favor fornea um endereo de e-mail vlido","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Fornea uma URL vlida"},W$="Remover",H$={"Upload file":"Carregar arquivo","Upload files":"",Remove:W$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},q$="",V$={"Upload file":" ","Upload files":"",Remove:q$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"       8 .","Password should be no longer than 34 characters":"     34 ","Password should contain at least one lowercase letter":"       ","Password should contain at least one UPPERCASE letter":"       ","Password should contain at least one number":"      ","Password should have at least one special character":"        ","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"    ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"  url"},Q$="Avlgsna",K$={"Upload file":"","Upload files":"",Remove:Q$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Lsenordet mste vara minst 8 tecken lngt.","Password should be no longer than 34 characters":"Lsenord mste vara kortare n 34 tecken","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"Lsenordet ska innehlla minst en versal bokstav","Password should contain at least one number":"Lsenordet mste innehlla minst en siffra","Password should have at least one special character":"Lsenordet ska ha minst ett specialtecken","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Ange en giltig epost adress","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},G$="Hasai",Z$={"Upload file":"","Upload files":"",Remove:G$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},X$=" ",J$={"Upload file":" ","Upload files":"",Remove:X$,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},eF="",tF={"Upload file":"","Upload files":"",Remove:eF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},nF="",rF={"Upload file":"","Upload files":"",Remove:nF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"","Password should be no longer than 34 characters":"","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":""},iF=" ",sF={"Upload file":" ","Upload files":"",Remove:iF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'   "{{otherField}}"       .',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"  8     ","Password should be no longer than 34 characters":" 34    ","Password should contain at least one lowercase letter":"   1     ","Password should contain at least one UPPERCASE letter":"   1     ","Password should contain at least one number":"   1    ","Password should have at least one special character":"   1     ","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":",  -  ","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":",  URL  "},oF=" ",aF={"Upload file":"Faylni yuklash","Upload files":"",Remove:oF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':'Ushbu yozuvning qiymati "{{otherField}}" dagi qiymatga mos kelishiga ishonch hosil qiling.',"Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Parol kamida 8 ta belgidan iborat bolishi lozim","Password should be no longer than 34 characters":"Parol 34 ta belgidan oshmasligi lozim","Password should contain at least one lowercase letter":"Parol tarkibida kamida 1 ta kichik harf bolishi lozim","Password should contain at least one UPPERCASE letter":"Parol tarkibida kamida 1 ta BOSh harf bolishi lozim","Password should contain at least one number":"Parol tarkibida kamida 1 ta raqam bolishi lozim","Password should have at least one special character":"Parol tarkibida kamida 1 ta maxsus belgi bolishi lozim","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Iltimos, amaldagi ye-pochta manzilini korsating","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Iltimos, haqiqiy URL manzilni korsating"},lF="Tho ra",cF={"Upload file":"Ti mt tp tin","Upload files":"",Remove:lF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':"","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"Mt khu phi di t nht 8 k t","Password should be no longer than 34 characters":"Mt khu khng c di hn 34 k t","Password should contain at least one lowercase letter":"Mt khu phi cha t nht mt ch ci vit thng","Password should contain at least one UPPERCASE letter":"Mt khu phi cha t nht mt ch ci vit hoa","Password should contain at least one number":"Mt khu phi cha t nht mt s","Password should have at least one special character":"Mt khu phi c t nht mt k t c bit","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"Vui lng cung cp mt a ch email hp l","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"Vui lng cung cp mt url hp l"},dF="",uF={"Upload file":"","Upload files":"",Remove:dF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":" {{lowerBound}}  {{upperBound}} ",'Please make sure the value of this input matches the value in "{{otherField}}".':" {{otherField}}","Please enter a maximum of {{upperBound}} characters":" {{upperBound}} ","Please enter a number with a maximum of {{upperBound}}":" {{upperBound}} ","Please enter at least {{lowerBound}} characters":" {{lowerBound}} ","Please enter a number of at least {{lowerBound}}":" {{lowerBound}} ","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":" {{lowerBound}}  {{upperBound}}","Please make sure the value of this input matches the pattern {{patternString}}.":" {{patternString}} ","Password should be a string":"","Password should be at least 8 characters long":"8","Password should be no longer than 34 characters":"34","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":" 4  255 ","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"URL"},hF="",fF={"Upload file":"","Upload files":"",Remove:hF,"No file(s) selected yet":"","Please provide an alpha-numeric value":"","Please provide a boolean value":"","Please enter between {{lowerBound}} and {{upperBound}} characters":"",'Please make sure the value of this input matches the value in "{{otherField}}".':" {{otherField}}","Please enter a maximum of {{upperBound}} characters":"","Please enter a number with a maximum of {{upperBound}}":"","Please enter at least {{lowerBound}} characters":"","Please enter a number of at least {{lowerBound}}":"","Number cannot be less than {{lowerBound}} or more than {{upperBound}}":"","Please make sure the value of this input matches the pattern {{patternString}}.":"","Password should be a string":"","Password should be at least 8 characters long":"8","Password should be no longer than 34 characters":"34","Password should contain at least one lowercase letter":"","Password should contain at least one UPPERCASE letter":"","Password should contain at least one number":"","Password should have at least one special character":"","Please provide a username between 4 and 255 characters":"","Please provide a valid email address":"","Please provide a value":"","Please provide a round number without decimals":"","Please provide a valid international phone number.":"","Please provide a number":"","Please provide a string":"","Please provide a valid url":"URL"},tt="default";k.addResources("ar",tt,f$);k.addResources("ar_IQ",tt,m$);k.addResources("ckb",tt,y$);k.addResources("cs",tt,b$);k.addResources("da",tt,x$);k.addResources("en",tt,T$);k.addResources("es",tt,S$);k.addResources("fr",tt,D$);k.addResources("id",tt,P$);k.addResources("km",tt,O$);k.addResources("lo",tt,I$);k.addResources("my",tt,A$);k.addResources("nb",tt,L$);k.addResources("prs",tt,F$);k.addResources("ps",tt,U$);k.addResources("pt",tt,z$);k.addResources("pt_BR",tt,H$);k.addResources("ru",tt,V$);k.addResources("sv",tt,K$);k.addResources("tet",tt,Z$);k.addResources("tg",tt,J$);k.addResources("uk",tt,tF);k.addResources("ur",tt,rF);k.addResources("uz",tt,sF);k.addResources("uz_Latn",tt,aF);k.addResources("vi",tt,cF);k.addResources("zh",tt,uF);k.addResources("zh_CN",tt,fF);const Hi=t=>typeof t>"u"||t===null||t==="",$c=t=>typeof t=="string",pF=t=>Number.isSafeInteger(t),mF=t=>typeof t=="number",Jh=t=>($c(t)||mF(t))&&!isNaN(t),_2=(t,e,n)=>n>=t&&n<=e,T2=t=>Number(t),gF="Incorrect arguments provided when creating validator",Ru=(t,e)=>{if(Hi(t)||typeof t!==e)throw new Error(gF)},ga=(...t)=>(...e)=>t.reduce((n,r)=>n||r(...e),void 0),yF=(t,e,n)=>{Ru(t,"number"),Ru(e,"number");const r=n||k.t("Please enter between {{lowerBound}} and {{upperBound}} characters",{lowerBound:t,upperBound:e});return i=>Hi(i)||$c(i)&&_2(t,e,i.length)?void 0:r},E2=t=>yF(0,t,k.t("Please enter a maximum of {{upperBound}} characters",{upperBound:t})),Fc=(t,e,n)=>{Ru(t,"number"),Ru(e,"number");const r=n||k.t("Number cannot be less than {{lowerBound}} or more than {{upperBound}}",{lowerBound:t,upperBound:e});return i=>Hi(i)||Jh(i)&&_2(t,e,T2(i))?void 0:r},S2=t=>Fc(-1/0,t,k.t("Please enter a number with a maximum of {{upperBound}}",{upperBound:t})),V0=t=>Fc(t,1/0,k.t("Please enter a number of at least {{lowerBound}}",{lowerBound:t})),vF=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,bF=k.t("Please provide a valid email address"),wF=t=>Hi(t)||$c(t)&&vF.test(t)?void 0:bF,xF=k.t("Please provide a value"),jb=t=>Hi(t)?xF:void 0,_F=k.t("Please provide a round number without decimals"),TF=t=>Hi(t)||Jh(t)&&pF(T2(t))?void 0:_F,Lb=k.t("Please provide a valid international phone number."),EF=t=>{if(Hi(t))return;if(!$c(t))return Lb;const e=t.replace(/[-. )(]/g,"").replace(/^[0+]+/,"");return Jh(e)&&e.length<=15?void 0:Lb},SF=k.t("Please provide a number"),CF=t=>Hi(t)||Jh(t)?void 0:SF,DF=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i,MF=k.t("Please provide a valid url"),PF=t=>Hi(t)||$c(t)&&DF.test(t)?void 0:MF;function co(t){const e=TF(t);if(e)return e;const n=parseInt(t,10),r=n<-2147483648,i=n>2147483647;if(r||i)return k.t("Integer numbers have to be in the range from -2147483648 to 2147483647")}const C2=({dataSetId:t,periodId:e,orgUnitId:n,categoryComboId:r,categoryOptionIds:i})=>{const s={pe:e,ou:n,cc:r,cp:i==null?void 0:i.join(";")};return[`validation/dataSet/${t}`,{params:s}]},D2=t=>["validationRules",{params:{dataSet:t,fields:["id","importance","operator","leftSide","rightSide","displayInstruction","displayDescription","displayName"],paging:!1}}],M2=()=>{const t=gr(),[{dataSetId:e,orgUnitId:n,periodId:r}]=Yi(),{attributeCombo:i,attributeOptions:s}=jc();return()=>{const o=C2({dataSetId:e,periodId:r,orgUnitId:n,categoryComboId:i,categoryOptionIds:s}),a=D2(e),l=t.fetchQuery(o),c=t.fetchQuery(a);return Promise.all([l,c]).then(([d,u])=>x2(d,u))}};function kF(){const[t]=jt(),[e]=Gn(),[n]=dr(),{attributeCombo:r,attributeOptions:i}=jc(),s=C2({dataSetId:t,periodId:e,orgUnitId:n,categoryComboId:r,categoryOptionIds:i}),o=D2(t),a=x0({queries:[{queryKey:s},{queryKey:o}]}),l=O.useCallback(()=>{a.forEach(u=>u.refetch())},[a]),[c,d]=a;return{refetch:l,error:c.error||d.error,isLoading:c.isLoading||d.isLoading,isRefetching:c.isRefetching||d.isRefetching,data:c.data&&d.data?x2(c.data,d.data):void 0}}const OF=(t,e=[])=>{const n=O.useRef(!1);O.useEffect(()=>()=>{n.current=!0},[]),O.useEffect(()=>()=>{n.current&&t()},e)},RF=({dataElementId:t,categoryOptionComboId:e})=>{const{data:n}=et(),[r]=jt();return r?zT(n,r).has(`${t}.${e}`):!1},IF=()=>{const{data:t}=qh(),{data:e}=et(),[n]=jt();return O.useMemo(()=>{var l,c,d;if(!n)return!1;const i=Wt(e,n),{compulsoryFieldsCompleteOnly:s}=i||{};if(!s)return!1;const o=zT(e,n);let a=!1;for(const u of o){const[f,p]=u.split(".");if(!((d=(c=(l=t==null?void 0:t.dataValues)==null?void 0:l[f])==null?void 0:c[p])!=null&&d.value)){a=!0;break}}return a},[t==null?void 0:t.dataValues,n,e])},NF=t=>{const{minor:e,patch:n}=t??{};return e>=43||String(e)==="42"&&(n===void 0||n>=2)||String(e)==="41"&&(n===void 0||n>=5)?!0:String(e)==="40"&&(n===void 0||n>=9)};function AF(){const{serverVersion:t}=Jt()??{};return{utilizeGistApiForPrefetchedOrganisationUnits:NF(t)}}const P2=O.createContext({id:"",show:t=>{throw new Error(`Context function "show" not set, tried to show id "${t}"`)},hide:()=>{throw new Error('Context function "hide" not set')}}),k2=O.createContext(t=>{throw new Error(`Context function "show" not set, tried to show id "${t}"`)});function So(){return O.useContext(P2)}function jF(){const{hide:t}=So(),[e]=jt(),[n]=Gn(),[r]=dr(),[i]=Ui();O.useEffect(()=>{t()},[e,n,r,i,t])}function O2({idSidebarMap:t}){const{id:e,show:n,hide:r}=So();jF();const i=t[e];if(e&&!i)throw new Error(`Could not find a sidebar component for id "${e}"`);return i?w.jsx("div",{className:Pe(ip.wrapper,ip.hideForPrint),children:w.jsx(i,{show:n,hide:r})}):w.jsx("div",{className:ip.wrapper})}O2.propTypes={idSidebarMap:h.object.isRequired};function R2({children:t}){const[e,n]=O.useState(""),r=n,i=O.useCallback(()=>{n("")},[n]),s={id:e,show:r,hide:i};return w.jsx(P2.Provider,{value:s,children:w.jsx(k2.Provider,{value:r,children:t})})}R2.propTypes={children:h.any.isRequired};function ef(){return O.useContext(k2)}const LF="_bottomBar_18e5u_1",$F={bottomBar:LF},FF="_container_fml5d_1",BF="_name_fml5d_8",$b={container:FF,name:BF};function UF(){const t=So(),e=H0();return e?w.jsxs("div",{className:$b.container,children:[w.jsxs("span",{className:$b.name,children:[e.displayFormName,e.categoryOptionComboName&&` | ${e.categoryOptionComboName}`]}),w.jsx(We,{secondary:!0,small:!0,onClick:()=>{t.id===Jo?t.hide():t.show(Jo)},children:t.id===Jo?k.t("Hide details"):k.t("View details")})]}):null}const YF=k.t("Couldn't validate the form, please try again later"),zF=k.t("Couldn't validate the form. This does not effect form completion!"),I2=k.t("Couldn't validate the form, please try again later");function N2(t,e){return t.length||Object.keys(e).length}function WF(){const{mutateAsync:t}=Qh(),e=ef(),n=M2();return()=>n().catch(r=>{throw console.error(r),new Error(YF)}).then(({commentRequiredViolations:r,validationRuleViolations:i})=>N2(r,i)?(e(ec),Promise.reject(new Error(k.t("The form can't be completed while invalid")))):t({completed:!0}).catch(s=>{throw console.error(s),new Error(I2)}))}function HF(){const{mutateAsync:t}=Qh(),e=ef(),n=M2(),{show:r}=Ar(i=>i,{warning:!0});return()=>Promise.all([n().then(({commentRequiredViolations:i,validationRuleViolations:s})=>{N2(i,s)&&e(ec)}).catch(i=>{console.error(i),r(zF)}),t({completed:!0}).catch(()=>{throw new Error(I2)})])}function qF(){const{mutateAsync:t}=Qh();return()=>t({completed:!0})}function VF(){const{offline:t}=Wi(),{data:e}=et(),[n]=jt(),r=n?Wt(e,n):{},{validCompleteOnly:i}=r,{show:s}=Ar(m=>m,{critical:!0}),o=Vh(),a=wo(o),l=t2(),c=WF(),d=HF(),u=qF(),f=IF(),p=ji(m=>m.setCompleteAttempted);return()=>{let m;if(f)p(!0),l({completedBoolean:!1}),m=Promise.reject(new Error(k.t("Compulsory fields must be filled out before completing the form")));else{if(a&&t)return l(),Promise.resolve();t?m=u():i&&!t?m=c():m=d()}return m.catch(v=>s(v.message))}}const QF=k.t("Couldn't incomplete the form, please try again later");function A2({disabled:t}){const{offline:e}=Wi(),n=Vh(),r=wo(n),{show:i}=Ar(f=>f,{critical:!0}),s=ar(f=>f.isComplete()),{mutateAsync:o}=Qh(),a=t2(),l=VF(),d=s?function(){r&&a(),!(r&&e)&&o({completed:!1}).catch(()=>i(QF))}:l,u=s?k.t("Mark incomplete"):k.t("Mark complete");return w.jsx(w.Fragment,{children:w.jsx(We,{small:!0,disabled:t,onClick:d,children:u})})}A2.propTypes={disabled:h.bool};const KF="_container_1l7yq_1",GF="_toolbarItem_1l7yq_7",ZF="_tooltipToolbarItem_1l7yq_20",XF="_icon_1l7yq_24",JF="_goToInvalidValue_1l7yq_31",e8="_goToErrorValue_1l7yq_32",t8="_completionSummary_1l7yq_33",Mn={container:KF,toolbarItem:GF,tooltipToolbarItem:ZF,icon:XF,goToInvalidValue:JF,goToErrorValue:e8,completionSummary:t8},n8=t=>t===1?k.t("1 invalid value not saved"):k.t("{{numberOfErrors}} invalid values not saved",{numberOfErrors:t}),r8=t=>t===1?k.t("1 value failed to save"):k.t("{{numberOfErrors}} values failed to save",{numberOfErrors:t});function Am({numberOfErrors:t,invalid:e}){if(t<1)return null;const n=e?Mn.goToInvalidValue:Mn.goToErrorValue,r=e?w.jsx(fg,{color:y.red700}):w.jsx(fc,{color:y.yellow800}),i=e?n8(t):r8(t);return w.jsxs("button",{className:Pe(n,Mn.toolbarItem),children:[w.jsx("span",{className:Pe(Mn.icon,Mn.goToInvalidValueIcon),children:r}),w.jsx("span",{className:Mn.goToInvalidValueLabel,children:i})]})}Am.propTypes={invalid:h.bool,numberOfErrors:h.number};function i8(){const t=Ac(),e=ji(r=>r.getNumberOfErrors()),n=tc(r=>r.getNumberOfErrors(r.getErrorsForSelection(t)));return w.jsxs(w.Fragment,{children:[w.jsx(Am,{invalid:!0,numberOfErrors:e}),w.jsx(Am,{numberOfErrors:n})]})}function s8(){const{locked:t,lockStatus:{lockDate:e}}=Fa(),{systemInfo:n={}}=Jt(),{serverTimeZoneId:r="Etc/UTC"}=n,i=jT({startDate:e,calendar:"gregory",timezone:r});return w.jsx(w.Fragment,{children:!t&&e&&w.jsx(Nt,{content:w.jsx(Uh,{date:e,includeTimeZone:!0}),children:w.jsxs("span",{className:Pe(Mn.completionSummary,Mn.toolbarItem),children:[w.jsx("span",{className:Pe(Mn.icon),children:w.jsx(Ta,{color:y.grey700})}),w.jsx("span",{children:k.t("Closes {{-relativeTime}}",{relativeTime:i})})]})})})}function j2({validateDisabled:t,offline:e,children:n}){if(!t)return n;const r=e?k.t("Validation is not available offline"):k.t("Validation is not available while changes are pending");return w.jsx("div",{className:Mn.tooltipToolbarItem,children:w.jsx(Nt,{content:r,children:n})})}j2.propTypes={children:h.any.isRequired,offline:h.bool,validateDisabled:h.bool};function o8(){var c;const t=So(),e=zi(),{locked:n}=Fa(),r=wo({mutationKey:e}),{offline:i}=Wi(),s=i||r>0,{data:o}=qh(),a=Nm(d=>d.setValidationToRefresh),l=()=>{t.id===ec?a(!0):t.show(ec)};return w.jsxs("div",{className:Mn.container,children:[w.jsx(j2,{validateDisabled:s,offline:i,children:w.jsx(We,{small:!0,disabled:s,className:Mn.toolbarItem,onClick:l,children:k.t("Run validation")})}),w.jsx("div",{className:Mn.toolbarItem,children:w.jsx(A2,{disabled:n})}),w.jsx(i8,{}),w.jsx(s8,{}),((c=o==null?void 0:o.completeStatus)==null?void 0:c.lastUpdatedBy)&&w.jsxs("span",{className:Pe(Mn.completionSummary,Mn.toolbarItem),children:[w.jsx("span",{className:Pe(Mn.icon),children:w.jsx(Ta,{color:y.grey700})}),w.jsx("span",{children:o.completeStatus.complete?k.t("Last completed by {{-username}}",{username:o.completeStatus.lastUpdatedBy}):k.t("Last incompleted by {{-username}}",{username:o.completeStatus.lastUpdatedBy})})]})]})}function a8(){const e=!!Ba(n=>n.getHighlightedField());return w.jsxs("div",{className:$F.bottomBar,children:[e&&w.jsx(UF,{}),w.jsx(o8,{})]})}const l8="_wrapper_1aaq9_1",c8="_title_1aaq9_4",d8="_result_1aaq9_15",u8="_commentViolationRule_1aaq9_19 _priorityGroupBox_1o4cm_13 _info_1o4cm_39",ad={wrapper:l8,title:c8,result:d8,commentViolationRule:u8},L2=({commentRequiredViolations:t})=>{const e=t==null?void 0:t.length;if(!e)return null;const n=(t==null?void 0:t.length)===1?k.t("1 comment required"):k.t("{{commentsCount}} comments required",{commentsCount:e});return w.jsxs("div",{className:ad.wrapper,children:[w.jsxs("h1",{className:ad.title,children:[w.jsx($D,{color:y.grey600}),n]}),w.jsx("div",{className:ad.result,children:w.jsx("div",{"data-test":"validation-comments-violations",children:t==null?void 0:t.map(({displayShortName:r,id:i})=>w.jsx("div",{className:ad.commentViolationRule,children:k.t("{{displayShortName}} must have a comment when it doesn't have a value.",{displayShortName:r,interpolation:{escapeValue:!1}})},i))})})]})};L2.propTypes={commentRequiredViolations:h.arrayOf(h.shape({displayShortName:h.string.isRequired,id:h.string.isRequired}).isRequired).isRequired};const jm=["HIGH","MEDIUM","LOW"],$2={HIGH:{icon:fg,iconColor:"var(--colors-red600)",largeIcon:UD,text:k.t("High"),style:"error"},MEDIUM:{icon:fc,iconColor:"var(--colors-yellow500)",largeIcon:BD,text:k.t("Medium"),style:"warning"},LOW:{icon:Ta,iconColor:"var(--colors-grey600)",largeIcon:FD,text:k.t("Low"),style:"info"}},h8="_titleWrapper_1o4cm_1",f8="_priorityGroupBox_1o4cm_13",p8="_formula_1o4cm_22",m8="_warning_1o4cm_29",g8="_error_1o4cm_34",y8="_info_1o4cm_39",jo={titleWrapper:h8,priorityGroupBox:f8,formula:p8,warning:m8,error:g8,info:y8},tf=h.shape({metaData:h.shape({id:h.string.isRequired,importance:h.string.isRequired,leftSide:h.shape({displayDescription:h.string.isRequired}).isRequired,operator:h.string.isRequired,rightSide:h.shape({displayDescription:h.string.isRequired}).isRequired,displayDescription:h.string,displayInstruction:h.string,displayName:h.string}),validationRule:h.shape({id:h.string.isRequired,name:h.string.isRequired})}),F2=h.oneOf(jm),v8="_formulaValue_b1uju_1",Lm={formulaValue:v8},b8=({operator:t,leftDescription:e,rightDescription:n})=>({compulsory_pair:k.t("{{leftDescription}} cannot be empty when {{rightDescription}} has a value",{leftDescription:e,rightDescription:n}),exclusive_pair:k.t("{{leftDescription}} cannot have a value when {{rightDescription}} has a value",{leftDescription:e,rightDescription:n})})[t],B2=({validationRule:t})=>{const{metaData:{leftSide:e,rightSide:n,operator:r}={}}=t,{displayDescription:i}=e,{displayDescription:s}=n,o=b8({operator:r,leftDescription:i,rightDescription:s});return o?w.jsx("span",{className:Lm.formulaValue,children:o}):(console.warn(`no matching validation rule expression for operator: ${r}`),null)};B2.propTypes={validationRule:tf};const w8={equal_to:"==",not_equal_to:"!=",greater_than:">",greater_than_or_equal_to:">=",less_than:"<",less_than_or_equal_to:"<="},U2=({validationRule:t})=>{const{leftsideValue:e,rightsideValue:n,metaData:{leftSide:r,rightSide:i,operator:s}={}}=t,{displayDescription:o}=r,{displayDescription:a}=i;return w.jsxs(w.Fragment,{children:[w.jsxs("span",{className:Lm.formulaValue,children:[o," (",e,")"]})," ",w8[s]??s," ",w.jsxs("span",{className:Lm.formulaValue,children:[a," (",n,")"]})]})};U2.propTypes={validationRule:tf};const x8=["compulsory_pair","exclusive_pair"],Y2=({validationRule:t})=>{const{metaData:{operator:e}={}}=t;return x8.includes(e)?w.jsx(B2,{validationRule:t}):w.jsx(U2,{validationRule:t})};Y2.propTypes={validationRule:tf};const _8=[],z2=({level:t,validationViolations:e=_8})=>{var a;if((e==null?void 0:e.length)===0)return null;const n=$2[t],r=Pe(jo.priorityGroupBox,jo[n.style]),i=n.largeIcon,s=Pe(jo.icon,jo[`${n.style}Icon`]),o={level:(a=n.text)==null?void 0:a.toLowerCase(),length:e.length};return w.jsxs("div",{"data-test":`priority-group-${t}`,children:[w.jsxs("div",{className:jo.titleWrapper,children:[w.jsx("div",{className:s,children:w.jsx(i,{color:n.iconColor})}),w.jsx("h1",{children:e.length===1?k.t("{{length}} {{level}} priority alert",o):k.t("{{length}} {{level}} priority alerts",o)})]}),e.map(l=>{const c=l.metaData.displayInstruction||l.metaData.displayName;return w.jsxs("div",{className:r,children:[w.jsx("div",{children:c}),w.jsx("div",{className:jo.formula,children:w.jsx(Y2,{validationRule:l})})]},l.metaData.id)})]})};z2.propTypes={level:F2.isRequired,validationViolations:h.arrayOf(tf)};const T8="_wrapper_1iu3i_1",E8="_buttons_1iu3i_5",S8="_title_1iu3i_10",C8="_summaryBoxes_1iu3i_19",D8="_loading_1iu3i_24",M8="_noAlerts_1iu3i_36",P8="_dataChangedNotice_1iu3i_41",Gi={wrapper:T8,buttons:E8,title:S8,summaryBoxes:C8,loading:D8,noAlerts:M8,dataChangedNotice:P8},k8="_summaryBox_1l3sy_1",O8="_title_1l3sy_14",R8="_count_1l3sy_22",I8="_warning_1l3sy_28",N8="_error_1l3sy_34",A8="_info_1l3sy_40",j8="_hideCounts_1l3sy_46",tl={summaryBox:k8,title:O8,count:R8,warning:I8,error:N8,info:A8,hideCounts:j8},W2=({level:t,count:e,hideCounts:n})=>{const{icon:r,iconColor:i,text:s,style:o}=$2[t],a=tl[o],l=Pe(tl.summaryBox,a,{[tl.hideCounts]:n});return w.jsxs("div",{"data-test":`count-${t}`,className:l,children:[w.jsxs("div",{className:tl.title,children:[w.jsx(r,{color:i}),w.jsx("span",{children:s})]}),w.jsx("div",{className:tl.count,children:e})]})};W2.propTypes={count:h.number.isRequired,hideCounts:h.bool.isRequired,level:F2.isRequired};function H2({hide:t}){const[e,n]=O.useState(!1),r=ar(S=>S.getDataValues()),i=d$();O.useEffect(()=>{i||n(!0)},[r]);const{isLoading:s,isRefetching:o,error:a,data:{validationRuleViolations:l,commentRequiredViolations:c}={},refetch:d}=kF(),u=s||o,f=Nm(S=>S.getValidationToRefresh()),p=Nm(S=>S.setValidationToRefresh);O.useEffect(()=>{f&&(d(),p(!1))},[d,f,p]);const m=zi(),b=wo({mutationKey:m})>0,x=!!(c!=null&&c.length),T=l&&Object.values(l).every(S=>S.length===0)&&!x,E=()=>{n(!1),d()};return w.jsxs(Zh,{children:[w.jsx(Xh,{onClose:t,children:k.t("Validation")}),w.jsxs("div",{className:Gi.wrapper,children:[e&&w.jsx("div",{className:Gi.dataChangedNotice,children:w.jsx(kr,{title:"Data has changed since validation was run",children:k.t("Data in the entry form has changed, so validation output might be incorrect. Run validation again to check the current data.")})}),w.jsx("div",{className:Gi.buttons,children:w.jsx(We,{disabled:u||b,small:!0,onClick:E,children:k.t("Run validation again")})}),w.jsx("h1",{className:Gi.title,children:k.t("Alert summary")}),w.jsx("div",{className:Gi.summaryBoxes,children:jm.map(S=>{var C;return w.jsx(W2,{level:S,count:((C=l==null?void 0:l[S])==null?void 0:C.length)||0,hideCounts:!!(u||a)},S)})}),!u&&jm.map(S=>w.jsx(z2,{level:S,validationViolations:l==null?void 0:l[S]},S)),!u&&T&&w.jsx("div",{className:Gi.noAlerts,children:k.t("No validation alerts for this data.")}),u&&w.jsxs("div",{className:Gi.loading,children:[w.jsx(xs,{small:!0}),w.jsx("span",{className:Gi.text,children:k.t("Running validation...")})]}),!u&&a&&w.jsx(kr,{error:!0,title:k.t("There was a problem running validation"),children:k.t("Validation could not be run for this data. Try again or contact your system administrator.")}),!u&&x&&w.jsx(L2,{commentRequiredViolations:c})]})]})}H2.propTypes=q0;const L8="_cell_1jmhc_1 _dataEntryCell_1mcg2_10",$8="_cellInnerWrapper_1jmhc_6 _cellInnerWrapper_1mcg2_21",F8="_input_1jmhc_10 _densePadding_d0wqq_15 _alignToEnd_d0wqq_30",B8="_inputInvalid_1jmhc_17 _invalid_1mcg2_67",U8="_inputSynced_1jmhc_21 _synced_1mcg2_76",Y8="_inputLocked_1jmhc_25 _locked_1mcg2_116",z8="_inputWarning_1jmhc_30 _warning_1mcg2_58",W8="_topRightIndicator_1jmhc_34 _topRightIndicator_1mcg2_83",H8="_bottomRightIndicator_1jmhc_38 _bottomRightIndicator_1mcg2_88",q8="_topRightTriangle_1jmhc_42 _topRightTriangle_1mcg2_94",V8="_bottomRightTriangle_1jmhc_46 _bottomRightTriangle_1mcg2_102",Q8="_topRightAsterisk_1jmhc_50 _topRightAsterisk_1mcg2_111",br={cell:L8,cellInnerWrapper:$8,input:F8,inputInvalid:B8,inputSynced:U8,inputLocked:Y8,inputWarning:z8,topRightIndicator:W8,bottomRightIndicator:H8,topRightTriangle:q8,bottomRightTriangle:V8,topRightAsterisk:Q8},q2=({value:t,state:e})=>w.jsx("div",{className:br.cell,children:w.jsxs("div",{className:br.cellInnerWrapper,children:[w.jsx("div",{className:Pe(br.input,{[br.inputInvalid]:e==="INVALID",[br.inputSynced]:e==="SYNCED",[br.inputLocked]:e==="LOCKED",[br.inputWarning]:e==="WARNING"}),children:t}),w.jsxs("div",{className:br.topRightIndicator,children:[e==="LOADING"&&w.jsx(pg,{color:y.grey700}),e==="ERROR"&&w.jsx(fc,{color:y.yellow800}),e==="SYNCED"&&w.jsx("div",{className:br.topRightTriangle}),e==="COMPULSORY"&&w.jsx("div",{className:br.topRightAsterisk,children:"*"})]}),w.jsx("div",{className:br.bottomRightIndicator,children:e==="HAS_COMMENT"&&w.jsx("div",{className:br.bottomRightTriangle})})]})});q2.propTypes={state:h.oneOf(["SYNCED","LOADING","HAS_COMMENT","INVALID","LOCKED","ERROR"]).isRequired,value:h.string.isRequired};const K8="_helpItem_t1rof_1",G8={helpItem:K8};function Si({name:t,state:e}){return w.jsxs("div",{className:G8.helpItem,children:[w.jsx("div",{children:t}),w.jsx("div",{children:w.jsx(q2,{value:"10",state:e})})]})}Si.propTypes={name:h.string.isRequired,state:h.string.isRequired};function Z8(){const[t,e]=O.useState(!0);return w.jsxs(on,{title:k.t("Cell reference"),open:t,onToggle:e,children:[w.jsx(Si,{name:k.t("Saved and synced to server"),state:"SYNCED"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Waiting to sync, saved locally"),state:"LOADING"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Failed to sync, not saved"),state:"ERROR"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Data item has a comment"),state:"HAS_COMMENT"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Invalid value, not saved"),state:"INVALID"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Warning, saved"),state:"WARNING"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Locked, not editable"),state:"LOCKED"}),w.jsx(ri,{}),w.jsx(Si,{name:k.t("Compulsory field"),state:"COMPULSORY"})]})}const X8="_helpItem_1706p_1",J8="_shortcutKey_1706p_12",e7="_shortcutOr_1706p_19",t7="_shortcutKeys_1706p_26",ld={helpItem:X8,shortcutKey:J8,shortcutOr:e7,shortcutKeys:t7},qd=({label:t,shortcuts:e})=>w.jsxs("div",{className:ld.helpItem,children:[w.jsx("div",{children:t}),w.jsx("div",{className:ld.shortcutKeys,children:e.map((n,r)=>w.jsxs(w.Fragment,{children:[w.jsx("span",{className:ld.shortcutKey,children:n},r),r!==e.length-1&&w.jsx("span",{className:ld.shortcutOr,children:` ${k.t("or")} `})]}))})]});qd.propTypes={label:h.string.isRequired,shortcuts:h.arrayOf(h.string).isRequired};function n7(){const[t,e]=O.useState(!0);return w.jsxs(on,{title:k.t("Shortcuts"),open:t,onToggle:e,children:[w.jsx(qd,{label:k.t("Show details"),shortcuts:[k.t("Ctrl + Enter"),k.t("Cmd + Enter")]}),w.jsx(ri,{}),w.jsx(qd,{label:k.t("Go to next cell"),shortcuts:[k.t("Tab"),""]}),w.jsx(ri,{}),w.jsx(qd,{label:k.t("Go to previous cell"),shortcuts:[k.t("Shift + Tab"),""]})]})}function V2({hide:t}){return w.jsxs(Zh,{children:[w.jsx(Xh,{onClose:t,children:k.t("Help")}),w.jsx(Z8,{}),w.jsx(n7,{})]})}V2.propTypes=q0;const r7="_menuSelect_r33hr_1",i7={menuSelect:r7};function nf({values:t,selected:e,dataTest:n="menu-select",onChange:r}){return w.jsx("div",{className:i7.menuSelect,"data-test":n,children:w.jsx(Xw,{children:t.map(({value:i,label:s})=>w.jsx(Sl,{dataValue:i,label:w.jsx("span",{"data-value":i,children:s}),active:e===i,onClick:()=>r({selected:i})},i||s))})})}nf.propTypes={values:h.arrayOf(h.shape({label:h.string.isRequired,value:h.string})).isRequired,onChange:h.func.isRequired,dataTest:h.string,selected:h.string};const s7="_container_14ppe_1",o7="_inputs_14ppe_6",a7="_input_14ppe_6",l7="_noOptionsBox_14ppe_18",cd={container:s7,inputs:o7,input:a7,noOptionsBox:l7};function Q2({categories:t,close:e,selected:n,onChange:r}){var i;if(t.length===1&&((i=t[0].categoryOptions)==null?void 0:i.length)>0){const s=t[0],o=s.categoryOptions.map(({id:a,displayName:l})=>({value:a,label:l}));return w.jsx(nf,{values:o,selected:n[s.id],dataTest:"data-set-selector-menu",onChange:({selected:a})=>{r({categoryId:s.id,selected:a}),e()}})}return w.jsxs("div",{className:cd.container,children:[w.jsx("div",{className:cd.inputs,children:t.map(({id:s,displayName:o,categoryOptions:a})=>a.length===0?w.jsx(kr,{className:cd.noOptionsBox,error:!0,title:k.t("No available options"),children:k.t("There are no options for {{categoryName}} for the selected period or organisation unit.",{categoryName:o})}):w.jsx("div",{className:cd.input,children:w.jsx(zr,{label:o,selected:n[s],onChange:({selected:l})=>r({categoryId:s,selected:l}),children:a.map(({id:l,displayName:c})=>w.jsx(eh,{value:l,label:c},l))})},s))}),w.jsx(We,{secondary:!0,onClick:(s,o)=>{o.stopPropagation(),e()},children:k.t("Hide menu")})]})}Q2.propTypes={categories:h.arrayOf(h.shape({categoryOptions:h.arrayOf(h.shape({displayName:h.string.isRequired,id:h.string.isRequired})).isRequired,displayName:h.string.isRequired,id:h.string.isRequired})).isRequired,close:h.func.isRequired,selected:h.objectOf(h.string).isRequired,onChange:h.func.isRequired};function c7(t,e){const n={...e};return delete n[t],n}function d7(){const[t,e]=Ui();return{select:O.useCallback(({value:r,categoryId:i})=>{const s=r?{...t,[i]:r}:c7(i,t);Object.values(s).length?e(s):e(void 0)},[t,e]),selected:t}}function u7(t){return t!=null&&t.isDefault?k.t("Default attribute combo"):t==null?void 0:t.displayName}function h7(t){const{data:e}=et(),[n]=Ui();if(t!=null&&t.isDefault)return"";if(!Object.values(n).length||!t)return k.t("0 selections");if((t==null?void 0:t.categories.length)===1){const i=t==null?void 0:t.categories[0],s=n[i],o=pL(e,s);return o==null?void 0:o.displayName}return Object.values(n).length===1?k.t("1 selection"):k.t("{{amount}} selections",{amount:Object.values(n).length})}function f7(t){const[e]=jt(),[n]=Gn(),[r]=dr();return t==null||(t==null?void 0:t.isDefault)||!e||!n||!r||!t.categories.length}const p7=t=>t.categoryOptions.length===0,m7=(t,e)=>(O.useEffect(()=>{(t==null?void 0:t.length)>0?e(k.t("Some categories have no valid options for the selected period or organisation unit ({{categories}})",{categories:t.map(n=>n.displayName).join(", ")})):e("")},[t,e]),t);function K2({setSelectionHasNoFormMessage:t}){const{data:e}=et(),[n]=jt(),[r]=dr(),[i]=Gn(),s=HT(e,n),[o,a]=Ui(),{systemInfo:l={}}=Jt(),{calendar:c="gregory"}=l,{data:d}=La(),u=d==null?void 0:d.path,f=$0(e,n,i,r,u,c),[p,m]=O.useState(!1),{select:v,selected:b}=d7(),{show:x}=Ar(P=>P,{warning:!0});O.useEffect(()=>{var I;const P=U=>{a(void 0),x(k.t("There was a problem loading the {{objectType}} selection ({{id}}). You might not have access, or the selection might be invalid.",{objectType:"Attribute Option Combo",id:U}))},R=f.map(({id:U})=>U);for(const U of Object.keys(o)){const L=(I=f.filter(({id:z})=>z===U)[0])==null?void 0:I.categoryOptions.map(({id:z})=>z);if(!R.includes(U)){P(U);return}if(!L.includes(o[U])){P(o[U]);return}}},[o,f,e,a,x]);const T=u7(s),E=h7(s),S=({selected:P,categoryId:R})=>v({value:P,categoryId:R}),C=f.filter(p7),M=f7(s);return m7(C,t),M?null:w.jsx("div",{"data-test":"attribute-option-combo-selector",children:w.jsx(Pa,{label:T,value:E,open:p,setOpen:m,noValueMessage:k.t("Choose a data set"),children:w.jsx(Q2,{categories:f,close:()=>m(!1),selected:b,onChange:S})})})}K2.propTypes={setSelectionHasNoFormMessage:h.func.isRequired};const G2=({dataSets:t,dataSetId:e,dataSet:n,onChange:r})=>e&&!n?w.jsx("span",{"data-test":"data-set-selector-no-dataset-for-id-msg",children:k.t("Could not find a data set for the selected id")}):t.length?w.jsx(nf,{values:t||[],selected:e,dataTest:"data-set-selector-menu",onChange:r}):w.jsx("span",{"data-test":"data-set-selector-none-available-msg",children:k.t("There are no data sets available!")});G2.propTypes={dataSet:h.object,dataSetId:h.string,dataSets:h.array,onChange:h.func};function g7(){const{data:t}=et(),[e,n]=O.useState(!1),[r,i]=jt(),s=BT(t),o=Object.values(s).map(({id:l,displayName:c})=>({label:c,value:l})).sort((l,c)=>l.label.localeCompare(c.label)),a=Wt(t,r);return O.useEffect(()=>{const l=Object.keys(s);l.length===1&&i(l[0])},[s,i]),w.jsx("div",{"data-test":"data-set-selector",children:w.jsx(Pa,{label:k.t("Data set"),value:(a==null?void 0:a.displayName)||void 0,open:e,setOpen:n,noValueMessage:k.t("Choose a data set"),children:w.jsx("div",{"data-test":"data-set-selector-contents",children:w.jsx(G2,{dataSets:o,dataSetId:r,dataSet:a,onChange:({selected:l})=>{i(l),n(!1)}})})})})}function y7(t,e){const[n,r]=O.useState(t);return O.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}function Z2({onChange:t,initialValue:e}){const[n,r]=O.useState(e),i=y7(n,200);return O.useEffect(()=>{t(i)},[t,i]),w.jsx(cg,{dense:!0,value:n,name:"context-selection-org-unit-search",placeholder:k.t("Search org units"),onChange:({value:s})=>r(s)})}Z2.propTypes={initialValue:h.string.isRequired,onChange:h.func.isRequired};function X2({children:t}){const[e]=jt(),n=e?void 0:k.t("Choose a data set first");return n?w.jsx(Nt,{content:n,children:({ref:r,onMouseOver:i,onMouseOut:s})=>w.jsx("div",{ref:r,onMouseOver:i,onMouseOut:s,children:t})}):t}X2.propTypes={children:h.any.isRequired};const v7="_itemContentContainer_199e2_1",b7="_searchInputContainer_199e2_9",w7="_dividerContainer_199e2_14",x7="_orgUnitTreeContainer_199e2_18",_7="_disabled_199e2_39",xl={itemContentContainer:v7,searchInputContainer:b7,dividerContainer:w7,orgUnitTreeContainer:x7,disabled:_7},J2=(t,e)=>t.some(r=>e===r?!0:r.startsWith(`${e}/`)),T7=(t,e)=>t.replace(new RegExp(`^.*(/${e})`),"$1"),Fb=(t,e)=>t.substring(t.indexOf(e)).replace(/^\/|\/$/g,""),E7=(t,e)=>{if(!t)throw new Error("No offline organisation units available");if(!e)throw new Error("No parent to fetch children from");const n=Fb(e.path,e.id);return t.filter(({id:r,path:i})=>`${n}/${r}`===Fb(i,e.id)).sort((r,i)=>r.displayName>i.displayName)},S7=t=>[...t].sort((e,n)=>e==null?void 0:e.displayName.localeCompare(n==null?void 0:n.displayName)),C7="[a-zA-Z][a-zA-Z0-9]{10}",D7=new RegExp(`(/${C7})+`),rr=(t,e,n,r,i)=>{if(!D7.test(t[e]))return new Error(`Invalid org unit path \`${t[e]}\` supplied to \`${n}.${i}\``)},$m=h.shape({children:h.number,displayName:h.string,id:h.string,path:h.string}),M7="_errorMessageSpan_1t98n_1",P7={errorMessageSpan:M7},eE=({children:t,dataTest:e})=>w.jsx("span",{"data-test":`${e}-error`,className:P7.errorMessageSpan,children:t});eE.propTypes={children:h.any.isRequired,dataTest:h.string.isRequired};const k7=(t,e)=>e.some(n=>{const r=!n.match(new RegExp(`${t}$`)),i=n.match(new RegExp(t));return r&&i}),O7="_singleSelectSpan_lf36k_1",R7="_checked_lf36k_14",I7="_loading_lf36k_19",N7="_iconDefaultStyle_lf36k_23",A7="_iconizedCheckbox_lf36k_28",j7="_labelContainer_lf36k_33",L7="_labelContainerHighlighted_lf36k_41",li={singleSelectSpan:O7,checked:R7,loading:I7,iconDefaultStyle:N7,iconizedCheckbox:A7,labelContainer:j7,labelContainerHighlighted:L7},Q0=({checked:t,children:e,onChange:n,loading:r})=>w.jsx("span",{onClick:i=>{n({checked:!t},i)},className:Pe(li.singleSelectSpan,{[li.checked]:t,[li.loading]:r}),children:e});Q0.propTypes={children:h.any.isRequired,checked:h.bool,loading:h.bool,onChange:h.func};const tE=({children:t,loading:e,onToggleOpen:n})=>w.jsx(Q0,{checked:!1,loading:e,onChange:n,children:t});tE.propTypes={children:h.any.isRequired,onToggleOpen:h.func.isRequired,loading:h.bool};const nE=({dataTest:t})=>w.jsx("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${t}-iconempty`,className:li.iconDefaultStyle,children:w.jsx("g",{fill:"none",fillRule:"evenodd",id:"icon/empty",stroke:"none",strokeWidth:"1"})});nE.propTypes={dataTest:h.string.isRequired};const rE=({dataTest:t})=>w.jsx("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${t}-iconfolderclosed`,className:li.iconDefaultStyle,children:w.jsx("g",{id:"icon/folder/closed",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:w.jsx("path",{d:"M2,3.5 C1.17157288,3.5 0.5,4.17157288 0.5,5 L0.5,13 C0.5,13.8284271 1.17157288,14.5 2,14.5 L12,14.5 C12.8284271,14.5 13.5,13.8284271 13.5,13 L13.5,7 C13.5,6.17157288 12.8284271,5.5 12,5.5 L6.69098301,5.5 L5.82917961,3.7763932 C5.7444836,3.60700119 5.57135204,3.5 5.38196601,3.5 L2,3.5 Z",id:"Path-2",stroke:"#6C7787",fill:"#D5DDE5"})})});rE.propTypes={dataTest:h.string.isRequired};const iE=({dataTest:t})=>w.jsx("svg",{width:"18px",height:"18px",viewBox:"0 0 18 18",version:"1.1","data-test":`${t}-iconfolderopen`,className:li.iconDefaultStyle,children:w.jsx("g",{id:"icon/folder/open",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:w.jsxs("g",{id:"Group",transform:"translate(0.000000, 3.000000)",stroke:"#6C7787",children:[w.jsx("path",{d:"M2,0.5 C1.17157288,0.5 0.5,1.17157288 0.5,2 L0.5,10 C0.5,10.8284271 1.17157288,11.5 2,11.5 L12,11.5 C12.8284271,11.5 13.5,10.8284271 13.5,10 L13.5,4 C13.5,3.17157288 12.8284271,2.5 12,2.5 L6.69098301,2.5 L5.82917961,0.776393202 C5.7444836,0.607001188 5.57135204,0.5 5.38196601,0.5 L2,0.5 Z",id:"Path-2",fill:"#A0ADBA"}),w.jsx("path",{d:"M1.53632259,10.7093809 C1.47575089,10.7941813 1.44318932,10.8957885 1.44318932,11 C1.44318932,11.2761424 1.66704695,11.5 1.94318932,11.5 L12.4853821,11.5 C12.6468577,11.5 12.7983931,11.4220172 12.8922488,11.2906191 L16.4636774,6.2906191 C16.5242491,6.20581872 16.5568107,6.10421149 16.5568107,6 C16.5568107,5.72385763 16.3329531,5.5 16.0568107,5.5 L5.5146179,5.5 C5.35314234,5.5 5.20160692,5.57798284 5.10775116,5.7093809 L1.53632259,10.7093809 Z",id:"Path-3",fill:"#FBFCFD"})]})})});iE.propTypes={dataTest:h.string.isRequired};const sE=({dataTest:t})=>w.jsx("svg",{height:"18px",version:"1.1",viewBox:"0 0 18 18",width:"18px","data-test":`${t}-iconsingle`,className:li.iconDefaultStyle,children:w.jsx("g",{fill:"none",fillRule:"evenodd",id:"icon/single",stroke:"none",strokeWidth:"1",children:w.jsx("rect",{fill:"#A0ADBA",height:"4",id:"Rectangle",rx:"1",width:"4",x:"7",y:"7"})})});sE.propTypes={dataTest:h.string.isRequired};const oE=({loading:t,hasChildren:e,open:n,dataTest:r})=>t?w.jsx(nE,{dataTest:r}):e?n?w.jsx(iE,{dataTest:r}):w.jsx(rE,{dataTest:r}):w.jsx(sE,{dataTest:r});oE.propTypes={dataTest:h.string.isRequired,hasChildren:h.bool,loading:h.bool,open:h.bool};const aE=({checked:t,dataTest:e,hasChildren:n,indeterminate:r,children:i,loading:s,name:o,open:a,value:l,onChange:c})=>{const d=w.jsx(oE,{loading:s,open:a,hasChildren:n,dataTest:e}),u=w.jsxs(w.Fragment,{children:[w.jsx("span",{className:li.iconizedCheckbox,children:d}),i]});return w.jsx(w.Fragment,{children:w.jsx(pc,{dense:!0,checked:t,name:o,value:l,label:u,indeterminate:r,onChange:c})})};aE.propTypes={checked:h.bool.isRequired,children:h.any.isRequired,dataTest:h.string.isRequired,hasChildren:h.bool.isRequired,indeterminate:h.bool.isRequired,loading:h.bool.isRequired,name:h.string.isRequired,open:h.bool.isRequired,value:h.string.isRequired,onChange:h.func.isRequired};const Vd=({highlighted:t,children:e})=>w.jsx("div",{className:Pe(li.labelContainer,{[li.labelContainerHighlighted]:t}),children:w.jsx("span",{children:e})});Vd.propTypes={children:h.node,highlighted:h.bool};const $7=({selected:t,path:e,checked:n,singleSelection:r})=>{const i=t.indexOf(e);if(n&&i!==-1)return t;if(r&&n)return[e];if(n)return[...t,e];if(i===-1)return t;if(r)return[];if(t.indexOf(e)===0)return t.slice(1);const s=t.slice(0,i),o=t.slice(i+1);return[...s,...o]},lE=({checked:t,children:e,dataTest:n,disableSelection:r,fullPath:i,hasChildren:s,hasSelectedDescendants:o,highlighted:a,loading:l,node:c,onChange:d,onToggleOpen:u,open:f,rootId:p,selected:m,singleSelection:v})=>{const b=({checked:x},T)=>{const E=$7({path:i,selected:m,checked:x,singleSelection:v}),S={...c,path:i,checked:x,selected:E};d(S,T)};return r?w.jsx(Vd,{highlighted:a,children:w.jsx(tE,{loading:l,onToggleOpen:u,children:e})}):v?w.jsx(Vd,{highlighted:a,children:w.jsx(Q0,{checked:t,onChange:b,loading:l,children:e})}):w.jsx(Vd,{highlighted:a,children:w.jsx(aE,{dataTest:n,checked:t,name:"org-unit",value:c.id,loading:l,indeterminate:!t&&o,onChange:b,open:f,hasChildren:s,children:e})})};lE.propTypes={children:h.any.isRequired,dataTest:h.string.isRequired,fullPath:h.string.isRequired,hasChildren:h.bool.isRequired,loading:h.bool.isRequired,node:h.shape({displayName:h.string.isRequired,id:h.string.isRequired,children:h.number,path:h.string}).isRequired,open:h.bool.isRequired,rootId:h.string.isRequired,onChange:h.func.isRequired,onToggleOpen:h.func.isRequired,checked:h.bool,disableSelection:h.bool,hasSelectedDescendants:h.bool,highlighted:h.bool,selected:h.arrayOf(rr),singleSelection:h.bool};const F7="_container_450ch_1",B7="_extraSmall_450ch_4",Bb={container:F7,extraSmall:B7},cE=()=>w.jsx("div",{className:Bb.container,children:w.jsx(xs,{extrasmall:!0,className:Bb.extraSmall})}),U7=({nodes:t,filter:e,parentPath:n})=>e!=null&&e.length?t.filter(r=>J2(e,`${n}/${r.id}`)):t,dE=({autoExpandLoadingError:t,nodes:e,dataTest:n,disableSelection:r,show:i,error:s,expanded:o,filter:a,highlighted:l,isUserDataViewFallback:c,offlineLevels:d,prefetchedOrganisationUnits:u,loading:f,onChange:p,onChildrenLoaded:m,onCollapse:v,onExpand:b,OrganisationUnitNode:x,parentPath:T,renderNodeLabel:E,rootId:S,selected:C,singleSelection:M,suppressAlphabeticalSorting:P})=>{const R=i?U7({nodes:e,filter:a,parentPath:T}):[];return w.jsxs(w.Fragment,{children:[f&&w.jsx(cE,{}),s&&`Error: ${s}`,i&&R.length===0&&k.t("No children match filter"),i&&R.length>0&&R.map(I=>w.jsx(x,{autoExpandLoadingError:t,childCount:I.children,dataTest:n,disableSelection:r,displayName:I.displayName,expanded:o,filter:a,highlighted:l,id:I.id,isUserDataViewFallback:c,onChange:p,onChildrenLoaded:m,onCollapse:v,onExpand:b,path:I.path,renderNodeLabel:E,rootId:S,selected:C,singleSelection:M,suppressAlphabeticalSorting:P,level:I.level,offlineLevels:d,prefetchedOrganisationUnits:u},I.path))]})};dE.propTypes={OrganisationUnitNode:h.func.isRequired,dataTest:h.string.isRequired,parentPath:h.string.isRequired,renderNodeLabel:h.func.isRequired,rootId:h.string.isRequired,onChange:h.func.isRequired,autoExpandLoadingError:h.bool,disableSelection:h.bool,error:h.string,expanded:h.arrayOf(rr),filter:h.arrayOf(rr),highlighted:h.arrayOf(rr),isUserDataViewFallback:h.bool,loading:h.bool,nodes:h.arrayOf($m),offlineLevels:h.arrayOf(h.number),prefetchedOrganisationUnits:h.arrayOf($m),selected:h.arrayOf(rr),show:h.bool,singleSelection:h.bool,suppressAlphabeticalSorting:h.bool,onChildrenLoaded:h.func,onCollapse:h.func,onExpand:h.func};const Y7=({path:t,expanded:e,onExpand:n,onCollapse:r,errorMessage:i,autoExpandLoadingError:s})=>{const o=s&&!!i,[a,l]=O.useState(!!i);O.useEffect(()=>{o&&!a&&(n({path:t}),l(!0))},[o,n,t,a]);const c=o&&!a||!!e.includes(t);return{open:c,onToggleOpen:()=>c?r({path:t}):n({path:t}),openedOnceDueToError:a}},z7={orgUnit:{resource:"organisationUnits",id:({id:t})=>t,params:{fields:"children[id,path,displayName,children::size,level]"}}},W7=({node:t,suppressAlphabeticalSorting:e,onComplete:n,offlineLevels:r,prefetchedOrganisationUnits:i})=>{const s=O.useRef(!1),{called:o,loading:a,error:l,data:c,refetch:d}=dg(z7,{variables:{id:t.id},lazy:!0}),u=O.useMemo(()=>r.includes(t.level+1)?E7(i,t):null,[t,r,i]),f=O.useMemo(()=>{if(!c&&!u)return;const p=u??c.orgUnit.children;return e?p:S7(p)},[c,u,e]);return O.useEffect(()=>{n&&f&&!s.current&&(n({...t,children:f}),s.current=!0)},[t,n,f,s]),{show:t.childCount===0||!!u||o&&!a&&!l,loading:t.childCount>0&&a||!1,error:l||null,nodes:f,fetch:d}},K0=({autoExpandLoadingError:t,childCount:e,dataTest:n,disableSelection:r,displayName:i,expanded:s,highlighted:o,id:a,isUserDataViewFallback:l,level:c,offlineLevels:d,path:u,prefetchedOrganisationUnits:f,renderNodeLabel:p,rootId:m,selected:v,singleSelection:b,filter:x,suppressAlphabeticalSorting:T,onChange:E,onChildrenLoaded:S,onCollapse:C,onExpand:M})=>{const P=T7(u,m),R={displayName:i,id:a,path:P,childCount:e,level:c},{show:I,loading:U,error:L,nodes:z,fetch:q}=W7({node:R,suppressAlphabeticalSorting:T,onComplete:S,offlineLevels:d,prefetchedOrganisationUnits:f}),W=e>0,B=k7(P,v),Z=o.includes(u),{open:ne,onToggleOpen:J}=Y7({autoExpandLoadingError:t,errorMessage:L&&L.toString(),path:P,expanded:s,onExpand:M,onCollapse:C}),G=!!v.find(H=>H.match(new RegExp(`${P}$`))),K=p({disableSelection:r,childCount:e,hasSelectedDescendants:B,selected:v,open:ne,path:u,singleSelection:b,node:R,label:i,checked:G,highlighted:Z}),Q=w.jsx(lE,{node:R,fullPath:u,open:ne,loading:U,checked:G,rootId:m,onChange:E,dataTest:`${n}-label`,selected:v,hasChildren:W,highlighted:Z,onToggleOpen:J,disableSelection:r,singleSelection:b,hasSelectedDescendants:B,children:K}),A=W&&!ne,F=W&&ne;return O.useEffect(()=>{ne&&W&&!z&&q()},[W,ne,z,q]),w.jsxs(g_,{dataTest:`${n}-node`,open:ne,onOpen:J,onClose:J,component:Q,icon:U&&w.jsx(cE,{}),children:[L&&w.jsx(eE,{dataTest:n,children:k.t("Could not load children")}),A&&w.jsx("span",{"data-test":`${n}-placeholder`}),F&&w.jsx(dE,{OrganisationUnitNode:K0,node:R,show:I,autoExpandLoadingError:t,dataTest:n,disableSelection:r,expanded:s,filter:x,highlighted:o,isUserDataViewFallback:l,onChange:E,onChildrenLoaded:S,onCollapse:C,onExpand:M,parentPath:u,renderNodeLabel:p,rootId:m,selected:v,singleSelection:b,suppressAlphabeticalSorting:T,nodes:z,childCount:e,offlineLevels:d,prefetchedOrganisationUnits:f})]})};K0.propTypes={dataTest:h.string.isRequired,id:h.string.isRequired,renderNodeLabel:h.func.isRequired,rootId:h.string.isRequired,onChange:h.func.isRequired,autoExpandLoadingError:h.bool,childCount:h.number,disableSelection:h.bool,displayName:h.string,expanded:h.arrayOf(rr),filter:h.arrayOf(rr),highlighted:h.arrayOf(rr),isUserDataViewFallback:h.bool,level:h.number,offlineLevels:h.arrayOf(h.number),path:rr,prefetchedOrganisationUnits:h.arrayOf($m),selected:h.arrayOf(rr),singleSelection:h.bool,suppressAlphabeticalSorting:h.bool,onChildrenLoaded:h.func,onCollapse:h.func,onExpand:h.func};const H7=({label:t})=>t,q7=(t,e)=>t!=null&&t.length?e.filter(n=>J2(t,`/${n}`)):e,G0=({dataTest:t="dhis2-uiwidgets-orgunittree-error",error:e})=>w.jsx("div",{"data-test":t,children:k.t("Error: {{ ERRORMESSAGE }}",{ERRORMESSAGE:e,nsSeparator:">"})});G0.propTypes={error:h.string.isRequired,dataTest:h.string};const V7={},Z0=({dataTest:t="dhis2-uiwidgets-orgunittree-loading"})=>w.jsx("div",{"data-test":t,className:V7.rootLoading,children:w.jsx(xs,{small:!0})});Z0.propTypes={dataTest:h.string};const Q7=t=>Array.from(new Set(t)),K7=t=>{const e=t.replace(/^\//,"").split("/"),n=e.map((r,i)=>`/${e.slice(0,i+1).join("/")}`);return Q7(n)},G7=t=>t.reduce((e,n)=>{const r=K7(n);return[...e,...r]},[]),Z7=({expanded:t,setExpanded:e,onExpand:n,onCollapse:r})=>({handleExpand:({path:o,...a})=>{t.includes(o)||(e([...t,o]),n&&n({path:o,...a}))},handleCollapse:({path:o,...a})=>{const l=t.indexOf(o);if(l!==-1){const c=l===0?t.slice(1):[...t.slice(0,l),...t.slice(l+1)];e(c),r&&r({path:o,...a})}}}),X7=({initiallyExpanded:t,onExpand:e,onCollapse:n,expandedControlled:r,handleExpandControlled:i,handleCollapseControlled:s})=>{const o=!!r,a=o?[]:G7(t),[l,c]=O.useState(a);if(o)return{expanded:r,handleExpand:i,handleCollapse:s};const{handleExpand:d,handleCollapse:u}=Z7({expanded:l,setExpanded:c,onExpand:e,onCollapse:n});return{expanded:l,handleExpand:d,handleCollapse:u}},J7=t=>{const[e,n]=O.useState(0);return O.useEffect(()=>{t===!0&&n(r=>r+1)},[t]),e},Ub=t=>t.map(e=>({...e,displayName:e.displayName||""})),e6={roots:{resource:"organisationUnits",params:({isUserDataViewFallback:t,ids:e})=>({isUserDataViewFallback:t,filter:`id:in:[${e.join()}]`,paging:!1,fields:["displayName","path","id","children::size","level"]})}},t6=(t,{isUserDataViewFallback:e,prefetchedOrganisationUnits:n}={})=>{const{called:r,loading:i,error:s,data:o,refetch:a}=dg(e6,{variables:{isUserDataViewFallback:e,ids:t},lazy:!0}),l=O.useMemo(()=>{const u=n==null?void 0:n.filter(({id:f})=>t.includes(f));return u&&u.length===t.length?Ub(u):void 0},[t,n]),c=O.useMemo(()=>o?Ub(o.roots.organisationUnits):void 0,[o]),d=O.useCallback(()=>{l||a()},[l,a]);return O.useEffect(()=>{d()},[d]),{called:l?!0:r,loading:l?!1:i,error:l?null:s||null,rootNodes:l??c,refetch:a}},dd=[],uE=({onChange:t,roots:e,autoExpandLoadingError:n,dataTest:r="dhis2-uiwidgets-orgunittree",filter:i=dd,highlighted:s=dd,initiallyExpanded:o=dd,selected:a=dd,renderNodeLabel:l=H7,disableSelection:c,forceReload:d,isUserDataViewFallback:u,singleSelection:f,suppressAlphabeticalSorting:p,offlineLevels:m,prefetchedOrganisationUnits:v,expanded:b,handleExpand:x,handleCollapse:T,onExpand:E,onCollapse:S,onChildrenLoaded:C})=>{const M=O.useMemo(()=>q7(i,Array.isArray(e)?e:[e]),[e,i]),P=J7(d),[R,I]=O.useState(P),{called:U,loading:L,error:z,rootNodes:q,refetch:W}=t6(M,{isUserDataViewFallback:u,prefetchedOrganisationUnits:v}),{expanded:B,handleExpand:Z,handleCollapse:ne}=X7({initiallyExpanded:o,onExpand:E,onCollapse:S,expandedControlled:b,handleExpandControlled:x,handleCollapseControlled:T});O.useEffect(()=>(W&&P>0&&P!==R&&(W(),I(P)),()=>console.warn("@TODO: Why does this component unmount after a force reload?")),[P,R,W]);const J=!U||L;return w.jsxs("div",{"data-test":r,children:[J&&w.jsx(Z0,{}),z&&w.jsx(G0,{error:z}),!z&&!J&&q.map(G=>w.jsx(K0,{rootId:G.id,autoExpandLoadingError:n,dataTest:r,disableSelection:c,displayName:G.displayName,expanded:B,highlighted:s,id:G.id,isUserDataViewFallback:u,filter:i,path:G.path,childCount:G.children,renderNodeLabel:l,selected:a,singleSelection:f,suppressAlphabeticalSorting:p,onChange:t,onChildrenLoaded:C,onCollapse:ne,onExpand:Z,level:G.level,offlineLevels:m[G.path],prefetchedOrganisationUnits:v},G.path))]})};uE.propTypes={roots:h.oneOfType([h.string,h.arrayOf(h.string)]).isRequired,onChange:h.func.isRequired,autoExpandLoadingError:h.bool,dataTest:h.string,disableSelection:h.bool,expanded:ht(t=>!!t.handleExpand||!!t.handleCollapse,h.arrayOf(h.string)),filter:h.arrayOf(rr),forceReload:h.bool,handleCollapse:ht(t=>!!t.expanded||!!t.handleExpand,h.func),handleExpand:ht(t=>!!t.expanded||!!t.handleCollapse,h.func),highlighted:h.arrayOf(rr),initiallyExpanded:h.arrayOf(rr),isUserDataViewFallback:h.bool,offlineLevels:ht(t=>!!t.prefetchedOrganisationUnits,h.objectOf(h.arrayOf(h.number))),prefetchedOrganisationUnits:ht(t=>!!t.offlineLevels,h.arrayOf(h.shape({displayName:h.string,id:h.string,path:h.string}))),renderNodeLabel:h.func,selected:h.arrayOf(rr),singleSelection:h.bool,suppressAlphabeticalSorting:h.bool,onChildrenLoaded:h.func,onCollapse:h.func,onExpand:h.func};function n6(){const[t,e]=O.useState([]);return{expanded:t,handleExpand:({path:i})=>e([...t,i]),handleCollapse:({path:i})=>e(t.filter(s=>s!==i))}}function r6(t){const e=["organisationUnits",{params:{fields:["path"],filter:`displayName:ilike:${t}`,paging:!1}}],{isFetched:n,isFetching:r,error:i,data:s}=jr(e,{enabled:!!t,select:o=>o.organisationUnits.map(({path:a})=>a)});return{called:n,loading:!s&&r,error:i,data:s}}const i6=(t,e,n)=>e?t+e-1:n?Math.max(n,t):t,s6=(t,e,n)=>{const r=e.find(({level:s})=>s===t.level),i=i6(t.level,r==null?void 0:r.offlineLevels,n);return Array.from({length:i-t.level+1},(s,o)=>t.level+o)};function o6(){const t=x0({queries:[{queryKey:["me",{params:{fields:["organisationUnits[id,level,path]"]}}],select:o=>o.organisationUnits.map(({id:a,level:l,path:c})=>({id:a,level:l,path:c}))},{queryKey:["filledOrganisationUnitLevels",{params:{fields:["level","offlineLevels"]}}],select:o=>o.map(({id:a,level:l,offlineLevels:c})=>({id:a,level:l,offlineLevels:c}))},{queryKey:["configuration/offlineOrganisationUnitLevel"],select:({level:o})=>o}]}),e=t.some(({isLoading:o})=>o),n=t.find(({error:o})=>o),[r,i,s]=t.map(({data:o})=>o);return{loading:e,error:n,offlineLevels:!e&&!n?r.reduce((o,a)=>(o[a.path]=s6(a,i,s),o),{}):void 0}}const a6=([t,e])=>{const n=t.split("/").pop();return{queryKey:["organisationUnits",{id:n,params:{fields:["id","displayName","path","children::size","level"],includeDescendants:!0,paging:!1,filter:`level:in:[${e==null?void 0:e.join()}]`}}],enabled:!!(n&&(e==null?void 0:e.length)>=1),select:r=>Array.isArray(r.organisationUnits)?r.organisationUnits:[r]}},l6=([t,e])=>({queryKey:["organisationUnits/gist",{params:{orgUnitsOffline:!0,filter:[`level:in:[${e==null?void 0:e.join()}]`,`path:startsWith:${t}`]}}],enabled:!!(t&&(e==null?void 0:e.length)>=1),select:n=>n.organisationUnits.map(({displayName:r,path:i,children:s})=>({displayName:r,id:i.split("/").at(-1),path:i,children:s?1:0,level:i.split("/").length}))});function c6(){const{utilizeGistApiForPrefetchedOrganisationUnits:t}=AF(),{loading:e,error:n,offlineLevels:r}=o6(),i=t?l6:a6,s=x0({queries:Object.entries(r??{}).map(i)}),o=e||s.some(({isLoading:l})=>l),a=n||(s==null?void 0:s.find(({error:l})=>l));return{loading:o,error:a,offlineOrganisationUnits:!o&&!a?s.reduce((l,{data:c})=>l.concat(c),[]):void 0,offlineLevels:r}}function hE(){const{isLoading:t,error:e,data:n}=jr(["me",{params:{fields:["organisationUnits[id,level,path]"]}}],{select:r=>r.organisationUnits.map(({id:i})=>i)});return{data:n,loading:t,error:e}}function d6(){var n;const t=La(),e=hE();return e.loading||t.loading?k.t("Fetching organisation unit info"):t.error||e.error?k.t("Error occurred while loading organisation unit info"):(n=t.data)==null?void 0:n.displayName}const fE=({label:t})=>w.jsx("div",{className:xl.disabled,children:w.jsx(Nt,{content:k.t("Dataset is not assigned to this organisation unit"),children:w.jsx("span",{children:t})})});fE.propTypes={label:h.any.isRequired};function u6(){const t=c6(),{show:e}=Ar(M=>M,{warning:!0}),[n,r]=O.useState(""),i=r6(n),[s,o]=O.useState(!1),{expanded:a,handleExpand:l,handleCollapse:c}=n6(),{data:d}=et(),[u]=jt(),{organisationUnits:f}=Wt(d,u)||{},[p,m]=dr(),v=La(),b=hE(),x=d6(),T=v.data?[v.data.path]:[],E=!u,S=n?i.data:[],C=t.loading||n!==""&&!i.called||i.loading;return O.useEffect(()=>{p&&f&&(f.includes(p)||(e(k.t("There was a problem loading the {{objectType}} selection ({{id}}). You might not have access, or the selection might be invalid.",{objectType:"Organisation Unit",id:p})),m(void 0)))},[p,f,m,e]),w.jsx("div",{"data-test":"org-unit-selector",children:w.jsx(X2,{children:w.jsx(Pa,{disabled:E,label:k.t("Organisation unit"),value:x,open:s,setOpen:o,noValueMessage:k.t("Choose a organisation unit"),children:w.jsxs("div",{className:xl.itemContentContainer,children:[w.jsx("div",{className:xl.searchInputContainer,children:w.jsx(Z2,{initialValue:n,onChange:r})}),w.jsx("div",{className:xl.dividerContainer,children:w.jsx(ri,{dense:!0})}),w.jsxs("div",{className:xl.orgUnitTreeContainer,children:[C&&w.jsx(Z0,{dataTest:"org-unit-selector-loading"}),!C&&(i.error||t.error)&&w.jsx(G0,{dataTest:"org-unit-selector-error",error:i.error||t.error}),!C&&!!n&&!S.length&&w.jsx("div",{"data-test":"org-unit-selector-none-found",children:k.t("No organisation units could be found")}),!C&&(!n||!!S.length)&&w.jsx(uE,{dataTest:"org-unit-selector-tree",singleSelection:!0,filter:S,roots:b.data||[],selected:T,expanded:a,handleExpand:l,handleCollapse:c,onChange:({id:M},P)=>{P.stopPropagation(),f!=null&&f.includes(M)&&(m(M),o(!1))},renderNodeLabel:({node:M,label:P})=>f!=null&&f.includes(M==null?void 0:M.id)?P:w.jsx(fE,{label:P}),offlineLevels:t.offlineLevels,prefetchedOrganisationUnits:t.offlineOrganisationUnits})]})]})})})})}function pE({children:t}){const[e]=jt(),n=e?void 0:k.t("Choose a data set first");return n?w.jsx(Nt,{content:n,children:({ref:r,onMouseOver:i,onMouseOut:s})=>w.jsx("div",{ref:r,onMouseOver:i,onMouseOut:s,children:t})}):t}pE.propTypes={children:h.any.isRequired};const h6="_menu_szlke_1",f6="_noPeriods_szlke_7",Yb={menu:h6,noPeriods:f6};function mE({onChange:t,periods:e}){const[n]=Gn(),r=Wh(n);return e.length===0?w.jsx("div",{className:Yb.noPeriods,children:k.t("No periods available in this year")}):w.jsx(Xw,{dense:!0,className:Yb.menu,dataTest:"period-selector-menu",children:e.map(i=>w.jsx(Sl,{active:i.id===(r==null?void 0:r.id),label:w.jsx("span",{"data-value":i.id,children:i.name}),onClick:()=>t({selected:i.id})},i.id))})}mE.propTypes={periods:h.arrayOf(h.shape({displayName:h.string.isRequired,id:h.string.isRequired})).isRequired,onChange:h.func.isRequired};const p6=({periodType:t,dateServerInCalendarString:e,openFuturePeriods:n=0,calendar:r="gregory"})=>{const s=T4({periodType:t,date:e,calendar:r});if(n<=0)return s.startDate;const o=NT({period:s,calendar:r,steps:n}),[a]=o.slice(-1);return a.startDate},m6=()=>{const{systemInfo:t={}}=Jt(),{calendar:e="gregory",serverTimeZoneId:n="Etc/UTC"}=t,[r]=jt(),{data:i}=et(),s=Bh({calendar:e,timezone:n});return O.useMemo(()=>{const o=Wt(i,r);if(!o)return s;const a=F0[o.periodType],l=o.openFuturePeriods||0;return p6({periodType:a,openFuturePeriods:l,dateServerInCalendarString:s,calendar:e})},[r,i,s,e])};function g6({periodType:t,year:e,dateLimit:n,openFuturePeriods:r}){const{systemInfo:i={}}=Jt(),{calendar:s="gregory",serverTimeZoneId:o="Etc/UTC"}=i,{data:a}=Ts(),{keyUiLocale:l}=a.settings,c=Bh({calendar:s,timezone:o});return O.useMemo(()=>{if(!t||!s)return[];const d=Om.includes(t),u=d?e+r:e,f={calendar:s,periodType:t,year:u,endsBefore:n,locale:l,yearsCount:u-(ku[s]??ku.default)+1},p=os(f);if(d)return p;const[m]=os({...f,year:u-1}).slice(-1),[v]=os({...f,year:u+1});if(m&&ds({date:`${e}-01-01`,calendar:s},{date:m.endDate,calendar:s},{inclusive:!0})){const[b]=os({...f,year:u-1}).slice(-1);p.unshift(b)}return v&&Ia({date:`${e+1}-01-01`,calendar:s},{date:v.startDate,calendar:s},{inclusive:!1})&&p.push(v),p.reverse()},[t,c,e,n,l,r,s])}function y6(){const[t]=Gn(),e=Wh(t);return e==null?void 0:e.displayName}const v6="_container_11ao4_1",b6="_year_11ao4_9",zb={container:v6,year:b6};function gE({maxYear:t,year:e,onYearChange:n,calendar:r}){const i=ku[r]??ku.default;return w.jsxs("div",{className:zb.container,children:[w.jsx(We,{dataTest:"yearnavigator-backbutton",disabled:e<=i,onClick:()=>n(e-1),icon:k.dir()==="rtl"?w.jsx(Up,{}):w.jsx(Bp,{})}),w.jsx("span",{"data-test":"yearnavigator-currentyear",className:zb.year,children:e}),w.jsx(We,{dataTest:"yearnavigator-forwardbutton",disabled:e>=t,onClick:()=>n(e+1),icon:k.dir()==="rtl"?w.jsx(Bp,{}):w.jsx(Up,{})})]})}gE.propTypes={calendar:h.string,maxYear:h.number,year:h.number,onYearChange:h.func};const Qd=t=>{if(typeof t!="string")return null;const[e]=t.split("-"),n=Number(e);return isNaN(n)?null:n},Wb=t=>{const e=Qd(t);try{const[n,r,i]=t.split("-");return Number(r)===1&&Number(i)===1?Number(n)-1:e}catch(n){return console.error(n),e}},w6=()=>{const{systemInfo:t={}}=Jt(),{calendar:e="gregory"}=t,{eraYear:n,year:r}=CT(e),i=["ethiopian","ethiopic"].includes(e)?n:r,[s,o]=O.useState(!1),[a,l]=Gn(),c=Wh(a),[d]=jt(),{data:u}=et(),f=Wt(u,d),p=F0[f==null?void 0:f.periodType],m=(f==null?void 0:f.openFuturePeriods)||0,{show:v}=Ar(P=>P,{warning:!0}),[b,x]=O.useState(Qd(c==null?void 0:c.startDate)||i),T=m6(),[E,S]=O.useState(()=>Wb(T)),C=g6({periodType:p,openFuturePeriods:m,dateLimit:T,year:Om.includes(p)?i:b});O.useEffect(()=>{const P=Qd(c==null?void 0:c.startDate);P&&x(P)},[c==null?void 0:c.startDate]),O.useEffect(()=>{if(p){const P=Wb(T);S(P),Qd(c==null?void 0:c.startDate)||x(i)}},[p,c==null?void 0:c.startDate,T,i]),O.useEffect(()=>{const P=(R,I)=>{v(k.t("The Period ({{id}}) is not open or is invalid.",{id:I||R})),l(void 0)};if(c){const R=c==null?void 0:c.endDate,I=c==null?void 0:c.displayName;Ia({date:R,calendar:e},{date:T,calendar:e},{inclusive:!0})&&P(a,I),(c==null?void 0:c.periodType)!==p&&P(a,c==null?void 0:c.displayName)}else a&&l(void 0)},[c,T,f,a,l,v,p,e]);const M=y6();return w.jsx("div",{"data-test":"period-selector",children:w.jsx(pE,{children:w.jsx(Pa,{disabled:!d,label:k.t("Period"),value:a?M:void 0,open:s,setOpen:o,noValueMessage:k.t("Choose a period"),children:b?w.jsxs(w.Fragment,{children:[!Om.includes(p)&&w.jsx(gE,{maxYear:E,year:b,onYearChange:P=>x(P),calendar:e}),w.jsx(mE,{periods:C,onChange:({selected:P})=>{l(P),o(!1)}})]}):w.jsx("div",{})})})})};function x6(t){const e=O.useRef(!0),[n]=jt(),[r]=Gn(),[i]=dr(),[s]=Ui();O.useEffect(()=>{e.current?e.current=!1:t()},[t,n,i,r,s])}function yE(){const[t]=jt(),e=["dataSets",{id:t,params:{fields:["formType","sections[id,displayName]","renderAsTabs","dataEntryForm[id,htmlCode]"]}}],{isIdle:n,isLoading:r,error:i,data:s}=jr(e,{enabled:!!t,staleTime:1*60*1e3});return{called:!n,data:s,loading:r,error:i}}function _6(){const[t]=Nc(),e=yE();if(!t)return;if(!e.called||e.loading)return k.t("Fetching data set info");if(e.error)return k.t("Error occurred while loading data set info");if(!e.data)return;const{sections:r}=e.data,i=r.find(({id:s})=>s===t);return i==null?void 0:i.displayName}function T6(){const[t]=jt(),[e]=dr(),[n]=Gn(),{data:r}=et(),i=Wt(r,t);return!i||!e||!n||i.formType!=="SECTION"||i.sections.length===0}function E6(){const[t,e]=O.useState(!1),[n,r]=Nc(),i=O.useCallback(()=>r(void 0),[r]),{data:s}=et(),[o]=jt(),a=Wt(s,o),l=_6();if(x6(i),O.useEffect(()=>{const f=a==null?void 0:a.sections;n===void 0&&(f!=null&&f.length)&&r(f[0].id),f&&n&&!f.map(({id:p})=>p).includes(n)&&r(void 0)},[a,n,r]),T6())return null;const d=(a==null?void 0:a.sections.map(({id:f,displayName:p})=>({value:f,label:p})))||[],u=a!=null&&a.renderAsTabs?d:[...d,{value:null,label:k.t("All sections")}];return w.jsx("div",{"data-test":"section-filter-selector",children:w.jsx(Pa,{label:k.t("Section"),value:l,open:t,setOpen:e,noValueMessage:k.t("All sections"),children:w.jsx(nf,{values:u,selected:n,onChange:({selected:f})=>{r(f),e(!1)}})})})}const S6="_hideForPrint_g5zuk_2 _hideForPrint_9lzdq_20",C6={hideForPrint:S6};function D6(){const t=So(),e=Yh(),{printForm:n}=pj(),[r,i]=O.useState(!1),s=a=>()=>{i(!1),n(a)},o=w.jsxs(YD,{children:[e&&w.jsxs(w.Fragment,{children:[w.jsx(Sl,{onClick:s(!1),label:k.t("Print form with values")}),w.jsx(Sl,{onClick:s(!0),label:k.t("Print empty form")}),w.jsx(zD,{})]}),w.jsx(Sl,{label:k.t("Help"),onClick:()=>{t.show(n2),i(!1)}})]});return w.jsx(w.Fragment,{children:w.jsx(mg,{small:!0,open:r,onClick:()=>i(!r),secondary:!0,component:o,children:k.t("Options")})})}const M6="_container_okem4_1",P6={container:M6};function k6(){return w.jsx("div",{className:P6.container,children:w.jsx(D6,{})})}function O6(){const[t]=Yi();return!t.dataSetId&&!t.orgUnitId&&!t.periodId&&!t.attributeOptionComboSelection.length&&!t.sectionFilter}function vE({setSelectionHasNoFormMessage:t}){WL();const{hide:e}=So(),n=O6(),r=PL(),i=()=>{t(""),n||(r(),e())};return w.jsx("div",{className:C6.hideForPrint,children:w.jsxs(E_,{onClearSelectionClick:i,additionalContent:w.jsx(k6,{}),children:[w.jsx(g7,{}),w.jsx(u6,{}),w.jsx(w6,{}),w.jsx(K2,{setSelectionHasNoFormMessage:t}),w.jsx(E6,{})]})})}vE.propTypes={setSelectionHasNoFormMessage:h.func.isRequired};const bE={SECTION:"SECTION",CUSTOM:"CUSTOM"},R6="_placeholder_kka24_1",I6="_lineThrough_kka24_37",N6="_tableWrapper_kka24_41",A6="_rightArrow_kka24_45",j6="_alignToEnd_kka24_49",L6="_timeZoneNote_kka24_53",eo={placeholder:R6,lineThrough:I6,tableWrapper:N6,rightArrow:A6,alignToEnd:j6,timeZoneNote:L6},$6={byParams:({dataElementId:t,periodId:e,orgUnitId:n,categoryOptionIds:r=[],categoryComboId:i,categoryOptionComboId:s})=>["dataEntry/dataValueContext",{params:{de:t,pe:e,ou:n,co:s,cc:i,cp:r.join(";")}}]};function F6(t){return[...t].map((n,r)=>{var s;const i=(n==null?void 0:n.auditType)==="CREATE"||(s=t==null?void 0:t[r+1])==null?void 0:s.value;return{...n,previousValue:i}})}function wE(t,e){const{online:n}=Wi(),[r]=Gn(),[i]=dr(),{attributeCombo:s,attributeOptions:o}=jc(),a=Yh(),l=$6.byParams({dataElementId:t.dataElement,periodId:r,orgUnitId:i,categoryOptionIds:o,categoryComboId:s,categoryOptionComboId:t.categoryOptionCombo});return jr(l,{enabled:e&&n&&a,select:c=>{const{audits:d}=c;return{...c,audits:F6(d)}}})}function B6(t,e){return(t==null?void 0:t.dataElement)!==(e==null?void 0:e.dataElement)||(t==null?void 0:t.categoryOptionCombo)!==(e==null?void 0:e.categoryOptionCombo)||(t==null?void 0:t.value)!==(e==null?void 0:e.value)}function xE(t){const e=O.useRef(null),n=O.useRef(!1),[r,i]=O.useState(!1),s=O.useCallback(o=>{n.current=o,i(o)},[i]);return B6(t,e.current)&&(e.current&&r&&s(!1),e.current=t),{open:r,setOpen:s,openRef:n}}const nl=k.t("Audit log");function _E({item:t}){var u,f,p;const{offline:e}=Wi(),{open:n,setOpen:r,openRef:i}=xE(t),s=wE(t,i.current),o=(f=(u=Intl.DateTimeFormat())==null?void 0:u.resolvedOptions())==null?void 0:f.timeZone,{systemInfo:a={}}=Jt(),{calendar:l="gregory"}=a;if(!e&&(!n||s.isLoading))return w.jsx(on,{title:nl,open:n,onToggle:r,children:w.jsx(xs,{small:!0})});if(!e&&s.error)return w.jsx(on,{title:nl,open:n,onToggle:r,children:w.jsx(kr,{title:k.t("Something went wrong loading the audit log"),children:w.jsx("p",{children:s.error.toString()})})});if(e&&!s.data)return w.jsx(Nt,{content:k.t("Not available offline"),children:w.jsx(on,{disabled:!0,title:nl,open:!1,onToggle:()=>null})});const c=((p=s.data)==null?void 0:p.audits)||[];return!Array.isArray(c)||c.length===0?w.jsx(on,{title:nl,open:n,onToggle:r,children:w.jsx("p",{className:eo.placeholder,children:k.t("No audit log for this data item.")})}):w.jsx(on,{title:nl,open:n,onToggle:r,children:w.jsxs("div",{className:eo.tableWrapper,children:[w.jsxs(g0,{children:[w.jsx(f0,{children:w.jsxs(bu,{children:[w.jsx(Ol,{children:k.t("Date")}),w.jsx(Ol,{children:k.t("User")}),w.jsx(Ol,{children:k.t("Change")})]})}),w.jsx(vh,{children:c.map(m=>{const{modifiedBy:v,previousValue:b,value:x,created:T,auditType:E,dataElement:S,categoryOptionCombo:C,period:M,orgUnit:P}=m,R=[pe.DATETIME,pe.DATE].includes(t.valueType)?fa(x,l):x,I=[pe.DATETIME,pe.DATE].includes(t.valueType)?fa(b,l):b,U=`${S}-${M}-${P}-${C}-${T}`;return w.jsxs(bu,{children:[w.jsx(Pl,{children:T?w.jsx(Uh,{date:T,includeTimeZone:!1}):null}),w.jsx(Pl,{children:v}),w.jsx(Pl,{children:w.jsxs("div",{children:[E==="DELETE"&&w.jsx(TE,{value:R}),["UPDATE","CREATE"].includes(E)&&w.jsx(EE,{value:R,previousValue:I})]})})]},U)})})]}),c.length>0&&w.jsx("div",{className:eo.timeZoneNote,children:k.t("audit dates are given in {{- timeZone}} time",{timeZone:o})})]})})}_E.propTypes={item:h.shape({categoryOptionCombo:h.string.isRequired,dataElement:h.string.isRequired,comment:h.string,valueType:h.string}).isRequired};function TE({value:t}){return w.jsx(wu,{negative:!0,className:eo.lineThrough,children:t})}TE.propTypes={value:h.string.isRequired};function EE({value:t,previousValue:e}){return w.jsxs("div",{className:eo.alignToEnd,children:[e&&w.jsx(wu,{children:e}),k.dir()==="rtl"?w.jsx("span",{className:eo.rightArrow,children:""}):w.jsx("span",{className:eo.rightArrow,children:""}),w.jsx(wu,{children:t})]})}EE.propTypes={value:h.string.isRequired,previousValue:h.string};const SE=h.shape({categoryOptionCombo:h.string,code:h.string,comment:h.string,dataElement:h.string,followUp:h.bool,lastUpdated:h.string,name:h.string,storedBy:h.string,value:h.any}),CE=({item:t})=>{const e=ja(),n=!(t!=null&&t.value),r=bi({deId:t==null?void 0:t.dataElement,cocId:t==null?void 0:t.categoryOptionCombo}),i=async()=>{await r.mutate({followUp:!0})},s=async()=>{await r.mutate({followUp:!1})};if(t!=null&&t.followUp)return w.jsx(We,{small:!0,secondary:!0,onClick:s,children:k.t("Unmark for follow-up")});const o=n||!e,a=w.jsx(We,{secondary:!0,icon:w.jsx(sx,{color:y.grey600}),onClick:i,disabled:o,children:k.t("Mark for follow-up")});return n?w.jsx(Nt,{"data-testid":"custom-element",content:k.t("Empty values can't be marked for follow -up"),children:a}):e?w.jsx(w.Fragment,{children:a}):w.jsx(Nt,{content:k.t("You do not have the authority to mark this value for follow -up"),children:a})};CE.propTypes={item:SE};const U6="_unit_18g69_1",Y6="_title_18g69_6",z6="_elements_18g69_16",W6="_markedForFollowup_18g69_29",ud={unit:U6,title:Y6,elements:z6,markedForFollowup:W6},DE=({item:t})=>{const{systemInfo:e={}}=Jt(),{serverTimeZoneId:n="Etc/UTC"}=e,r=jT({startDate:t.lastUpdated,calendar:"gregory",timezone:n});return w.jsxs("div",{className:ud.unit,children:[w.jsxs("h1",{className:ud.title,children:[t.displayFormName,t.categoryOptionComboName&&` | ${t.categoryOptionComboName}`]}),w.jsxs("ul",{className:ud.elements,children:[t.description&&w.jsx("li",{children:k.t("Description: {{- description}}",{description:t.description,nsSeparator:"-:-"})}),t.code&&w.jsx("li",{children:k.t("Code: {{code}}",{code:t.code,nsSeparator:"-:-"})}),w.jsx("li",{children:k.t("Data element ID: {{id}}",{id:t.dataElement,nsSeparator:"-:-"})}),w.jsx("li",{children:k.t("Category option combo ID: {{id}}",{id:t.categoryOptionCombo,nsSeparator:"-:-"})}),w.jsx("li",{children:t.lastUpdated&&w.jsx(Nt,{content:w.jsx(Uh,{date:t.lastUpdated}),children:k.t("Last updated {{- timeAgo}} by {{- name}}",{timeAgo:r,name:t.storedBy})})}),t.followUp?w.jsxs("li",{className:ud.markedForFollowup,children:[w.jsx(ix,{color:y.yellow700}),k.t("Marked for follow-up")]}):null]}),w.jsx(CE,{item:t})]})};DE.propTypes={item:SE.isRequired};const H6="_comment_1mg4p_1",q6="_placeholder_1mg4p_2",V6="_textArea_1mg4p_21",Q6="_commentOptionSelect_1mg4p_25",K6="_errorWrapper_1mg4p_29",ea={comment:H6,placeholder:q6,textArea:V6,commentOptionSelect:Q6,errorWrapper:K6},ME=({title:t})=>w.jsx(kr,{error:!0,title:t,children:k.t("Try again, or contact your system administrator.")});ME.propTypes={title:h.string.isRequired};const PE=k.t("Comment"),G6=k.t("There was a problem updating the comment for this data item"),kE=({commentOptionSetId:t,inputOnChange:e})=>{var s;const{data:n}=et(),r=UT(n,t),i=(s=r==null?void 0:r.options)==null?void 0:s.filter(o=>!!o);return(i==null?void 0:i.length)>0?w.jsx(Ju,{placeholder:k.t("Choose an option"),onChange:({selected:o})=>{var a;e((a=i.find(l=>l.code===o))==null?void 0:a.displayName)},className:ea.commentOptionSelect,children:i.map(({id:o,code:a,displayName:l})=>w.jsx(eh,{label:l,value:a},o))}):null};kE.propTypes={commentOptionSetId:h.string,inputOnChange:h.func};const OE=({fieldName:t,comment:e,commentOptionSetId:n,onBlur:r,unsavedComment:i})=>{const{input:s,meta:o}=Yp(t,{subscription:{value:!0},initialValue:i||e||""});return w.jsxs(w.Fragment,{children:[n&&w.jsx(kE,{commentOptionSetId:n,inputOnChange:s.onChange}),w.jsx(Xx,{onBlur:r,input:s,meta:o,className:ea.textArea})]})};OE.propTypes={comment:h.string,commentOptionSetId:h.string,fieldName:h.string,unsavedComment:h.string,onBlur:h.func};function RE({item:t,open:e,setOpen:n,syncComment:r,closeEditor:i,unsavedComment:s,commentId:o,isError:a}){const l=Ac(),c=Gh({contextSelectionId:l,item:t}),d=ma(b=>b.setUnsavedComment),u=ma(b=>b.deleteUnsavedComment),f=`comment_${o}`,p=async b=>{try{const x=b[f]||"";await r({comment:x}),u(c),i()}catch(x){console.error(x)}},m=({value:b})=>{d(c,b)},v=()=>{i(),u(c)};return w.jsxs(on,{title:PE,open:e,onToggle:n,children:[w.jsx(yx,{onSubmit:p,children:({handleSubmit:b,submitting:x})=>w.jsxs("form",{onSubmit:b,children:[w.jsx(OE,{fieldName:f,comment:t==null?void 0:t.comment,commentOptionSetId:t==null?void 0:t.commentOptionSetId,onBlur:m,unsavedComment:s}),w.jsxs(ug,{children:[w.jsx(We,{small:!0,primary:!0,type:"submit",loading:x,children:x?k.t("Saving..."):k.t("Save comment")}),w.jsx(We,{small:!0,secondary:!0,disabled:x,onClick:v,children:k.t("Cancel")})]})]})}),a&&w.jsx("div",{className:ea.errorWrapper,children:w.jsx(ME,{title:G6})})]})}RE.propTypes={closeEditor:h.func.isRequired,commentId:h.string.isRequired,item:h.shape({categoryOptionCombo:h.string.isRequired,dataElement:h.string.isRequired,comment:h.string,commentOptionSetId:h.string}).isRequired,open:h.bool.isRequired,setOpen:h.func.isRequired,syncComment:h.func.isRequired,isError:h.bool,unsavedComment:h.string};function IE({item:t}){const e=ja(),{locked:n}=Fa(),[r,i]=O.useState(!0),[s,o]=O.useState(!1),a=bi({deId:t.dataElement,cocId:t.categoryOptionCombo}),l=Ac(),c=Gh({contextSelectionId:l,item:t}),d=ma(f=>f.getUnsavedComment(c));if(O.useEffect(()=>{o(!1)},[t]),s||d)return w.jsx(RE,{item:t,open:r,setOpen:i,syncComment:a.mutateAsync,closeEditor:()=>o(!1),unsavedComment:d,commentId:c,isError:a.isError});const u=w.jsx(We,{small:!0,secondary:!0,onClick:()=>o(!0),disabled:!e||n,children:t.comment?k.t("Edit comment"):k.t("Add comment")});return w.jsxs(on,{title:PE,open:r,onToggle:i,children:[t.comment&&w.jsx("pre",{className:ea.comment,children:t.comment}),!t.comment&&w.jsx("p",{className:t.comment?ea.comment:ea.placeholder,children:k.t("No comment for this data item.")}),!e&&w.jsx(Nt,{content:k.t("You do not have the authority to add or edit comments"),children:u}),e&&u]})}IE.propTypes={item:h.shape({categoryOptionCombo:h.string.isRequired,dataElement:h.string.isRequired,comment:h.string,commentOptionSetId:h.string}).isRequired};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function Ti(){}const Z6=function(){let t=0;return function(){return t++}}();function qe(t){return t===null||typeof t>"u"}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ze(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}const _n=t=>(typeof t=="number"||t instanceof Number)&&isFinite(+t);function _r(t,e){return _n(t)?t:e}function Me(t,e){return typeof t>"u"?e:t}const X6=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:t/e,NE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function dt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ge(t,e,n,r){let i,s,o;if(_t(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(ze(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function Iu(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Nu(t){if(_t(t))return t.map(Nu);if(ze(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Nu(t[n[i]]);return e}return t}function AE(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function J6(t,e,n,r){if(!AE(t))return;const i=e[t],s=n[t];ze(i)&&ze(s)?nc(i,s,r):e[t]=Nu(s)}function nc(t,e,n){const r=_t(e)?e:[e],i=r.length;if(!ze(t))return t;n=n||{};const s=n.merger||J6;for(let o=0;o<i;++o){if(e=r[o],!ze(e))continue;const a=Object.keys(e);for(let l=0,c=a.length;l<c;++l)s(a[l],t,e,n)}return t}function Al(t,e){return nc(t,e,{merger:eB})}function eB(t,e,n){if(!AE(t))return;const r=e[t],i=n[t];ze(r)&&ze(i)?Al(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Nu(i))}const Hb={"":t=>t,x:t=>t.x,y:t=>t.y};function bs(t,e){return(Hb[e]||(Hb[e]=tB(e)))(t)}function tB(t){const e=nB(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function nB(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function X0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ir=t=>typeof t<"u",ws=t=>typeof t=="function",qb=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function rB(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const St=Math.PI,st=2*St,iB=st+St,Au=Number.POSITIVE_INFINITY,sB=St/180,It=St/2,rl=St/4,Vb=St*2/3,Cr=Math.log10,ci=Math.sign;function Qb(t){const e=Math.round(t);t=jl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Cr(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function oB(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function ya(t){return!isNaN(parseFloat(t))&&isFinite(t)}function jl(t,e,n){return Math.abs(t-e)<n}function aB(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function jE(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function qr(t){return t*(St/180)}function J0(t){return t*(180/St)}function Kb(t){if(!_n(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function LE(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*St&&(s+=st),{angle:s,distance:i}}function Fm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function lB(t,e){return(t-e+iB)%st-St}function Hr(t){return(t%st+st)%st}function rc(t,e,n,r){const i=Hr(t),s=Hr(e),o=Hr(n),a=Hr(s-i),l=Hr(o-i),c=Hr(i-s),d=Hr(i-o);return i===s||i===o||r&&s===o||a>l&&c<d}function Pn(t,e,n){return Math.max(e,Math.min(n,t))}function cB(t){return Pn(t,-32768,32767)}function as(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function ey(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Hs=(t,e,n,r)=>ey(t,n,r?i=>t[i][e]<=n:i=>t[i][e]<n),dB=(t,e,n)=>ey(t,n,r=>t[r][e]>=n);function uB(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const $E=["push","pop","shift","splice","unshift"];function hB(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$E.forEach(n=>{const r="_onData"+X0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function Gb(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&($E.forEach(s=>{delete t[s]}),delete t._chartjs)}function FE(t){const e=new Set;let n,r;for(n=0,r=t.length;n<r;++n)e.add(t[n]);return e.size===r?t:Array.from(e)}const BE=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function UE(t,e,n){const r=n||(o=>Array.prototype.slice.call(o));let i=!1,s=[];return function(...o){s=r(o),i||(i=!0,BE.call(window,()=>{i=!1,t.apply(e,s)}))}}function fB(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ty=t=>t==="start"?"left":t==="end"?"right":"center",Dn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,pB=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function YE(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:d,minDefined:u,maxDefined:f}=o.getUserBounds();u&&(i=Pn(Math.min(Hs(a,o.axis,c).lo,n?r:Hs(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=Pn(Math.max(Hs(a,o.axis,d,!0).hi+1,n?0:Hs(e,l,o.getPixelForValue(d),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function zE(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const hd=t=>t===0||t===1,Zb=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),Xb=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,Ll={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*It)+1,easeOutSine:t=>Math.sin(t*It),easeInOutSine:t=>-.5*(Math.cos(St*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>hd(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hd(t)?t:Zb(t,.075,.3),easeOutElastic:t=>hd(t)?t:Xb(t,.075,.3),easeInOutElastic(t){return hd(t)?t:t<.5?.5*Zb(t*2,.1125,.45):.5+.5*Xb(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ll.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ll.easeInBounce(t*2)*.5:Ll.easeOutBounce(t*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function Bc(t){return t+.5|0}const ls=(t,e,n)=>Math.max(Math.min(t,n),e);function _l(t){return ls(Bc(t*2.55),0,255)}function us(t){return ls(Bc(t*255),0,255)}function ki(t){return ls(Bc(t/2.55)/100,0,1)}function Jb(t){return ls(Bc(t*100),0,100)}const wr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bm=[..."0123456789ABCDEF"],mB=t=>Bm[t&15],gB=t=>Bm[(t&240)>>4]+Bm[t&15],fd=t=>(t&240)>>4===(t&15),yB=t=>fd(t.r)&&fd(t.g)&&fd(t.b)&&fd(t.a);function vB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&wr[t[1]]*17,g:255&wr[t[2]]*17,b:255&wr[t[3]]*17,a:e===5?wr[t[4]]*17:255}:(e===7||e===9)&&(n={r:wr[t[1]]<<4|wr[t[2]],g:wr[t[3]]<<4|wr[t[4]],b:wr[t[5]]<<4|wr[t[6]],a:e===9?wr[t[7]]<<4|wr[t[8]]:255})),n}const bB=(t,e)=>t<255?e(t):"";function wB(t){var e=yB(t)?mB:gB;return t?"#"+e(t.r)+e(t.g)+e(t.b)+bB(t.a,e):void 0}const xB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function WE(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function _B(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function TB(t,e,n){const r=WE(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function EB(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function ny(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=EB(n,r,i,d,s),l=l*60+.5),[l|0,c||0,a]}function ry(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(us)}function iy(t,e,n){return ry(WE,t,e,n)}function SB(t,e,n){return ry(TB,t,e,n)}function CB(t,e,n){return ry(_B,t,e,n)}function HE(t){return(t%360+360)%360}function DB(t){const e=xB.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?_l(+e[5]):us(+e[5]));const i=HE(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=SB(i,s,o):e[1]==="hsv"?r=CB(i,s,o):r=iy(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function MB(t,e){var n=ny(t);n[0]=HE(n[0]+e),n=iy(n),t.r=n[0],t.g=n[1],t.b=n[2]}function PB(t){if(!t)return;const e=ny(t),n=e[0],r=Jb(e[1]),i=Jb(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ki(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const e1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},t1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function kB(){const t={},e=Object.keys(t1),n=Object.keys(e1);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,e1[s]);s=parseInt(t1[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let pd;function OB(t){pd||(pd=kB(),pd.transparent=[0,0,0,0]);const e=pd[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function IB(t){const e=RB.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?_l(o):ls(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?_l(r):ls(r,0,255)),i=255&(e[4]?_l(i):ls(i,0,255)),s=255&(e[6]?_l(s):ls(s,0,255)),{r,g:i,b:s,a:n}}}function NB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const cp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Lo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function AB(t,e,n){const r=Lo(ki(t.r)),i=Lo(ki(t.g)),s=Lo(ki(t.b));return{r:us(cp(r+n*(Lo(ki(e.r))-r))),g:us(cp(i+n*(Lo(ki(e.g))-i))),b:us(cp(s+n*(Lo(ki(e.b))-s))),a:t.a+n*(e.a-t.a)}}function md(t,e,n){if(t){let r=ny(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=iy(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function qE(t,e){return t&&Object.assign(e||{},t)}function n1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=us(t[3]))):(e=qE(t,{r:0,g:0,b:0,a:1}),e.a=us(e.a)),e}function jB(t){return t.charAt(0)==="r"?IB(t):DB(t)}class ju{constructor(e){if(e instanceof ju)return e;const n=typeof e;let r;n==="object"?r=n1(e):n==="string"&&(r=vB(e)||OB(e)||jB(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=qE(this._rgb);return e&&(e.a=ki(e.a)),e}set rgb(e){this._rgb=n1(e)}rgbString(){return this._valid?NB(this._rgb):void 0}hexString(){return this._valid?wB(this._rgb):void 0}hslString(){return this._valid?PB(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=AB(this._rgb,e._rgb,n)),this}clone(){return new ju(this.rgb)}alpha(e){return this._rgb.a=us(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Bc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return md(this._rgb,2,e),this}darken(e){return md(this._rgb,2,-e),this}saturate(e){return md(this._rgb,1,e),this}desaturate(e){return md(this._rgb,1,-e),this}rotate(e){return MB(this._rgb,e),this}}function VE(t){return new ju(t)}function QE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function r1(t){return QE(t)?t:VE(t)}function dp(t){return QE(t)?t:VE(t).saturate(.5).darken(.1).hexString()}const uo=Object.create(null),Um=Object.create(null);function $l(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function up(t,e,n){return typeof e=="string"?nc($l(t,e),n):nc($l(t,""),e)}class LB{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>dp(r.backgroundColor),this.hoverBorderColor=(n,r)=>dp(r.borderColor),this.hoverColor=(n,r)=>dp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,n){return up(this,e,n)}get(e){return $l(this,e)}describe(e,n){return up(Um,e,n)}override(e,n){return up(uo,e,n)}route(e,n,r,i){const s=$l(this,e),o=$l(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ze(l)?Object.assign({},c,l):Me(l,c)},set(l){this[a]=l}}})}}var Fe=new LB({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function $B(t){return!t||qe(t.size)||qe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Lu(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function FB(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,d,u,f;for(l=0;l<a;l++)if(u=n[l],u!=null&&_t(u)!==!0)o=Lu(t,i,s,o,u);else if(_t(u))for(c=0,d=u.length;c<d;c++)f=u[c],f!=null&&!_t(f)&&(o=Lu(t,i,s,o,f));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function ks(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function i1(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ym(t,e,n,r){KE(t,e,n,r,null)}function KE(t,e,n,r,i){let s,o,a,l,c,d;const u=e.pointStyle,f=e.rotation,p=e.radius;let m=(f||0)*sB;if(u&&typeof u=="object"&&(s=u.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(m),t.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),u){default:i?t.ellipse(n,r,i/2,p,0,0,st):t.arc(n,r,p,0,st),t.closePath();break;case"triangle":t.moveTo(n+Math.sin(m)*p,r-Math.cos(m)*p),m+=Vb,t.lineTo(n+Math.sin(m)*p,r-Math.cos(m)*p),m+=Vb,t.lineTo(n+Math.sin(m)*p,r-Math.cos(m)*p),t.closePath();break;case"rectRounded":c=p*.516,l=p-c,o=Math.cos(m+rl)*l,a=Math.sin(m+rl)*l,t.arc(n-o,r-a,c,m-St,m-It),t.arc(n+a,r-o,c,m-It,m),t.arc(n+o,r+a,c,m,m+It),t.arc(n-a,r+o,c,m+It,m+St),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*p,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}m+=rl;case"rectRot":o=Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+a,r-o),t.lineTo(n+o,r+a),t.lineTo(n-a,r+o),t.closePath();break;case"crossRot":m+=rl;case"cross":o=Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"star":o=Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o),m+=rl,o=Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a),t.moveTo(n+a,r-o),t.lineTo(n-a,r+o);break;case"line":o=i?i/2:Math.cos(m)*p,a=Math.sin(m)*p,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*p,r+Math.sin(m)*p);break}t.fill(),e.borderWidth>0&&t.stroke()}}function ic(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function sy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function oy(t){t.restore()}function BB(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function UB(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function ho(t,e,n,r,i,s={}){const o=_t(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,YB(t,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),qe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),zB(t,n,r,c,s),r+=i.lineHeight;t.restore()}function YB(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),qe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function zB(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function sc(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-It,St,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,St,It,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,It,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-It,!0),t.lineTo(n+o.topLeft,r)}const WB=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),HB=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function qB(t,e){const n=(""+t).match(WB);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const VB=t=>+t||0;function ay(t,e){const n={},r=ze(e),i=r?Object.keys(e):e,s=ze(t)?r?o=>Me(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=VB(s(o));return n}function GE(t){return ay(t,{top:"y",right:"x",bottom:"y",left:"x"})}function to(t){return ay(t,["topLeft","topRight","bottomLeft","bottomRight"])}function On(t){const e=GE(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Zt(t,e){t=t||{},e=e||Fe.font;let n=Me(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Me(t.style,e.style);r&&!(""+r).match(HB)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Me(t.family,e.family),lineHeight:qB(Me(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Me(t.weight,e.weight),string:""};return i.string=$B(i),i}function gd(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function QB(t,e,n){const{min:r,max:i}=t,s=NE(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Es(t,e){return Object.assign(Object.create(t),e)}function ly(t,e=[""],n=t,r,i=()=>t[0]){Ir(r)||(r=eS("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:r,_getTarget:i,override:o=>ly([o,...t],e,n,r)};return new Proxy(s,{deleteProperty(o,a){return delete o[a],delete o._keys,delete t[0][a],!0},get(o,a){return XE(o,a,()=>nU(a,e,t,o))},getOwnPropertyDescriptor(o,a){return Reflect.getOwnPropertyDescriptor(o._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,a){return o1(o).includes(a)},ownKeys(o){return o1(o)},set(o,a,l){const c=o._storage||(o._storage=i());return o[a]=c[a]=l,delete o._keys,!0}})}function va(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:ZE(t,r),setContext:s=>va(t,s,n,r),override:s=>va(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return XE(s,o,()=>GB(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function ZE(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ws(n)?n:()=>n,isIndexable:ws(r)?r:()=>r}}const KB=(t,e)=>t?t+X0(e):e,cy=(t,e)=>ze(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function XE(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function GB(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return ws(a)&&o.isScriptable(e)&&(a=ZB(e,a,t,n)),_t(a)&&a.length&&(a=XB(e,a,t,o.isIndexable)),cy(e,a)&&(a=va(a,i,s&&s[e],o)),a}function ZB(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||r),a.delete(t),cy(t,e)&&(e=dy(i._scopes,i,t,e)),e}function XB(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(Ir(s.index)&&r(t))e=e[s.index%e.length];else if(ze(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const u=dy(c,i,t,d);e.push(va(u,s,o&&o[t],a))}}return e}function JE(t,e,n){return ws(t)?t(e,n):t}const JB=(t,e)=>t===!0?e:typeof t=="string"?bs(e,t):void 0;function eU(t,e,n,r,i){for(const s of e){const o=JB(n,s);if(o){t.add(o);const a=JE(o._fallback,n,i);if(Ir(a)&&a!==n&&a!==r)return a}else if(o===!1&&Ir(r)&&n!==r)return null}return!1}function dy(t,e,n,r){const i=e._rootScopes,s=JE(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=s1(a,o,n,s||n,r);return l===null||Ir(s)&&s!==n&&(l=s1(a,o,s,l,r),l===null)?!1:ly(Array.from(a),[""],i,s,()=>tU(e,n,r))}function s1(t,e,n,r,i){for(;n;)n=eU(t,e,n,r,i);return n}function tU(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return _t(i)&&ze(n)?n:i}function nU(t,e,n,r){let i;for(const s of e)if(i=eS(KB(s,t),n),Ir(i))return cy(t,i)?dy(n,r,t,i):i}function eS(t,e){for(const n of e){if(!n)continue;const r=n[t];if(Ir(r))return r}}function o1(t){let e=t._keys;return e||(e=t._keys=rU(t._scopes)),e}function rU(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function tS(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,d;for(a=0,l=r;a<l;++a)c=a+n,d=e[c],o[a]={r:i.parse(bs(d,s),c)};return o}const iU=Number.EPSILON||1e-14,ba=(t,e)=>e<t.length&&!t[e].skip&&t[e],nS=t=>t==="x"?"y":"x";function sU(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Fm(s,i),l=Fm(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,f=r*d;return{previous:{x:s.x-u*(o.x-i.x),y:s.y-u*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function oU(t,e,n){const r=t.length;let i,s,o,a,l,c=ba(t,0);for(let d=0;d<r-1;++d)if(l=c,c=ba(t,d+1),!(!l||!c)){if(jl(e[d],0,iU)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=s*o*e[d])}}function aU(t,e,n="x"){const r=nS(n),i=t.length;let s,o,a,l=ba(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ba(t,c+1),!a)continue;const d=a[n],u=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=u-s*e[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=u+s*e[c])}}function lU(t,e="x"){const n=nS(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=ba(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=ba(t,o+1),!!l){if(c){const d=c[e]-l[e];i[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?ci(i[o-1])!==ci(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}oU(t,i,s),aU(t,s,e)}function yd(t,e,n){return Math.max(Math.min(t,n),e)}function cU(t,e){let n,r,i,s,o,a=ic(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&ic(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=yd(i.cp1x,e.left,e.right),i.cp1y=yd(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=yd(i.cp2x,e.left,e.right),i.cp2y=yd(i.cp2y,e.top,e.bottom)))}function dU(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")lU(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=sU(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&cU(t,n)}function rS(){return typeof window<"u"&&typeof document<"u"}function uy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $u(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const rf=t=>window.getComputedStyle(t,null);function uU(t,e){return rf(t).getPropertyValue(e)}const hU=["top","right","bottom","left"];function no(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=hU[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const fU=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function pU(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(fU(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ns(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=rf(n),s=i.boxSizing==="border-box",o=no(i,"padding"),a=no(i,"border","width"),{x:l,y:c,box:d}=pU(t,n),u=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:m}=e;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-u)/p*n.width/r),y:Math.round((c-f)/m*n.height/r)}}function mU(t,e,n){let r,i;if(e===void 0||n===void 0){const s=uy(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=rf(s),l=no(a,"border","width"),c=no(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=$u(a.maxWidth,s,"clientWidth"),i=$u(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Au,maxHeight:i||Au}}const hp=t=>Math.round(t*10)/10;function gU(t,e,n,r){const i=rf(t),s=no(i,"margin"),o=$u(i.maxWidth,t,"clientWidth")||Au,a=$u(i.maxHeight,t,"clientHeight")||Au,l=mU(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const u=no(i,"border","width"),f=no(i,"padding");c-=f.width+u.width,d-=f.height+u.height}return c=Math.max(0,c-s.width),d=Math.max(0,r?Math.floor(c/r):d-s.height),c=hp(Math.min(c,o,l.maxWidth)),d=hp(Math.min(d,a,l.maxHeight)),c&&!d&&(d=hp(c/2)),{width:c,height:d}}function a1(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=i/r,t.width=s/r;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const yU=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function l1(t,e){const n=uU(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function As(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function vU(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function bU(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=As(t,i,n),a=As(i,s,n),l=As(s,e,n),c=As(o,a,n),d=As(a,l,n);return As(c,d,n)}const c1=new Map;function wU(t,e){e=e||{};const n=t+JSON.stringify(e);let r=c1.get(n);return r||(r=new Intl.NumberFormat(t,e),c1.set(n,r)),r}function Uc(t,e,n){return wU(e,n).format(t)}const xU=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},_U=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ta(t,e,n){return t?xU(e,n):_U()}function iS(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function sS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function oS(t){return t==="angle"?{between:rc,compare:lB,normalize:Hr}:{between:as,compare:(e,n)=>e-n,normalize:e=>e}}function d1({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function TU(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=oS(r),l=e.length;let{start:c,end:d,loop:u}=t,f,p;if(u){for(c+=l,d+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),i,s);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:t.style}}function EU(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=oS(r),{start:d,end:u,loop:f,style:p}=TU(t,e,n),m=[];let v=!1,b=null,x,T,E;const S=()=>l(i,E,x)&&a(i,E)!==0,C=()=>a(s,x)===0||l(s,E,x),M=()=>v||S(),P=()=>!v||C();for(let R=d,I=d;R<=u;++R)T=e[R%o],!T.skip&&(x=c(T[r]),x!==E&&(v=l(x,i,s),b===null&&M()&&(b=a(x,i)===0?R:I),b!==null&&P()&&(m.push(d1({start:b,end:R,loop:f,count:o,style:p})),b=null),I=R,E=x));return b!==null&&m.push(d1({start:b,end:u,loop:f,count:o,style:p})),m}function SU(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=EU(r[i],t.points,e);s.length&&n.push(...s)}return n}function CU(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function DU(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function MU(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=CU(n,i,s,r);if(r===!0)return u1(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return u1(t,DU(n,o,l,c),n,e)}function u1(t,e,n,r){return!r||!r.setContext||!n?e:PU(t,e,n,r)}function PU(t,e,n,r){const i=t._chart.getContext(),s=h1(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=s,u=e[0].start,f=u;function p(m,v,b,x){const T=a?-1:1;if(m!==v){for(m+=l;n[m%l].skip;)m-=T;for(;n[v%l].skip;)v+=T;m%l!==v%l&&(c.push({start:m%l,end:v%l,loop:b,style:x}),d=x,u=v%l)}}for(const m of e){u=a?u:m.start;let v=n[u%l],b;for(f=u+1;f<=m.end;f++){const x=n[f%l];b=h1(r.setContext(Es(i,{type:"segment",p0:v,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),kU(b,d)&&p(u,f-1,m.loop,d),v=x,d=b}u<f-1&&p(u,f-1,m.loop,d)}return c}function h1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function kU(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class OU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=BE.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ci=new OU;const f1="transparent",RU={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=r1(t||f1),i=r.valid&&r1(e||f1);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class IU{constructor(e,n,r,i){const s=n[r];i=gd([e.to,i,s,e.from]);const o=gd([e.from,s,i]);this._active=!0,this._fn=e.fn||RU[e.type||typeof o],this._easing=Ll[e.easing]||Ll.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=gd([e.to,n,i,e.from]),this._from=gd([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}const NU=["x","y","borderWidth","radius","tension"],AU=["color","borderColor","backgroundColor"];Fe.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jU=Object.keys(Fe.animation);Fe.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"});Fe.set("animations",{colors:{type:"color",properties:AU},numbers:{type:"number",properties:NU}});Fe.describe("animations",{_fallback:"animation"});Fe.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}});class aS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ze(e))return;const n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!ze(i))return;const s={};for(const o of jU)s[o]=i[o];(_t(i.properties)&&i.properties||[r]).forEach(o=>{(o===r||!n.has(o))&&n.set(o,s)})})}_animateOptions(e,n){const r=n.options,i=$U(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&LU(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let u=s[c];const f=r.get(c);if(u)if(f&&u.active()){u.update(f,d,a);continue}else u.cancel();if(!f||!f.duration){e[c]=d;continue}s[c]=u=new IU(f,e,c,d),i.push(u)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ci.add(this._chart,r),!0}}function LU(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function $U(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function p1(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function FU(t,e,n){if(n===!1)return!1;const r=p1(t,n),i=p1(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function BU(t){let e,n,r,i;return ze(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function lS(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function m1(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],_n(c)&&(s||e===0||ci(e)===ci(c))&&(e+=c)}return e}}function UU(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function g1(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function YU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function zU(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function WU(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function y1(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function v1(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,d=YU(s,o,r),u=e.length;let f;for(let p=0;p<u;++p){const m=e[p],{[l]:v,[c]:b}=m,x=m._stacks||(m._stacks={});f=x[c]=WU(i,d,v),f[a]=b,f._top=y1(f,o,!0,r.type),f._bottom=y1(f,o,!1,r.type)}}function fp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function HU(t,e){return Es(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qU(t,e,n){return Es(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function il(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n]}}}const pp=t=>t==="reset"||t==="none",b1=(t,e)=>e?t:Object.assign({},t),VU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:lS(n,!0),values:null};class Kr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=g1(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&il(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(u,f,p,m)=>u==="x"?f:u==="r"?m:p,s=n.xAxisID=Me(r.xAxisID,fp(e,"x")),o=n.yAxisID=Me(r.yAxisID,fp(e,"y")),a=n.rAxisID=Me(r.rAxisID,fp(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),d=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Gb(this._data,this),e._stacked&&il(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ze(n))this._data=UU(n);else if(r!==n){if(r){Gb(r,this);const i=this._cachedMeta;il(i),i._parsed=[]}n&&Object.isExtensible(n)&&hB(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=g1(n.vScale,n),n.stack!==r.stack&&(i=!0,il(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&v1(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,u,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{_t(i[e])?f=this.parseArrayData(r,i,e,n):ze(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>u[a]===null||c&&u[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=u=f[d],l&&(p()&&(l=!1),c=u);r._sorted=l}o&&v1(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,u=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+r,u[f]={[a]:d||s.parse(c[m],m),[l]:o.parse(n[m],m)};return u}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,d,u;for(l=0,c=i;l<c;++l)d=l+r,u=n[d],a[l]={x:s.parse(u[0],d),y:o.parse(u[1],d)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,u,f,p;for(d=0,u=i;d<u;++d)f=d+r,p=n[f],c[d]={x:s.parse(bs(p,a),f),y:o.parse(bs(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:lS(i,!0),values:n._stacks[e.axis]};return m1(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=m1(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=VU(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:u}=zU(a);let f,p;function m(){p=i[f];const v=p[a.axis];return!_n(p[e.axis])||d>v||u<v}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],_n(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=BU(Me(this.options.clip,FU(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const u=i[d];u.hidden||(u.active&&c?o.push(u):u.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=qU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=HU(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Ir(r);if(a)return b1(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Fe.elements[e]),m=()=>this.getContext(r,i),v=c.resolveNamedOptions(f,p,m,u);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(b1(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,u=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),u);l=d.createResolver(f,this.getContext(e,r,n))}const c=new aS(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||pp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){pp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!pp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&il(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Kr.defaults={};Kr.prototype.datasetElementType=null;Kr.prototype.dataElementType=null;function QU(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=FE(r.sort((i,s)=>i-s))}return t._cache.$bar}function KU(t){const e=t.iScale,n=QU(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Ir(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function GU(t,e,n,r){const i=n.barThickness;let s,o;return qe(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function ZU(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function XU(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function cS(t,e,n,r){return _t(t)?XU(t,e,n,r):e[n.axis]=n.parse(t,r),e}function w1(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,d,u,f;for(c=n,d=n+r;c<d;++c)f=e[c],u={},u[i.axis]=a||i.parse(o[c],c),l.push(cS(f,u,s,c));return l}function mp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function JU(t,e,n){return t!==0?ci(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function eY(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function tY(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=eY(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=d:(s[x1(d,o,a,l)]=!0,i=c)),s[x1(i,o,a,l)]=!0,t.borderSkipped=s}function x1(t,e,n,r){return r?(t=nY(t,e,n),t=_1(t,n,e)):t=_1(t,e,n),t}function nY(t,e,n){return t===e?n:t===n?e:t}function _1(t,e,n){return t==="start"?e:t==="end"?n:t}function rY(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class hy extends Kr{parsePrimitiveData(e,n,r,i){return w1(e,n,r,i)}parseArrayData(e,n,r,i){return w1(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,d=o.axis==="x"?a:l,u=[];let f,p,m,v;for(f=r,p=r+i;f<p;++f)v=n[f],m={},m[s.axis]=s.parse(bs(v,c),f),u.push(cS(bs(v,d),m,o,f));return u}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=mp(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const m=this.getParsed(p),v=s||qe(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),x=(m._stacks||{})[a.axis],T={horizontal:c,base:v.base,enableBorderRadius:!x||mp(m._custom)||o===x._top||o===x._bottom,x:c?v.head:b.center,y:c?b.center:v.head,height:c?b.size:Math.abs(v.size),width:c?Math.abs(v.size):b.size};f&&(T.options=u||this.resolveDataElementOptions(p,e[p].active?"active":i));const E=T.options||e[p].options;tY(T,E,x,o),rY(T,E,d.ratio),this.updateElement(e[p],p,T,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),d=c&&c[l.vScale.axis];if(qe(d)||isNaN(d))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||KU(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(e),l=a._custom,c=mp(l);let d=a[n.axis],u=0,f=r?this.applyStack(n,a,r):d,p,m;f!==d&&(u=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,d!==0&&ci(d)!==ci(l.barEnd)&&(u=0),u+=d);const v=!qe(i)&&!c?i:u;let b=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(u+f):p=b,m=p-b,Math.abs(m)<s){m=JU(m,n,o)*s,d===o&&(b-=m/2);const x=n.getPixelForDecimal(0),T=n.getPixelForDecimal(1),E=Math.min(x,T),S=Math.max(x,T);b=Math.max(Math.min(b,S),E),p=b+m}if(b===n.getPixelForValue(o)){const x=ci(m)*n.getLineWidthForValue(o)/2;b+=x,m-=x}return{size:m,base:b,head:p,center:p+m/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Me(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?ZU(e,n,i,c):GU(e,n,i,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=d.start+d.chunk*u+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}hy.id="bar";hy.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};hy.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class fy extends Kr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Me(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Me(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:r,yScale:i}=n,s=this.getParsed(e),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),l=s._custom;return{label:n.label,value:"("+o+", "+a+(l?", "+l:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),d=o.axis,u=a.axis;for(let f=n;f<n+r;f++){const p=e[f],m=!s&&this.getParsed(f),v={},b=v[d]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[d]),x=v[u]=s?a.getBasePixel():a.getPixelForValue(m[u]);v.skip=isNaN(b)||isNaN(x),c&&(v.options=l||this.resolveDataElementOptions(f,p.active?"active":i),s&&(v.options.radius=0)),this.updateElement(p,f,v,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Me(r&&r._custom,s),i}}fy.id="bubble";fy.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};fy.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function iY(t,e,n){let r=1,i=1,s=0,o=0;if(e<st){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),f=Math.sin(l),p=(E,S,C)=>rc(E,a,l,!0)?1:Math.max(S,S*n,C,C*n),m=(E,S,C)=>rc(E,a,l,!0)?-1:Math.min(S,S*n,C,C*n),v=p(0,c,u),b=p(It,d,f),x=m(St,c,u),T=m(St+It,d,f);r=(v-x)/2,i=(b-T)/2,s=-(v+x)/2,o=-(b+T)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Yc extends Kr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ze(r[e])){const{key:l="value"}=this._parsing;s=c=>+bs(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return qr(this.options.rotation-90)}_getCircumference(){return qr(this.options.circumference)}_getRotationExtents(){let e=st,n=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(X6(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:v}=iY(u,d,l),b=(r.width-o)/f,x=(r.height-o)/p,T=Math.max(Math.min(b,x)/2,0),E=NE(this.options.radius,T),S=Math.max(E*l,0),C=(E-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*E,this.offsetY=v*E,i.total=this.calculateTotal(),this.outerRadius=E-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/st)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(n,i);let x=this._getRotation(),T;for(T=0;T<n;++T)x+=this._circumference(T,s);for(T=n;T<n+r;++T){const E=this._circumference(T,s),S=e[T],C={x:d+this.offsetX,y:u+this.offsetY,startAngle:x,endAngle:x+E,circumference:E,outerRadius:m,innerRadius:p};b&&(C.options=v||this.resolveDataElementOptions(T,S.active?"active":i)),x+=E,this.updateElement(S,T,C,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?st*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Uc(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Me(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Yc.id="doughnut";Yc.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Yc.descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"};Yc.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){let e=t.label;const n=": "+t.formattedValue;return _t(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}};class sf extends Kr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=YE(n,i,o);this._drawStart=a,this._drawCount=l,zE(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:m,segment:v}=this.options,b=ya(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none";let T=n>0&&this.getParsed(n-1);for(let E=n;E<n+r;++E){const S=e[E],C=this.getParsed(E),M=x?S:{},P=qe(C[p]),R=M[f]=o.getPixelForValue(C[f],E),I=M[p]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[p],E);M.skip=isNaN(R)||isNaN(I)||P,M.stop=E>0&&Math.abs(C[f]-T[f])>b,v&&(M.parsed=C,M.raw=c.data[E]),u&&(M.options=d||this.resolveDataElementOptions(E,S.active?"active":i)),x||this.updateElement(S,E,M,i),T=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}sf.id="line";sf.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};sf.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class py extends Kr{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Uc(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return tS.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,u=c.yCenter,f=c.getIndexAngle(0)-.5*St;let p=f,m;const v=360/this.countVisibleElements();for(m=0;m<n;++m)p+=this._computeAngle(m,i,v);for(m=n;m<n+r;m++){const b=e[m];let x=p,T=p+this._computeAngle(m,i,v),E=o.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=T,s&&(l.animateScale&&(E=0),l.animateRotate&&(x=T=f));const S={x:d,y:u,innerRadius:0,outerRadius:E,startAngle:x,endAngle:T,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,S,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?qr(this.resolveDataElementOptions(e,n).angle||r):0}}py.id="polarArea";py.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};py.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=t.legend.options;return e.labels.map((r,i)=>{const o=t.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title(){return""},label(t){return t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class dS extends Yc{}dS.id="pie";dS.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class my extends Kr{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return tS.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=s.getPointPositionForValue(a,this.getParsed(a).r),u=o?s.xCenter:d.x,f=o?s.yCenter:d.y,p={x:u,y:f,angle:d.angle,skip:isNaN(u)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}my.id="radar";my.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};my.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Gr=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ya(this.x)&&ya(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};Gr.defaults={};Gr.defaultRoutes=void 0;const uS={values(t){return _t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=sY(t,n)}const o=Cr(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Uc(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=t/Math.pow(10,Math.floor(Cr(t)));return r===1||r===2||r===5?uS.numeric.call(this,t,e,n):""}};function sY(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var of={formatters:uS};Fe.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:of.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});Fe.route("scale.ticks","color","","color");Fe.route("scale.grid","color","","borderColor");Fe.route("scale.grid","borderColor","","borderColor");Fe.route("scale.title","color","","color");Fe.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"});Fe.describe("scales",{_fallback:"scale"});Fe.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"});function oY(t,e){const n=t.options.ticks,r=n.maxTicksLimit||aY(t),i=n.major.enabled?cY(e):[],s=i.length,o=i[0],a=i[s-1],l=[];if(s>r)return dY(e,l,i,s/r),l;const c=lY(i,e,r);if(s>0){let d,u;const f=s>1?Math.round((a-o)/(s-1)):null;for(vd(e,l,c,qe(f)?0:o-f,o),d=0,u=s-1;d<u;d++)vd(e,l,c,i[d],i[d+1]);return vd(e,l,c,a,qe(f)?e.length:a+f),l}return vd(e,l,c),l}function aY(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function lY(t,e,n){const r=uY(t),i=e.length/n;if(!r)return Math.max(i,1);const s=oB(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function cY(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function dY(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function vd(t,e,n,r,i){const s=Me(r,0),o=Math.min(Me(i,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(s+a*n))}function uY(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const hY=t=>t==="left"?"right":t==="right"?"left":t,T1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n;function E1(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function fY(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function pY(t,e){Ge(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function sl(t){return t.drawTicks?t.tickLength:0}function S1(t,e){if(!t.display)return 0;const n=Zt(t.font,e),r=On(t.padding);return(_t(t.text)?t.text.length:1)*n.lineHeight+r.height}function mY(t,e){return Es(t,{scale:e,type:"scale"})}function gY(t,e,n){return Es(t,{tick:n,index:e,type:"tick"})}function yY(t,e,n){let r=ty(t);return(n&&e!=="right"||!n&&e==="right")&&(r=hY(r)),r}function vY(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let u=0,f,p,m;const v=o-i,b=a-s;if(t.isHorizontal()){if(p=Dn(r,s,a),ze(n)){const x=Object.keys(n)[0],T=n[x];m=d[x].getPixelForValue(T)+v-e}else n==="center"?m=(c.bottom+c.top)/2+v-e:m=T1(t,n,e);f=a-s}else{if(ze(n)){const x=Object.keys(n)[0],T=n[x];p=d[x].getPixelForValue(T)-b+e}else n==="center"?p=(c.left+c.right)/2-b+e:p=T1(t,n,e);m=Dn(r,o,i),u=n==="left"?-It:It}return{titleX:p,titleY:m,maxWidth:f,rotation:u}}class Co extends Gr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=_r(e,Number.POSITIVE_INFINITY),n=_r(n,Number.NEGATIVE_INFINITY),r=_r(r,Number.POSITIVE_INFINITY),i=_r(i,Number.NEGATIVE_INFINITY),{min:_r(e,r),max:_r(n,i),minDefined:_n(e),maxDefined:_n(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:_r(n,_r(r,n)),max:_r(r,_r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){dt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QB(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?E1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=oY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){dt(this.options.afterUpdate,[this])}beforeSetDimensions(){dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){dt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),dt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=dt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=this.ticks.length,i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),u=d.widest.width,f=d.highest.height,p=Pn(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),u+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-sl(e.grid)-n.padding-S1(e.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),o=J0(Math.min(Math.asin(Pn((d.highest.height+6)/a,-1,1)),Math.asin(Pn(l/c,-1,1))-Math.asin(Pn(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){dt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=S1(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=sl(s)+l):(e.height=this.maxHeight,e.width=sl(s)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:u,highest:f}=this._getLabelSizes(),p=r.padding*2,m=qr(this.labelRotation),v=Math.cos(m),b=Math.sin(m);if(a){const x=r.mirror?0:b*u.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=r.mirror?0:v*u.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(c,d,b,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-u+o)*this.width/(this.width-u),0)}else{let d=n.height/2,u=e.height/2;s==="start"?(d=0,u=e.height):s==="end"&&(d=n.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){dt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)qe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=E1(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[];let a=0,l=0,c,d,u,f,p,m,v,b,x,T,E;for(c=0;c<n;++c){if(f=e[c].label,p=this._resolveTickFontOptions(c),r.font=m=p.string,v=i[m]=i[m]||{data:{},gc:[]},b=p.lineHeight,x=T=0,!qe(f)&&!_t(f))x=Lu(r,v.data,v.gc,x,f),T=b;else if(_t(f))for(d=0,u=f.length;d<u;++d)E=f[d],!qe(E)&&!_t(E)&&(x=Lu(r,v.data,v.gc,x,E),T+=b);s.push(x),o.push(T),a=Math.max(x,a),l=Math.max(T,l)}pY(i,n);const S=s.indexOf(a),C=o.indexOf(l),M=P=>({width:s[P]||0,height:o[P]||0});return{first:M(0),last:M(n-1),widest:M(S),highest:M(C),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return cB(this._alignToPixels?ks(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=gY(this.getContext(),e,r))}return this.$context||(this.$context=mY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=qr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o}=i,a=s.offset,l=this.isHorizontal(),d=this.ticks.length+(a?1:0),u=sl(s),f=[],p=s.setContext(this.getContext()),m=p.drawBorder?p.borderWidth:0,v=m/2,b=function(B){return ks(r,B,m)};let x,T,E,S,C,M,P,R,I,U,L,z;if(o==="top")x=b(this.bottom),M=this.bottom-u,R=x-v,U=b(e.top)+v,z=e.bottom;else if(o==="bottom")x=b(this.top),U=e.top,z=b(e.bottom)-v,M=x+v,R=this.top+u;else if(o==="left")x=b(this.right),C=this.right-u,P=x-v,I=b(e.left)+v,L=e.right;else if(o==="right")x=b(this.left),I=e.left,L=b(e.right)-v,C=x+v,P=this.left+u;else if(n==="x"){if(o==="center")x=b((e.top+e.bottom)/2+.5);else if(ze(o)){const B=Object.keys(o)[0],Z=o[B];x=b(this.chart.scales[B].getPixelForValue(Z))}U=e.top,z=e.bottom,M=x+v,R=M+u}else if(n==="y"){if(o==="center")x=b((e.left+e.right)/2);else if(ze(o)){const B=Object.keys(o)[0],Z=o[B];x=b(this.chart.scales[B].getPixelForValue(Z))}C=x-v,P=C-u,I=e.left,L=e.right}const q=Me(i.ticks.maxTicksLimit,d),W=Math.max(1,Math.ceil(d/q));for(T=0;T<d;T+=W){const B=s.setContext(this.getContext(T)),Z=B.lineWidth,ne=B.color,J=B.borderDash||[],G=B.borderDashOffset,K=B.tickWidth,Q=B.tickColor,A=B.tickBorderDash||[],F=B.tickBorderDashOffset;E=fY(this,T,a),E!==void 0&&(S=ks(r,E,Z),l?C=P=I=L=S:M=R=U=z=S,f.push({tx1:C,ty1:M,tx2:P,ty2:R,x1:I,y1:U,x2:L,y2:z,width:Z,color:ne,borderDash:J,borderDashOffset:G,tickWidth:K,tickColor:Q,tickBorderDash:A,tickBorderDashOffset:F}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=s,f=sl(r.grid),p=f+d,m=u?-d:p,v=-qr(this.labelRotation),b=[];let x,T,E,S,C,M,P,R,I,U,L,z,q="middle";if(i==="top")M=this.bottom-m,P=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+m,P=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(f);P=B.textAlign,C=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(f);P=B.textAlign,C=B.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+p;else if(ze(i)){const B=Object.keys(i)[0],Z=i[B];M=this.chart.scales[B].getPixelForValue(Z)+p}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")C=(e.left+e.right)/2-p;else if(ze(i)){const B=Object.keys(i)[0],Z=i[B];C=this.chart.scales[B].getPixelForValue(Z)}P=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?q="top":l==="end"&&(q="bottom"));const W=this._getLabelSizes();for(x=0,T=a.length;x<T;++x){E=a[x],S=E.label;const B=s.setContext(this.getContext(x));R=this.getPixelForTick(x)+s.labelOffset,I=this._resolveTickFontOptions(x),U=I.lineHeight,L=_t(S)?S.length:1;const Z=L/2,ne=B.color,J=B.textStrokeColor,G=B.textStrokeWidth;let K=P;o?(C=R,P==="inner"&&(x===T-1?K=this.options.reverse?"left":"right":x===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?c==="near"||v!==0?z=-L*U+U/2:c==="center"?z=-W.highest.height/2-Z*U+U:z=-W.highest.height+U/2:c==="near"||v!==0?z=U/2:c==="center"?z=W.highest.height/2-Z*U:z=W.highest.height-L*U,u&&(z*=-1)):(M=R,z=(1-L)*U/2);let Q;if(B.showLabelBackdrop){const A=On(B.backdropPadding),F=W.heights[x],H=W.widths[x];let V=M+z-A.top,se=C-A.left;switch(q){case"middle":V-=F/2;break;case"bottom":V-=F;break}switch(P){case"center":se-=H/2;break;case"right":se-=H;break}Q={left:se,top:V,width:H+A.width,height:F+A.height,color:B.backdropColor}}b.push({rotation:v,label:S,font:I,color:ne,strokeColor:J,strokeWidth:G,textOffset:z,textAlign:K,textBaseline:q,translation:[C,M],backdrop:Q})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-qr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+s,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{grid:r}}=this,i=r.setContext(this.getContext()),s=r.drawBorder?i.borderWidth:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=ks(e,this.left,s)-s/2,c=ks(e,this.right,o)+o/2,d=u=a):(d=ks(e,this.top,s)-s/2,u=ks(e,this.bottom,o)+o/2,l=c=a),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(l,d),n.lineTo(c,u),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&sy(r,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,d=l.label;l.backdrop&&(r.fillStyle=l.backdrop.color,r.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let u=l.textOffset;ho(r,d,0,u,c,l)}i&&oy(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Zt(r.font),o=On(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ze(n)?(l+=o.bottom,_t(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=vY(this,l,n,a);ho(e,r.text,0,0,s,{color:r.color,maxWidth:u,rotation:f,textAlign:yY(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Me(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Co.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Zt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class bd{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;xY(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,bY(e,o,r),this.override&&Fe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Fe[i]&&(delete Fe[i][r],this.override&&delete uo[r])}}function bY(t,e,n){const r=nc(Object.create(null),[n?Fe.get(n):{},Fe.get(e),t.defaults]);Fe.set(e,r),t.defaultRoutes&&wY(e,t.defaultRoutes),t.descriptors&&Fe.describe(e,t.descriptors)}function wY(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Fe.route(s,i,l,a)})}function xY(t){return"id"in t&&"defaults"in t}class _Y{constructor(){this.controllers=new bd(Kr,"datasets",!0),this.elements=new bd(Gr,"elements"),this.plugins=new bd(Object,"plugins"),this.scales=new bd(Co,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ge(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=X0(e);dt(r["before"+i],[],r),n[e](r),dt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var si=new _Y;class gy extends Kr{update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=YE(n,r,i);if(this._drawStart=s,this._drawCount=o,zE(n)&&(s=0,o=r.length),this.options.showLine){const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=si.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,i),u=this.getSharedOptions(d),f=this.includeOptions(i,u),p=o.axis,m=a.axis,{spanGaps:v,segment:b}=this.options,x=ya(v)?v:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||s||i==="none";let E=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const C=e[S],M=this.getParsed(S),P=T?C:{},R=qe(M[m]),I=P[p]=o.getPixelForValue(M[p],S),U=P[m]=s||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[m],S);P.skip=isNaN(I)||isNaN(U)||R,P.stop=S>0&&Math.abs(M[p]-E[p])>x,b&&(P.parsed=M,P.raw=c.data[S]),f&&(P.options=u||this.resolveDataElementOptions(S,C.active?"active":i)),T||this.updateElement(C,S,P,i),E=M}this.updateSharedOptions(u,i,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}gy.id="scatter";gy.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};gy.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(t){return"("+t.label+", "+t.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Os(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zm{constructor(e){this.options=e||{}}init(e){}formats(){return Os()}parse(e,n){return Os()}format(e,n){return Os()}add(e,n,r){return Os()}diff(e,n,r){return Os()}startOf(e,n,r){return Os()}endOf(e,n){return Os()}}zm.override=function(t){Object.assign(zm.prototype,t)};var TY={_date:zm};function EY(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?dB:Hs;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const u=l(s,e,n-d),f=l(s,e,n+d);return{lo:u.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function af(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:u,hi:f}=EY(s[a],e,o,i);for(let p=u;p<=f;++p){const m=d[p];m.skip||r(m,c,p)}}}function SY(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gp(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||af(t,n,e,function(a,l,c){!i&&!ic(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function CY(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:u}=LE(o,{x:e.x,y:e.y});rc(u,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return af(t,n,e,s),i}function DY(t,e,n,r,i,s){let o=[];const a=SY(n);let l=Number.POSITIVE_INFINITY;function c(d,u,f){const p=d.inRange(e.x,e.y,i);if(r&&!p)return;const m=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!p)return;const b=a(e,m);b<l?(o=[{element:d,datasetIndex:u,index:f}],l=b):b===l&&o.push({element:d,datasetIndex:u,index:f})}return af(t,n,e,c),o}function yp(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?CY(t,e,n,i):DY(t,e,n,r,i,s)}function C1(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return af(t,n,e,(l,c,d)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var MY={modes:{index(t,e,n,r){const i=Ns(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?gp(t,i,s,r,o):yp(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const i=Ns(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?gp(t,i,s,r,o):yp(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const i=Ns(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return gp(t,i,s,r,o)},nearest(t,e,n,r){const i=Ns(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return yp(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Ns(e,t);return C1(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Ns(e,t);return C1(t,i,"y",n.intersect,r)}}};const hS=["left","top","right","bottom"];function ol(t,e){return t.filter(n=>n.pos===e)}function D1(t,e){return t.filter(n=>hS.indexOf(n.pos)===-1&&n.box.axis===e)}function al(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function PY(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function kY(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!hS.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function OY(t,e){const n=kY(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:l&&e.availableHeight)}return n}function RY(t){const e=PY(t),n=al(e.filter(c=>c.box.fullSize),!0),r=al(ol(e,"left"),!0),i=al(ol(e,"right")),s=al(ol(e,"top"),!0),o=al(ol(e,"bottom")),a=D1(e,"x"),l=D1(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ol(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function M1(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function fS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function IY(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!ze(i)){n.size&&(t[i]-=n.size);const u=r[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?s.height:s.width),n.size=u.size/u.count,t[i]+=n.size}s.getPadding&&fS(o,s.getPadding());const a=Math.max(0,e.outerWidth-M1(o,t,"left","right")),l=Math.max(0,e.outerHeight-M1(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function NY(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function AY(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Tl(t,e,n,r){const i=[];let s,o,a,l,c,d;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,AY(a.horizontal,e));const{same:u,other:f}=IY(e,n,a,r);c|=u&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&Tl(i,e,n,r)||d}function wd(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function P1(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const u=e.w*d,f=c.size||l.height;Ir(c.start)&&(o=c.start),l.fullSize?wd(l,i.left,o,n.outerWidth-i.right-i.left,f):wd(l,e.left+c.placed,o,u,f),c.start=o,c.placed+=u,o=l.bottom}else{const u=e.h*d,f=c.size||l.width;Ir(c.start)&&(s=c.start),l.fullSize?wd(l,s,i.top,f,n.outerHeight-i.bottom-i.top):wd(l,s,e.top+c.placed,f,u),c.start=s,c.placed+=u,s=l.right}}e.x=s,e.y=o}Fe.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Mr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=On(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=RY(t.boxes),l=a.vertical,c=a.horizontal;Ge(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,b)=>b.box.options&&b.box.options.display===!1?v:v+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);fS(f,On(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),m=OY(l.concat(c),u);Tl(a.fullSize,p,u,m),Tl(l,p,u,m),Tl(c,p,u,m)&&Tl(l,p,u,m),NY(p),P1(a.leftAndTop,p,u,m),p.x+=p.w,p.y+=p.h,P1(a.rightAndBottom,p,u,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ge(a.chartArea,v=>{const b=v.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class pS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class jY extends pS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Kd="$chartjs",LY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},k1=t=>t===null||t==="";function $Y(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Kd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",k1(i)){const s=l1(t,"width");s!==void 0&&(t.width=s)}if(k1(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=l1(t,"height");s!==void 0&&(t.height=s)}return t}const mS=yU?{passive:!0}:!1;function FY(t,e,n){t.addEventListener(e,n,mS)}function BY(t,e,n){t.canvas.removeEventListener(e,n,mS)}function UY(t,e){const n=LY[t.type]||t.type,{x:r,y:i}=Ns(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Fu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function YY(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Fu(a.addedNodes,r),o=o&&!Fu(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function zY(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Fu(a.removedNodes,r),o=o&&!Fu(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const oc=new Map;let O1=0;function gS(){const t=window.devicePixelRatio;t!==O1&&(O1=t,oc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function WY(t,e){oc.size||window.addEventListener("resize",gS),oc.set(t,e)}function HY(t){oc.delete(t),oc.size||window.removeEventListener("resize",gS)}function qY(t,e,n){const r=t.canvas,i=r&&uy(r);if(!i)return;const s=UE((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(i),WY(t,s),o}function vp(t,e,n){n&&n.disconnect(),e==="resize"&&HY(t)}function VY(t,e,n){const r=t.canvas,i=UE(s=>{t.ctx!==null&&n(UY(s,t))},t,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return FY(r,e,i),i}class QY extends pS{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($Y(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Kd])return!1;const r=n[Kd].initial;["height","width"].forEach(s=>{const o=r[s];qe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Kd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:YY,detach:zY,resize:qY}[n]||VY;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:vp,detach:vp,resize:vp}[n]||BY)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return gU(e,n,r,i)}isAttached(e){const n=uy(e);return!!(n&&n.isConnected)}}function KY(t){return!rS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jY:QY}class GY{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(dt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){qe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Me(r.options&&r.options.plugins,{}),s=ZY(r);return i===!1&&!n?[]:JY(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function ZY(t){const e={},n=[],r=Object.keys(si.plugins.items);for(let s=0;s<r.length;s++)n.push(si.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function XY(t,e){return!e&&t===!1?null:t===!0?{}:t}function JY(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=XY(r[l],i);c!==null&&s.push({plugin:a,options:ez(t.config,{plugin:a,local:n[l]},c,o)})}return s}function ez(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wm(t,e){const n=Fe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function tz(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function nz(t,e){return t===e?"_index_":"_value_"}function rz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hm(t,e){return t==="x"||t==="y"?t:e.axis||rz(e.position)||t.charAt(0).toLowerCase()}function iz(t,e){const n=uo[t.type]||{scales:{}},r=e.scales||{},i=Wm(t.type,e),s=Object.create(null),o=Object.create(null);return Object.keys(r).forEach(a=>{const l=r[a];if(!ze(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Hm(a,l),d=nz(c,i),u=n.scales||{};s[c]=s[c]||a,o[a]=Al(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Wm(l,e),u=(uo[l]||{}).scales||{};Object.keys(u).forEach(f=>{const p=tz(f,c),m=a[p+"AxisID"]||s[p]||p;o[m]=o[m]||Object.create(null),Al(o[m],[{axis:p},r[m],u[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];Al(l,[Fe.scales[l.type],Fe.scale])}),o}function yS(t){const e=t.options||(t.options={});e.plugins=Me(e.plugins,{}),e.scales=iz(t,e)}function vS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sz(t){return t=t||{},t.data=vS(t.data),yS(t),t}const R1=new Map,bS=new Set;function xd(t,e){let n=R1.get(t);return n||(n=e(),R1.set(t,n),bS.add(n)),n}const ll=(t,e,n)=>{const r=bs(e,n);r!==void 0&&t.add(r)};class oz{constructor(e){this._config=sz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return xd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return xd(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return xd(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return xd(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(u=>ll(l,e,u))),d.forEach(u=>ll(l,i,u)),d.forEach(u=>ll(l,uo[s]||{},u)),d.forEach(u=>ll(l,Fe,u)),d.forEach(u=>ll(l,Um,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),bS.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,uo[n]||{},Fe.datasets[n]||{},{type:n},Fe,Um]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=I1(this._resolverCache,e,i);let l=o;if(lz(o,n)){s.$shared=!1,r=ws(r)?r():r;const c=this.createResolver(e,r,a);l=va(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=I1(this._resolverCache,e,r);return ze(n)?va(s,n,void 0,i):s}}function I1(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:ly(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const az=t=>ze(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||ws(t[n]),!1);function lz(t,e){const{isScriptable:n,isIndexable:r}=ZE(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(ws(a)||az(a))||o&&_t(a))return!0}return!1}var cz="3.9.1";const dz=["top","bottom","left","right","chartArea"];function N1(t,e){return t==="top"||t==="bottom"||dz.indexOf(t)===-1&&e==="x"}function A1(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function j1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),dt(n&&n.onComplete,[t],e)}function uz(t){const e=t.chart,n=e.options.animation;dt(n&&n.onProgress,[t],e)}function wS(t){return rS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bu={},xS=t=>{const e=wS(t);return Object.values(Bu).filter(n=>n.canvas===e).pop()};function hz(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function fz(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}let zc=class{constructor(e,n){const r=this.config=new oz(n),i=wS(e),s=xS(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||KY(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=Z6(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new GY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fB(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],Bu[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",j1),Ci.listen(this,"progress",uz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return qe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():a1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return i1(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(e,n){Ci.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,a1(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),dt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ge(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Hm(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Ge(s,o=>{const a=o.options,l=a.id,c=Hm(l,a),d=Me(a.type,o.dtype);(a.position===void 0||N1(a.position,c)!==N1(o.dposition))&&(a.position=o.dposition),i[l]=!0;let u=null;if(l in r&&r[l].type===d)u=r[l];else{const f=si.getScale(d);u=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[u.id]=u}u.init(a,e)}),Ge(i,(o,a)=>{o||delete r[a]}),Ge(r,o=>{Mr.configure(this,o,o.options),Mr.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(A1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Wm(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=si.getController(a),{datasetElementType:c,dataElementType:d}=Fe.datasets[a];Object.assign(l.prototype,{dataElementType:si.getElement(d),datasetElementType:c&&si.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ge(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:u}=this.getDatasetMeta(c),f=!i&&s.indexOf(u)===-1;u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Ge(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ge(this.scales,e=>{Mr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qb(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;hz(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!qb(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mr.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ge(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ws(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),j1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=this.chartArea,o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&sy(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&oy(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return ic(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=MY.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Es(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Ir(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ci.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),i1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Bu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ge(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ge(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ge(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Iu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(u=>d.datasetIndex===u.datasetIndex&&d.index===u.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=rB(e),c=fz(e,this._lastEvent,r,l);r&&(this._lastEvent=null,dt(s.onHover,[e,a,this],this),l&&dt(s.onClick,[e,a,this],this));const d=!Iu(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}};const L1=()=>Ge(zc.instances,t=>t._plugins.invalidate()),Zi=!0;Object.defineProperties(zc,{defaults:{enumerable:Zi,value:Fe},instances:{enumerable:Zi,value:Bu},overrides:{enumerable:Zi,value:uo},registry:{enumerable:Zi,value:si},version:{enumerable:Zi,value:cz},getChart:{enumerable:Zi,value:xS},register:{enumerable:Zi,value:(...t)=>{si.add(...t),L1()}},unregister:{enumerable:Zi,value:(...t)=>{si.remove(...t),L1()}}});function _S(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+It,r-It),t.closePath(),t.clip()}function pz(t){return ay(t,["outerStart","outerEnd","innerStart","innerEnd"])}function mz(t,e,n,r){const i=pz(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return Pn(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Pn(i.innerStart,0,o),innerEnd:Pn(i.innerEnd,0,o)}}function $o(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function qm(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,u=Math.max(e.outerRadius+r+n-c,0),f=d>0?d+r+n+c:0;let p=0;const m=i-l;if(r){const B=d>0?d-r:0,Z=u>0?u-r:0,ne=(B+Z)/2,J=ne!==0?m*ne/(ne+r):m;p=(m-J)/2}const v=Math.max(.001,m*u-n/St)/u,b=(m-v)/2,x=l+b+p,T=i-b-p,{outerStart:E,outerEnd:S,innerStart:C,innerEnd:M}=mz(e,f,u,T-x),P=u-E,R=u-S,I=x+E/P,U=T-S/R,L=f+C,z=f+M,q=x+C/L,W=T-M/z;if(t.beginPath(),s){if(t.arc(o,a,u,I,U),S>0){const ne=$o(R,U,o,a);t.arc(ne.x,ne.y,S,U,T+It)}const B=$o(z,T,o,a);if(t.lineTo(B.x,B.y),M>0){const ne=$o(z,W,o,a);t.arc(ne.x,ne.y,M,T+It,W+Math.PI)}if(t.arc(o,a,f,T-M/f,x+C/f,!0),C>0){const ne=$o(L,q,o,a);t.arc(ne.x,ne.y,C,q+Math.PI,x-It)}const Z=$o(P,x,o,a);if(t.lineTo(Z.x,Z.y),E>0){const ne=$o(P,I,o,a);t.arc(ne.x,ne.y,E,x-It,I)}}else{t.moveTo(o,a);const B=Math.cos(I)*u+o,Z=Math.sin(I)*u+a;t.lineTo(B,Z);const ne=Math.cos(U)*u+o,J=Math.sin(U)*u+a;t.lineTo(ne,J)}t.closePath()}function gz(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){qm(t,e,n,r,o+st,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+a%st,a%st===0&&(l+=st))}return qm(t,e,n,r,l,i),t.fill(),l}function yz(t,e,n){const{x:r,y:i,startAngle:s,pixelMargin:o,fullCircles:a}=e,l=Math.max(e.outerRadius-o,0),c=e.innerRadius+o;let d;for(n&&_S(t,e,s+st),t.beginPath(),t.arc(r,i,c,s+st,s,!0),d=0;d<a;++d)t.stroke();for(t.beginPath(),t.arc(r,i,l,s,s+st),d=0;d<a;++d)t.stroke()}function vz(t,e,n,r,i,s){const{options:o}=e,{borderWidth:a,borderJoinStyle:l}=o,c=o.borderAlign==="inner";a&&(c?(t.lineWidth=a*2,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),e.fullCircles&&yz(t,e,c),c&&_S(t,e,i),qm(t,e,n,r,i,s),t.stroke())}class yy extends Gr{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.getProps(["x","y"],r),{angle:s,distance:o}=LE(i,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=this.options.spacing/2,m=Me(u,l-a)>=st||rc(s,a,l),v=as(o,c+f,d+f);return m&&v}getCenterPoint(e){const{x:n,y:r,startAngle:i,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:c}=this.options,d=(i+s)/2,u=(o+a+c+l)/2;return{x:n+Math.cos(d)*u,y:r+Math.sin(d)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,i=(n.offset||0)/2,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>st?Math.floor(r/st):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(i){a=i/2;const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=St&&(a=i)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor;const l=gz(e,this,a,s,o);vz(e,this,a,s,l,o),e.restore()}}yy.id="arc";yy.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};yy.defaultRoutes={backgroundColor:"backgroundColor"};function TS(t,e,n=e){t.lineCap=Me(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Me(n.borderDash,e.borderDash)),t.lineDashOffset=Me(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Me(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Me(n.borderWidth,e.borderWidth),t.strokeStyle=Me(n.borderColor,e.borderColor)}function bz(t,e,n){t.lineTo(n.x,n.y)}function wz(t){return t.stepped?BB:t.tension||t.cubicInterpolationMode==="monotone"?UB:bz}function ES(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function xz(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=ES(i,n,r),d=wz(s);let{move:u=!0,reverse:f}=r||{},p,m,v;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%o],!m.skip&&(u?(t.moveTo(m.x,m.y),u=!1):d(t,v,m,f,s.stepped),v=m);return l&&(m=i[(a+(f?c:0))%o],d(t,v,m,f,s.stepped)),!!l}function _z(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=ES(i,n,r),{move:l=!0,reverse:c}=r||{};let d=0,u=0,f,p,m,v,b,x;const T=S=>(o+(c?a-S:S))%s,E=()=>{v!==b&&(t.lineTo(d,b),t.lineTo(d,v),t.lineTo(d,x))};for(l&&(p=i[T(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[T(f)],p.skip)continue;const S=p.x,C=p.y,M=S|0;M===m?(C<v?v=C:C>b&&(b=C),d=(u*d+S)/++u):(E(),t.lineTo(S,C),m=M,u=0,v=b=C),x=C}E()}function Vm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?_z:xz}function Tz(t){return t.stepped?vU:t.tension||t.cubicInterpolationMode==="monotone"?bU:As}function Ez(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),TS(t,e.options),t.stroke(i)}function Sz(t,e,n,r){const{segments:i,options:s}=e,o=Vm(e);for(const a of i)TS(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Cz=typeof Path2D=="function";function Dz(t,e,n,r){Cz&&!e.options.segment?Ez(t,e,n,r):Sz(t,e,n,r)}class Wc extends Gr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;dU(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MU(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=SU(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=Tz(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:u,end:f}=o[c],p=s[u],m=s[f];if(p===m){a.push(p);continue}const v=Math.abs((i-p[n])/(m[n]-p[n])),b=l(p,m,v,r.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Vm(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Vm(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Dz(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Wc.id="line";Wc.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Wc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Wc.descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};function $1(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class lf extends Gr{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const i=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return $1(this,e,"x",n)}inYRange(e,n){return $1(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!ic(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Ym(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}lf.id="point";lf.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};lf.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function SS(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,u;return t.horizontal?(u=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-u,d=r+u):(u=s/2,a=n-u,l=n+u,c=Math.min(r,i),d=Math.max(r,i)),{left:a,top:c,right:l,bottom:d}}function cs(t,e,n,r){return t?0:Pn(e,n,r)}function Mz(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=GE(r);return{t:cs(i.top,s.top,0,n),r:cs(i.right,s.right,0,e),b:cs(i.bottom,s.bottom,0,n),l:cs(i.left,s.left,0,e)}}function Pz(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=to(i),o=Math.min(e,n),a=t.borderSkipped,l=r||ze(i);return{topLeft:cs(!l||a.top||a.left,s.topLeft,0,o),topRight:cs(!l||a.top||a.right,s.topRight,0,o),bottomLeft:cs(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:cs(!l||a.bottom||a.right,s.bottomRight,0,o)}}function kz(t){const e=SS(t),n=e.right-e.left,r=e.bottom-e.top,i=Mz(t,n/2,r/2),s=Pz(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function bp(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&SS(t,r);return a&&(i||as(e,a.left,a.right))&&(s||as(n,a.top,a.bottom))}function Oz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Rz(t,e){t.rect(e.x,e.y,e.w,e.h)}function wp(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class vy extends Gr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=kz(this),a=Oz(o.radius)?sc:Rz;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,wp(o,n,s)),e.clip(),a(e,wp(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,wp(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return bp(this,e,n,r)}inXRange(e,n){return bp(this,e,null,n)}inYRange(e,n){return bp(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}vy.id="bar";vy.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};vy.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const F1=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Iz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class B1 extends Gr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=dt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Zt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=F1(r,s);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let u=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,v)=>{const b=r+n/2+s.measureText(m.text).width;(v===0||c[c.length-1]+b+2*a>o)&&(u+=d,c[c.length-(v>0?0:1)]=0,p+=d,f++),l[v]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),u}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let u=a,f=0,p=0,m=0,v=0;return this.legendItems.forEach((b,x)=>{const T=r+n/2+s.measureText(b.text).width;x>0&&p+i+2*a>d&&(u+=f+a,c.push({width:f,height:p}),m+=f+a,v++,f=p=0),l[x]={left:m,top:p,col:v,width:T,height:i},f=Math.max(f,T),p+=i+a}),u+=f,c.push({width:f,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=ta(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Dn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Dn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Dn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;sy(e,this),this._draw(),oy(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Fe.color,l=ta(e.rtl,this.left,this.width),c=Zt(o.font),{color:d,padding:u}=o,f=c.size,p=f/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:v,boxHeight:b,itemHeight:x}=F1(o,f),T=function(P,R,I){if(isNaN(v)||v<=0||isNaN(b)||b<0)return;i.save();const U=Me(I.lineWidth,1);if(i.fillStyle=Me(I.fillStyle,a),i.lineCap=Me(I.lineCap,"butt"),i.lineDashOffset=Me(I.lineDashOffset,0),i.lineJoin=Me(I.lineJoin,"miter"),i.lineWidth=U,i.strokeStyle=Me(I.strokeStyle,a),i.setLineDash(Me(I.lineDash,[])),o.usePointStyle){const L={radius:b*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:U},z=l.xPlus(P,v/2),q=R+p;KE(i,L,z,q,o.pointStyleWidth&&v)}else{const L=R+Math.max((f-b)/2,0),z=l.leftForLtr(P,v),q=to(I.borderRadius);i.beginPath(),Object.values(q).some(W=>W!==0)?sc(i,{x:z,y:L,w:v,h:b,radius:q}):i.rect(z,L,v,b),i.fill(),U!==0&&i.stroke()}i.restore()},E=function(P,R,I){ho(i,I.text,P,R+x/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},S=this.isHorizontal(),C=this._computeTitleHeight();S?m={x:Dn(s,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:m={x:this.left+u,y:Dn(s,this.top+C+u,this.bottom-n[0].height),line:0},iS(this.ctx,e.textDirection);const M=x+u;this.legendItems.forEach((P,R)=>{i.strokeStyle=P.fontColor||d,i.fillStyle=P.fontColor||d;const I=i.measureText(P.text).width,U=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),L=v+p+I;let z=m.x,q=m.y;l.setWidth(this.width),S?R>0&&z+L+u>this.right&&(q=m.y+=M,m.line++,z=m.x=Dn(s,this.left+u,this.right-r[m.line])):R>0&&q+M>this.bottom&&(z=m.x=z+n[m.line].width+u,m.line++,q=m.y=Dn(s,this.top+C+u,this.bottom-n[m.line].height));const W=l.x(z);T(W,q,P),z=pB(U,z+v+p,S?z+L:this.right,e.rtl),E(l.x(z),q,P),S?m.x+=L+u:m.y+=M}),sS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Zt(n.font),i=On(n.padding);if(!n.display)return;const s=ta(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let d,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,u=Dn(e.align,u,this.right-f);else{const m=this.columnSizes.reduce((v,b)=>Math.max(v,b.height),0);d=c+Dn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Dn(a,u,u+f);o.textAlign=s.textAlign(ty(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ho(o,n.text,p,d,r)}_computeTitleHeight(){const e=this.options.title,n=Zt(e.font),r=On(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(as(e,this.left,this.right)&&as(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],as(e,i.left,i.left+i.width)&&as(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Nz(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Iz(i,r);i&&!s&&dt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&dt(n.onHover,[e,r,this],this)}else r&&dt(n.onClick,[e,r,this],this)}}function Nz(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Az={id:"legend",_element:B1,start(t,e,n){const r=t.legend=new B1({ctx:t.ctx,options:n,chart:t});Mr.configure(t,r,n),Mr.addBox(t,r)},stop(t){Mr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Mr.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=On(a.borderWidth);return{text:e[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:r||a.pointStyle,rotation:a.rotation,textAlign:i||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class CS extends Gr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=_t(r.text)?r.text.length:1;this._padding=On(r.padding);const s=i*Zt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,d,u;return this.isHorizontal()?(d=Dn(a,r,s),u=n+e,c=s-r):(o.position==="left"?(d=r+e,u=Dn(a,i,n),l=St*-.5):(d=s-e,u=Dn(a,n,i),l=St*.5),c=i-n),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Zt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ho(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:ty(n.align),textBaseline:"middle",translation:[o,a]})}}function jz(t,e){const n=new CS({ctx:t.ctx,options:e,chart:t});Mr.configure(t,n,e),Mr.addBox(t,n),t.titleBlock=n}var Lz={id:"title",_element:CS,start(t,e,n){jz(t,n)},stop(t){const e=t.titleBlock;Mr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Mr.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fl={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Fm(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function ti(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Di(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $z(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function U1(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Zt(e.bodyFont),c=Zt(e.titleFont),d=Zt(e.footerFont),u=s.length,f=i.length,p=r.length,m=On(e.padding);let v=m.height,b=0,x=r.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,u&&(v+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=p*S+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let T=0;const E=function(S){b=Math.max(b,n.measureText(S).width+T)};return n.save(),n.font=c.string,Ge(t.title,E),n.font=l.string,Ge(t.beforeBody.concat(t.afterBody),E),T=e.displayColors?o+2+e.boxPadding:0,Ge(r,S=>{Ge(S.before,E),Ge(S.lines,E),Ge(S.after,E)}),T=0,n.font=d.string,Ge(t.footer,E),n.restore(),b+=m.width,{width:b,height:v}}function Fz(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Bz(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Uz(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Bz(c,t,e,n)&&(c="center"),c}function Y1(t,e,n){const r=n.yAlign||e.yAlign||Fz(t,n);return{xAlign:n.xAlign||e.xAlign||Uz(t,e,n,r),yAlign:r}}function Yz(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function zz(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function z1(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:d,topRight:u,bottomLeft:f,bottomRight:p}=to(o);let m=Yz(e,a);const v=zz(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,f)+i:a==="right"&&(m+=Math.max(u,p)+i),{x:Pn(m,0,r.width-e.width),y:Pn(v,0,r.height-e.height)}}function _d(t,e,n){const r=On(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function W1(t){return ti([],Di(t))}function Wz(t,e,n){return Es(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function H1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}class Qm extends Gr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new aS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Wz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=r.beforeTitle.apply(this,[e]),s=r.title.apply(this,[e]),o=r.afterTitle.apply(this,[e]);let a=[];return a=ti(a,Di(i)),a=ti(a,Di(s)),a=ti(a,Di(o)),a}getBeforeBody(e,n){return W1(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:r}=n,i=[];return Ge(e,s=>{const o={before:[],lines:[],after:[]},a=H1(r,s);ti(o.before,Di(a.beforeLabel.call(this,s))),ti(o.lines,a.label.call(this,s)),ti(o.after,Di(a.afterLabel.call(this,s))),i.push(o)}),i}getAfterBody(e,n){return W1(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:r}=n,i=r.beforeFooter.apply(this,[e]),s=r.footer.apply(this,[e]),o=r.afterFooter.apply(this,[e]);let a=[];return a=ti(a,Di(i)),a=ti(a,Di(s)),a=ti(a,Di(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push($z(this.chart,n[l]));return e.filter&&(a=a.filter((d,u,f)=>e.filter(d,u,f,r))),e.itemSort&&(a=a.sort((d,u)=>e.itemSort(d,u,r))),Ge(a,d=>{const u=H1(e.callbacks,d);i.push(u.labelColor.call(this,d)),s.push(u.labelPointStyle.call(this,d)),o.push(u.labelTextColor.call(this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Fl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=U1(this,r),c=Object.assign({},a,l),d=Y1(this.chart,r,c),u=z1(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:u}=to(a),{x:f,y:p}=e,{width:m,height:v}=n;let b,x,T,E,S,C;return s==="center"?(S=p+v/2,i==="left"?(b=f,x=b-o,E=S+o,C=S-o):(b=f+m,x=b+o,E=S-o,C=S+o),T=b):(i==="left"?x=f+Math.max(l,d)+o:i==="right"?x=f+m-Math.max(c,u)-o:x=this.caretX,s==="top"?(E=p,S=E-o,b=x-o,T=x+o):(E=p+v,S=E+o,b=x+o,T=x-o),C=E),{x1:b,x2:x,x3:T,y1:E,y2:S,y3:C}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=ta(r.rtl,this.x,this.width);for(e.x=_d(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Zt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c,boxPadding:d}=s,u=Zt(s.bodyFont),f=_d(this,"left",s),p=i.x(f),m=l<u.lineHeight?(u.lineHeight-l)/2:0,v=n.y+m;if(s.usePointStyle){const b={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(p,c)+c/2,T=v+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ym(e,b,x,T),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ym(e,b,x,T)}else{e.lineWidth=ze(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const b=i.leftForLtr(p,c-d),x=i.leftForLtr(i.xPlus(p,1),c-d-2),T=to(o.borderRadius);Object.values(T).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,sc(e,{x:b,y:v,w:c,h:l,radius:T}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sc(e,{x,y:v+1,w:c-2,h:l-2,radius:T}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,v,c,l),e.strokeRect(b,v,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,v+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,u=Zt(r.bodyFont);let f=u.lineHeight,p=0;const m=ta(r.rtl,this.x,this.width),v=function(R){n.fillText(R,m.x(e.x+p),e.y+f/2),e.y+=f+s},b=m.textAlign(o);let x,T,E,S,C,M,P;for(n.textAlign=o,n.textBaseline="middle",n.font=u.string,e.x=_d(this,b,r),n.fillStyle=r.bodyColor,Ge(this.beforeBody,v),p=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,M=i.length;S<M;++S){for(x=i[S],T=this.labelTextColors[S],n.fillStyle=T,Ge(x.before,v),E=x.lines,a&&E.length&&(this._drawColorBox(n,e,S,m,r),f=Math.max(u.lineHeight,l)),C=0,P=E.length;C<P;++C)v(E[C]),f=u.lineHeight;Ge(x.after,v)}p=0,f=u.lineHeight,Ge(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=ta(r.rtl,this.x,this.width);for(e.x=_d(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Zt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:m}=to(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+u,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+d-m),n.quadraticCurveTo(a+c,l+d,a+c-m,l+d),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+u),n.quadraticCurveTo(a,l,a+u,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Fl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=U1(this,e),l=Object.assign({},o,this._size),c=Y1(n,e,l),d=z1(e,l,c,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=On(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),iS(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),sS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Iu(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!Iu(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Fl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}Qm.positioners=Fl;var Hz={id:"tooltip",_element:Qm,positioners:Fl,afterInit(t,e,n){n&&(t.tooltip=new Qm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",n)===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ti,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Ti,beforeBody:Ti,beforeLabel:Ti,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return qe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ti,afterBody:Ti,beforeFooter:Ti,footer:Ti,afterFooter:Ti}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const qz=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Vz(t,e,n,r){const i=t.indexOf(e);if(i===-1)return qz(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Qz=(t,e)=>t===null?null:Pn(Math.round(t),0,e);class Uu extends Co{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(qe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Vz(r,e,Me(n,e),this._addedLabels),Qz(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){const n=this.getLabels();return e>=0&&e<n.length?n[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Uu.id="category";Uu.defaults={ticks:{callback:Uu.prototype.getLabelForValue}};function Kz(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:f}=t,p=s||1,m=d-1,{min:v,max:b}=e,x=!qe(o),T=!qe(a),E=!qe(c),S=(b-v)/(u+1);let C=Qb((b-v)/m/p)*p,M,P,R,I;if(C<1e-14&&!x&&!T)return[{value:v},{value:b}];I=Math.ceil(b/C)-Math.floor(v/C),I>m&&(C=Qb(I*C/m/p)*p),qe(l)||(M=Math.pow(10,l),C=Math.ceil(C*M)/M),i==="ticks"?(P=Math.floor(v/C)*C,R=Math.ceil(b/C)*C):(P=v,R=b),x&&T&&s&&aB((a-o)/s,C/1e3)?(I=Math.round(Math.min((a-o)/C,d)),C=(a-o)/I,P=o,R=a):E?(P=x?o:P,R=T?a:R,I=c-1,C=(R-P)/I):(I=(R-P)/C,jl(I,Math.round(I),C/1e3)?I=Math.round(I):I=Math.ceil(I));const U=Math.max(Kb(C),Kb(P));M=Math.pow(10,qe(l)?U:l),P=Math.round(P*M)/M,R=Math.round(R*M)/M;let L=0;for(x&&(f&&P!==o?(n.push({value:o}),P<o&&L++,jl(Math.round((P+L*C)*M)/M,o,q1(o,S,t))&&L++):P<o&&L++);L<I;++L)n.push({value:Math.round((P+L*C)*M)/M});return T&&f&&R!==a?n.length&&jl(n[n.length-1].value,a,q1(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!T||R===a)&&n.push({value:R}),n}function q1(t,e,{horizontal:n,minRotation:r}){const i=qr(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Yu extends Co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return qe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=ci(i),c=ci(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(s*.05)),a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Kz(i,s);return e.bounds==="ticks"&&jE(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Uc(e,this.chart.options.locale,this.options.ticks.format)}}class by extends Yu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_n(e)?e:0,this.max=_n(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=qr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}by.id="linear";by.defaults={ticks:{callback:of.formatters.numeric}};function V1(t){return t/Math.pow(10,Math.floor(Cr(t)))===1}function Gz(t,e){const n=Math.floor(Cr(e.max)),r=Math.ceil(e.max/Math.pow(10,n)),i=[];let s=_r(t.min,Math.pow(10,Math.floor(Cr(e.min)))),o=Math.floor(Cr(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do i.push({value:s,major:V1(s)}),++a,a===10&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l;while(o<n||o===n&&a<r);const c=_r(t.max,s);return i.push({value:c,major:V1(s)}),i}class DS extends Co{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Yu.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return _n(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=_n(e)?Math.max(0,e):null,this.max=_n(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=l=>r=e?r:l,o=l=>i=n?i:l,a=(l,c)=>Math.pow(10,Math.floor(Cr(l))+c);r===i&&(r<=0?(s(1),o(10)):(s(a(r,-1)),o(a(i,1)))),r<=0&&s(a(i,-1)),i<=0&&o(a(r,1)),this._zero&&this.min!==this._suggestedMin&&r===a(this.min,0)&&s(a(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=Gz(n,this);return e.bounds==="ticks"&&jE(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Uc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Cr(e),this._valueRange=Cr(this.max)-Cr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Cr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}DS.id="logarithmic";DS.defaults={ticks:{callback:of.formatters.logarithmic,major:{enabled:!0}}};function Km(t){const e=t.ticks;if(e.display&&t.display){const n=On(e.backdropPadding);return Me(e.font&&e.font.size,Fe.font.size)+n.height}return 0}function Zz(t,e,n){return n=_t(n)?n:[n],{w:FB(t,e.string,n),h:n.length*e.lineHeight}}function Q1(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Xz(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?St/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),u=Zt(c.font),f=Zz(t.ctx,u,t._pointLabels[l]);r[l]=f;const p=Hr(t.getIndexAngle(l)+a),m=Math.round(J0(p)),v=Q1(m,d.x,f.w,0,180),b=Q1(m,d.y,f.h,90,270);Jz(n,e,p,v,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=eW(t,r,i)}function Jz(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function eW(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,o=Km(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?St/i:0;for(let c=0;c<i;c++){const d=t.getPointPosition(c,a+o+n[c],l),u=Math.round(J0(Hr(d.angle+It))),f=e[c],p=rW(d.y,f.h,u),m=tW(u),v=nW(d.x,f.w,m);r.push({x:d.x,y:p,textAlign:m,left:v,top:p,right:v+f.w,bottom:p+f.h})}return r}function tW(t){return t===0||t===180?"center":t<180?"left":"right"}function nW(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function rW(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function iW(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=r.setContext(t.getPointLabelContext(i)),o=Zt(s.font),{x:a,y:l,textAlign:c,left:d,top:u,right:f,bottom:p}=t._pointLabelItems[i],{backdropColor:m}=s;if(!qe(m)){const v=to(s.borderRadius),b=On(s.backdropPadding);n.fillStyle=m;const x=d-b.left,T=u-b.top,E=f-d+b.width,S=p-u+b.height;Object.values(v).some(C=>C!==0)?(n.beginPath(),sc(n,{x,y:T,w:E,h:S,radius:v}),n.fill()):n.fillRect(x,T,E,S)}ho(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}function MS(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,st);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function sW(t,e,n,r){const i=t.ctx,s=e.circular,{color:o,lineWidth:a}=e;!s&&!r||!o||!a||n<0||(i.save(),i.strokeStyle=o,i.lineWidth=a,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),MS(t,n,s,r),i.closePath(),i.stroke(),i.restore())}function oW(t,e,n){return Es(t,{label:n,index:e,type:"pointLabel"})}class cf extends Yu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=On(Km(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=_n(e)&&!isNaN(e)?e:0,this.max=_n(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Km(this.options))}generateTickLabels(e){Yu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=dt(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Xz(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=st/(this._pointLabels.length||1),r=this.options.startAngle||0;return Hr(e*n+qr(r))}getDistanceFromCenterForValue(e){if(qe(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(qe(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return oW(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-It+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),MS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i}=n,s=this._pointLabels.length;let o,a,l;if(n.pointLabels.display&&iW(this,s),i.display&&this.ticks.forEach((c,d)=>{if(d!==0){a=this.getDistanceFromCenterForValue(c.value);const u=i.setContext(this.getContext(d-1));sW(this,u,a,s)}}),r.display){for(e.save(),o=s-1;o>=0;o--){const c=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:u}=c;!u||!d||(e.lineWidth=u,e.strokeStyle=d,e.setLineDash(c.borderDash),e.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),d=Zt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const u=On(c.backdropPadding);e.fillRect(-o/2-u.left,-s-d.size/2-u.top,o+u.width,d.size+u.height)}ho(e,a.label,0,-s,d,{color:c.color})}),e.restore()}drawTitle(){}}cf.id="radialLinear";cf.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:of.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};cf.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};cf.descriptors={angleLines:{_fallback:"grid"}};const df={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(df);function aW(t,e){return t-e}function K1(t,e){if(qe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),_n(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ya(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function G1(t,e,n,r){const i=ir.length;for(let s=ir.indexOf(t);s<i-1;++s){const o=df[ir[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return ir[s]}return ir[i-1]}function lW(t,e,n,r,i){for(let s=ir.length-1;s>=ir.indexOf(n);s--){const o=ir[s];if(df[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return ir[n?ir.indexOf(n):0]}function cW(t){for(let e=ir.indexOf(t)+1,n=ir.length;e<n;++e)if(df[ir[e]].common)return ir[e]}function Z1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=ey(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function dW(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function X1(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:dW(t,r,i,n)}class uf extends Co{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),i=this._adapter=new TY._date(e.adapters.date);i.init(n),Al(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:K1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=_n(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=_n(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=uB(i,s,o);return this._unit=n.unit||(r.autoSkip?G1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):lW(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:cW(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),X1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Pn(n,0,o),r=Pn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||G1(s.minUnit,n,r,this._getLabelCapacity(n)),a=Me(s.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ya(l)||l===!0,d={};let u=n,f,p;if(c&&(u=+e.startOf(u,"isoWeek",l)),u=+e.startOf(u,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=u,p=0;f<r;f=+e.add(f,a,o),p++)Z1(d,f,m);return(f===r||i.bounds==="ticks"||p===1)&&Z1(d,f,m),Object.keys(d).sort((v,b)=>v-b).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],d=l&&o[l],u=r[n],f=l&&d&&u&&u.major,p=this._adapter.format(e,i||(f?d:c)),m=s.ticks.callback;return m?dt(m,[p,n,r],this):p}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=qr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,X1(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(K1(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return FE(e.sort(aW))}}uf.id="time";uf.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Td(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Hs(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Hs(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class PS extends uf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Td(n,this.min),this._tableRange=Td(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Td(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Td(this._table,r*this._tableRange+this._minPos,!0)}}PS.id="timeseries";PS.defaults=uf.defaults;const kS="label";function J1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function uW(t,e){Object.assign(t.options,e)}function OS(t,e){t.labels=e}function RS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kS;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function hW(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kS;const n={labels:[],datasets:[]};return OS(n,t.labels),RS(n,t.datasets,e),n}function fW(t,e){let{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:u,...f}=t;const p=O.useRef(null),m=O.useRef(),v=()=>{p.current&&(m.current=new zc(p.current,{type:o,data:hW(a,s),options:l&&{...l},plugins:c}),J1(e,m.current))},b=()=>{J1(e,null),m.current&&(m.current.destroy(),m.current=null)};return O.useEffect(()=>{!i&&m.current&&l&&uW(m.current,l)},[i,l]),O.useEffect(()=>{!i&&m.current&&OS(m.current.config.data,a.labels)},[i,a.labels]),O.useEffect(()=>{!i&&m.current&&a.datasets&&RS(m.current.config.data,a.datasets,s)},[i,a.datasets]),O.useEffect(()=>{m.current&&(i?(b(),setTimeout(v)):m.current.update(u))},[i,l,a.labels,a.datasets,u]),O.useEffect(()=>{m.current&&(b(),setTimeout(v))},[o]),O.useEffect(()=>(v(),()=>b()),[]),D.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),d)}const pW=O.forwardRef(fW);function mW(t,e){return zc.register(e),O.forwardRef((n,r)=>D.createElement(pW,Object.assign({},n,{ref:r,type:t})))}const gW=mW("line",sf);zc.register(Uu,by,lf,Wc,Lz,Hz,Az);const yW={responsive:!0,plugins:{legend:{display:!1}}};function vW(t,e="gregory"){return[...t].sort((n,r)=>{const i=ha({periodId:n.period,calendar:e}).startDate,s=ha({periodId:r.period,calendar:e}).startDate;return Ia({date:i,calendar:e},{date:s,calendar:e},{inclusive:!1})?1:ds({date:i,calendar:e},{date:s,calendar:e},{inclusive:!1})?-1:0})}function bW(t,e){return t.map(({period:n})=>{try{return ha({periodId:n,calendar:e}).displayName}catch(r){return console.error(r),""}})}function IS({history:t}){const{systemInfo:e={}}=Jt(),{calendar:n="gregory"}=e,r=vW(t,n),s={labels:bW(r,n),datasets:[{label:"",data:r.map(({value:o})=>Number(o)),borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",borderWidth:1}]};return w.jsx(gW,{options:yW,data:s})}IS.propTypes={history:h.arrayOf(h.shape({period:h.string.isRequired,value:h.string.isRequired}))};const wW="_placeholder_4z9oj_1",xW={placeholder:wW},Ed=k.t("History"),_W=({history:t,periodId:e})=>{var n;return(t==null?void 0:t.length)>1?!1:((n=t==null?void 0:t[0])==null?void 0:n.period)===e};function NS({item:t}){var l;const{offline:e}=Wi(),{open:n,setOpen:r,openRef:i}=xE(t),s=wE(t,i.current),[o]=Gn();if(!e&&(!n||s.isLoading))return w.jsx(on,{title:Ed,open:n,onToggle:r,children:w.jsx(xs,{})});if(!e&&s.error)return w.jsx(on,{title:Ed,open:n,onToggle:r,children:w.jsx(kr,{title:k.t("Something went wrong loading the history"),children:w.jsx("p",{children:s.error.toString()})})});if(e&&!s.data)return w.jsx(Nt,{content:k.t("Not available offline"),children:w.jsx(on,{disabled:!0,title:Ed,open:!1,onToggle:()=>null})});const a=((l=s.data)==null?void 0:l.history)||[];return!a.length||_W({history:a,periodId:o})?w.jsx(on,{title:Ed,open:n,onToggle:r,children:w.jsx("p",{className:xW.placeholder,children:k.t("No history for this data item.")})}):w.jsx(on,{title:k.t("History"),open:n,onToggle:r,children:w.jsx(IS,{history:a})})}NS.propTypes={item:h.shape({categoryOptionCombo:h.string.isRequired,dataElement:h.string.isRequired,comment:h.string}).isRequired};const AS=(t,e)=>{const n=ar(r=>r.getMinMaxValues({dataElementId:t,categoryOptionComboId:e}));return O.useMemo(()=>({min:n==null?void 0:n.minValue,max:n==null?void 0:n.maxValue}),[n])};function jS(t,e){if(!t||!e)return null;const n=parseFloat(t),r=parseFloat(e);return n>r?null:(parseFloat(t)+parseFloat(e))/2}const TW="_averageValue_j94oz_1",EW="_spaceBetween_j94oz_11",SW="_limits_j94oz_31",CW="_limit_j94oz_31",DW="_limitLabel_j94oz_41",MW="_limitValue_j94oz_47",PW="_limitsDisplayWrapper_j94oz_54",kW="_limitsDisplayWrapperMargin_j94oz_59",OW="_onlyDeleteButton_j94oz_63",$n={averageValue:TW,spaceBetween:EW,limits:SW,limit:CW,limitLabel:DW,limitValue:MW,limitsDisplayWrapper:PW,limitsDisplayWrapperMargin:kW,onlyDeleteButton:OW};function wy({avg:t}){const e=t||"-";return w.jsxs("div",{className:$n.averageValue,children:[w.jsx(Ta,{color:y.grey600}),k.t("Average value: {{avg}}",{avg:e,nsSeparator:"-:-"})]})}wy.propTypes={avg:h.number};function LS(t,{categoryOptionCombo:e,dataElement:n,orgUnit:r}){return t.findIndex(i=>i.categoryOptionCombo===e&&i.dataElement===n&&i.orgUnit===r)}function RW(t,e){return{...t,minMaxValues:t!=null&&t.minMaxValues?[...t.minMaxValues,e]:[e]}}function IW(t,e,n){const r=[...t.minMaxValues];return r[n]=e,{...t,minMaxValues:r}}const NW={resource:"dataEntry/minMaxValues",type:"create",data:({dataElement:t,orgUnit:e,categoryOptionCombo:n,minValue:r,maxValue:i})=>({dataElement:t,orgUnit:e,categoryOptionCombo:n,minValue:r,maxValue:i})};function AW(t){const e=gr(),n=zi(),r=hc(),{show:i}=Ar(o=>o,{critical:!0});return Eh(({dataElement:o,orgUnit:a,categoryOptionCombo:l,minValue:c,maxValue:d})=>{const u={dataElement:o,orgUnit:a,categoryOptionCombo:l,minValue:c,maxValue:d};return r.mutate(NW,{variables:u})},{mutationKey:n,onSuccess:Hh(t),onMutate:async o=>{await e.cancelQueries(n);const a=e.getQueryData(n);return e.setQueryData(n,()=>{const c=(a==null?void 0:a.minMaxValues)||[],d=LS(c,o);return d===-1?RW(a,o):IW(a,o,d)}),{previousDataValueSet:a,dataValueSetQueryKey:n}},onError:(o,a,l)=>{i(`Something went wrong while updating the min-max limits: ${o.message}`),e.setQueryData(l.dataValueSetQueryKey,l.previousDataValueSet)}})}function jW(t,e,n){const r=[...t.minMaxValues.slice(0,n),...t.minMaxValues.slice(n+1)];return{...t,minMaxValues:r}}const LW={resource:"dataEntry/minMaxValues",type:"delete",params:({dataElement:t,orgUnit:e,categoryOptionCombo:n})=>({de:t,ou:e,co:n})};function $W(t){const e=gr(),n=zi(),r=hc(),{show:i}=Ar(o=>o,{critical:!0});return Eh(({dataElement:o,orgUnit:a,categoryOptionCombo:l})=>{const c={dataElement:o,orgUnit:a,categoryOptionCombo:l};return r.mutate(LW,{variables:c})},{mutationKey:n,onSuccess:Hh(t),onMutate:async o=>{await e.cancelQueries(n);const a=e.getQueryData(n)||{};return e.setQueryData(n,()=>{const l=a.minMaxValues||[],c=LS(l,o);return jW(a,o,c)}),{previousDataValueSet:a,dataValueSetQueryKey:n}},onError:(o,a,l)=>{i(`Something went wrong while deleting the min-max limits: ${o.message}`),e.setQueryData(l.dataValueSetQueryKey,l.previousDataValueSet)}})}const xp=k.t("Delete limits");function xy({dataElementId:t,categoryOptionComboId:e,disabled:n}){const r=ja(),{offline:i}=Wi(),[s]=dr(),o=$W();if(!r)return w.jsx(Nt,{content:k.t("You do not have the authority to delete limits"),children:w.jsx(We,{small:!0,secondary:!0,disabled:!0,children:xp})});if(i)return w.jsx(Nt,{content:k.t("Not available offline"),children:w.jsx(We,{small:!0,secondary:!0,disabled:!0,children:xp})});const a=async()=>{await o.mutate({categoryOptionCombo:e,dataElement:t,orgUnit:s})};return w.jsx(We,{small:!0,secondary:!0,onClick:a,loading:o.isLoading,disabled:n,children:xp})}xy.propTypes={categoryOptionComboId:h.string.isRequired,dataElementId:h.string.isRequired,disabled:h.bool};const _p=k.t("Edit limits");function $S({onClick:t}){const e=ja(),{offline:n}=Wi();return e?n?w.jsx(Nt,{content:k.t("Not available offline"),children:w.jsx(We,{small:!0,primary:!0,disabled:!0,children:_p})}):w.jsx(We,{small:!0,primary:!0,onClick:t,children:_p}):w.jsx(Nt,{content:k.t("You do not have the authority to add limits"),children:w.jsx(We,{small:!0,primary:!0,disabled:!0,children:_p})})}$S.propTypes={onClick:h.func.isRequired};function FS({categoryOptionComboId:t,dataElementId:e,min:n,max:r,onEditClick:i,canAdd:s,canDelete:o}){const a=jS(n,r);return w.jsxs("div",{className:$n.limits,children:[w.jsx(wy,{avg:a}),w.jsxs("div",{"data-test":"limits-display",className:Pe($n.limitsDisplayWrapper,$n.limitsDisplayWrapperMargin),children:[n!==null&&w.jsxs("div",{className:$n.limit,children:[w.jsx("span",{className:$n.limitLabel,children:k.t("Min")}),w.jsx("span",{className:$n.limitValue,children:n})]}),n!==null&&r!==null&&w.jsx("div",{className:$n.spaceBetween}),r!==null&&w.jsxs("div",{className:$n.limit,children:[w.jsx("span",{className:$n.limitLabel,children:k.t("Max")}),w.jsx("span",{className:$n.limitValue,children:r})]})]}),w.jsxs(ug,{children:[s&&w.jsx($S,{onClick:i}),o&&w.jsx("div",{className:Pe({[$n.onlyDeleteButton]:!s&&o}),children:w.jsx(xy,{dataElementId:e,categoryOptionComboId:t})})]})]})}FS.propTypes={categoryOptionComboId:h.string.isRequired,dataElementId:h.string.isRequired,onEditClick:h.func.isRequired,canAdd:h.bool,canDelete:h.bool,max:h.number,min:h.number};const FW="_label_9rb49_1",BW={label:FW},Tp=k.t("Add limits");function BS({onAddLimitsClick:t}){const e=ja(),{offline:n}=Wi();return e?n?w.jsx(Nt,{content:k.t("Not available offline"),children:w.jsx(We,{small:!0,secondary:!0,disabled:!0,children:Tp})}):w.jsx(We,{small:!0,secondary:!0,onClick:t,children:Tp}):w.jsx(Nt,{content:k.t("You do not have the authority to add limits"),children:w.jsx(We,{small:!0,secondary:!0,disabled:!0,children:Tp})})}BS.propTypes={onAddLimitsClick:h.func.isRequired};function US({onAddLimitsClick:t,canAdd:e}){return w.jsxs(w.Fragment,{children:[w.jsx("p",{className:BW.label,children:k.t("No limits set for this data item.")}),e&&w.jsx(BS,{onAddLimitsClick:t})]})}US.propTypes={onAddLimitsClick:h.func.isRequired,canAdd:h.bool};const UW="_whiteButton_d0wqq_11",YW="_basicInput_d0wqq_21 _hw100_d0wqq_2 _cellPadding_d0wqq_6",zW="_alignToEnd_d0wqq_30",WW="_longText_d0wqq_36 _basicInput_d0wqq_21 _hw100_d0wqq_2 _cellPadding_d0wqq_6",HW="_checkboxWrapper_d0wqq_41 _hw100_d0wqq_2 _densePadding_d0wqq_15",qW="_radioFlexWrapper_d0wqq_47 _hw100_d0wqq_2 _densePadding_d0wqq_15",VW="_hidden_d0wqq_53",QW="_selectFlexWrapper_d0wqq_57 _hw100_d0wqq_2 _densePadding_d0wqq_15",KW="_selectFlexItem_d0wqq_64",GW="_selectMulti_d0wqq_68",ZW="_fileInputWrapper_d0wqq_72 _hw100_d0wqq_2 _densePadding_d0wqq_15",XW="_fileInput_d0wqq_72",JW="_fileLink_d0wqq_82",eH="_deleteFileButton_d0wqq_85 _whiteButton_d0wqq_11",tH="_hideForPrint_d0wqq_90 _hideForPrint_9lzdq_20",nH="_select_d0wqq_57",rH="_dateInput_d0wqq_108",iH="_dateInputContainer_d0wqq_112",sH="_dateTimeInput_d0wqq_116",oH="_timeLabel_d0wqq_120",mt={whiteButton:UW,basicInput:YW,alignToEnd:zW,longText:WW,checkboxWrapper:HW,radioFlexWrapper:qW,hidden:VW,selectFlexWrapper:QW,selectFlexItem:KW,selectMulti:GW,fileInputWrapper:ZW,fileInput:XW,fileLink:JW,deleteFileButton:eH,hideForPrint:tH,select:nH,dateInput:rH,dateInputContainer:iH,dateTimeInput:sH,timeLabel:oH},zu=t=>["true","1",!0,1].includes(t)?"true":["false","0",!1,0].includes(t)?"false":"",Ss={coc:h.string,de:h.string,disabled:h.bool,initialValue:h.string,fieldname:h.string,locked:h.bool,onBlur:h.func,onFocus:h.func,onKeyDown:h.func.isRequired,setValueSynced:h.func},aH=E2(5e4),lH=E2(1),cH=/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,dH=t=>!t||cH.test(t)?void 0:k.t("Please provide a valid time in the format HH{{c}}MM",{c:":"}),YS=ga(co,V0(1)),zS=ga(co,V0(0)),WS=ga(co,S2(-1)),uH=Fc(0,100),hH=ga(co,V0(0),S2(100)),fH=Fc(0,1),pH={[pe.DATE]:null,[pe.DATETIME]:null,[pe.EMAIL]:wF,[pe.INTEGER]:co,[pe.INTEGER_POSITIVE]:YS,[pe.INTEGER_NEGATIVE]:WS,[pe.INTEGER_ZERO_OR_POSITIVE]:zS,[pe.LETTER]:lH,[pe.NUMBER]:CF,[pe.PERCENTAGE]:uH,[pe.PHONE_NUMBER]:EF,[pe.TEXT]:aH,[pe.TIME]:dH,[pe.UNIT_INTERVAL]:fH,[pe.URL]:PF},mH=t=>{const e=pH[t];return e||(()=>{})},gH=(t,e)=>g2.includes(t)&&Number.isFinite(e==null?void 0:e.min)&&Number.isFinite(e==null?void 0:e.max)?Fc(e.min,e.max):()=>{},yH={[pe.INTEGER]:co,[pe.INTEGER_POSITIVE]:YS,[pe.INTEGER_NEGATIVE]:WS,[pe.INTEGER_ZERO_OR_POSITIVE]:zS,[pe.NUMBER]:co,[pe.PERCENTAGE]:hH},ew=t=>typeof t>"u"||t===null||t==="",vH=(t,e)=>{const n=k.t('Please make sure the value of this input is less than the value in "{{otherField}}".',{otherField:e||t});return(r,i)=>ew(r)||ew(i[t])||parseFloat(r)<parseFloat(i[t])?void 0:n},bH={[pe.DATETIME]:"datetime-local",[pe.EMAIL]:"email",[pe.PHONE_NUMBER]:"tel",[pe.TIME]:"time",[pe.URL]:"url"},wH=({value:t,valueType:e})=>{if(t===void 0)return;const n=t.trim();return n===""?"":n&&Nl.includes(e)&&Number.isFinite(Number(t))?Number(t).toString():n},HS=({fieldname:t,deId:e,cocId:n,valueType:r,onKeyDown:i,onFocus:s,onBlur:o,disabled:a,locked:l,setValueSynced:c,initialValue:d})=>{const[u,f]=O.useState(d),[p,m]=O.useState(d),[v,b]=O.useState(!1);O.useEffect(()=>{v&&c(u===p)},[u,p,v,c]);const x=AS(e,n),T=ji(I=>I.setWarning),E=ji(I=>I.setError),S=mH(r),C=gH(r,x);O.useEffect(()=>{if(!v){const I=C(u);T(t,I)}},[u,v,C,T,t]);const{mutate:M}=bi({deId:e,cocId:n}),P=I=>{b(!0),M({value:I||""},{onSuccess:()=>{m(I)}})},R=I=>{const U=wH({value:I,valueType:r}),L=S(I);E(t,L);const z=C(I);T(t,z),U!==p&&!L&&P(U)};return w.jsx("input",{value:u??"",className:Pe(mt.basicInput,{[mt.alignToEnd]:Nl.includes(r)}),type:bH[r],onFocus:(...I)=>{s==null||s(...I)},onBlur:()=>{o(),R(u)},onChange:I=>{f(I.target.value)},autoComplete:"off",onKeyDown:i,disabled:a,readOnly:l})};HS.propTypes={...Ss,valueType:h.string};const qS=({deId:t,cocId:e,disabled:n,locked:r,onKeyDown:i,onFocus:s,onBlur:o,setValueSynced:a,initialValue:l})=>{const[c,d]=O.useState(()=>zu(l)),[u,f]=O.useState(()=>zu(l)),[p,m]=O.useState(!1);O.useEffect(()=>{p&&a(c===u)},[c,u,p,a]);const{mutate:v}=bi({deId:t,cocId:e}),b=T=>{m(!0),v({value:T||""},{onSuccess:()=>{f(T)}})},x=T=>{d(T),T!==u&&b(T)};return w.jsxs("div",{className:mt.radioFlexWrapper,onClick:s,onBlur:o,children:[w.jsx(nu,{dense:!0,label:k.t("Yes"),value:"true",checked:c==="true",onChange:()=>{x("true")},onKeyDown:i,disabled:n||r}),w.jsx(nu,{dense:!0,label:k.t("No"),value:"false",checked:c==="false",onChange:()=>{x("false")},onKeyDown:i,disabled:n||r}),w.jsx(We,{small:!0,secondary:!0,className:Pe(mt.whiteButton,{[mt.hidden]:c===""}),onClick:()=>{x(""),s()},onKeyDown:i,disabled:n||r,children:k.t("Clear")})]})};qS.propTypes=Ss;function xH(t){const{baseUrl:e}=Jt();if(!t)return"";const n=new URLSearchParams(t).toString();return`${e}/api/dataValues/files?${n}`}const _H=t=>`${(t/1024).toFixed(2)} KB`,Gm=({image:t,deId:e,cocId:n,disabled:r,locked:i,onKeyDown:s,onFocus:o,onBlur:a,initialValue:l,setValueSynced:c})=>{const[d,u]=O.useState(l),[f,p]=O.useState(l),[m,v]=O.useState(!1);O.useEffect(()=>{m&&c(typeof d=="string"?d===f:d.name&&d.name===(f==null?void 0:f.name)&&d.size&&d.size===(f==null?void 0:f.size))},[d,f,m,c]);const b=Lc({deId:e,cocId:n}),x=xH(b),{data:T}=jr(["fileResources",{id:d}],{enabled:!!d&&!m&&typeof d=="string"}),{mutate:E}=p2({deId:e,cocId:n}),{mutate:S}=m2({deId:e,cocId:n}),C=({files:I})=>{const U=I[0],L={name:U.name,size:U.size};v(!0),u(L),U instanceof File&&E({file:U},{onSuccess:()=>{p(L),a()}})},M=()=>{u(""),v(!0),S(null,{onSuccess:()=>{p(""),a()}})},R=typeof d!="string"&&(d==null?void 0:d.name)&&(d==null?void 0:d.size)?d:T&&d?{name:T.name,size:T.contentLength}:null;return w.jsx("div",{className:mt.fileInputWrapper,onClick:o,children:R?w.jsxs(w.Fragment,{children:[w.jsx(ex,{color:y.grey700}),w.jsx("a",{target:"_blank",rel:"noreferrer",href:x,className:mt.fileLink,children:R.name}),` (${_H(R.size)})`,w.jsx(We,{small:!0,secondary:!0,className:mt.deleteFileButton,onClick:M,onFocus:(...I)=>{o==null||o(...I)},onBlur:a,onKeyDown:s,disabled:r||i,children:k.t("Delete")})]}):w.jsx(gg,{className:mt.fileInput,onChange:C,onFocus:(...I)=>{o==null||o(...I)},onBlur:a,onKeyDown:s,small:!0,buttonLabel:t?k.t("Upload an image"):k.t("Upload a file"),disabled:r||i})})};Gm.propTypes={...Ss,image:h.bool};const VS=({deId:t,cocId:e,onKeyDown:n,onFocus:r,onBlur:i,disabled:s,locked:o,initialValue:a,setValueSynced:l})=>{const[c,d]=O.useState(a),[u,f]=O.useState(a),[p,m]=O.useState(!1);O.useEffect(()=>{p&&l(c===u)},[c,u,p,l]);const{mutate:v}=bi({deId:t,cocId:e}),b=T=>{m(!0),v({value:T||""},{onSuccess:()=>{f(T)}})},x=()=>{c!==u&&b(c)};return w.jsx("textarea",{className:mt.longText,rows:"4",value:c??"",onChange:T=>{d(T.target.value)},onFocus:(...T)=>{r==null||r(...T)},onBlur:()=>{i(),x()},onKeyDown:n,disabled:s,readOnly:o,autoComplete:"off"})};VS.propTypes=Ss;const QS=",",TH=({value:t,multi:e,sortByOptionsOrder:n})=>{var r;return e?((r=t==null?void 0:t.sort(n))==null?void 0:r.join(QS))??"":t??""},EH=({value:t,multi:e})=>e?t&&t.split(QS)||[]:t??"",SH=t=>(e,n)=>{let r,i;for(let s=0;s<t.length&&!(r!==void 0&&i!==void 0);s++){const o=t[s];o.code===e&&(r=s),o.code===n&&(i=s)}return r-i},KS=({optionSetId:t,deId:e,cocId:n,onKeyDown:r,onFocus:i,onBlur:s,disabled:o,locked:a,multi:l,initialValue:c,setValueSynced:d})=>{const{data:u}=et(),p=UT(u,t).options.filter(L=>!!L),m=SH(p),[v,b]=O.useState(c),[x,T]=O.useState(c),[E,S]=O.useState(!1);O.useEffect(()=>{E&&d(v===x)},[v,x,E,d]);const{mutate:C}=bi({deId:e,cocId:n}),M=L=>{S(!0),C({value:L},{onSuccess:()=>{T(L)}})},P=L=>{const z=TH({value:L,multi:l,sortByOptionsOrder:m});b(z),z!==x&&M(z)},R=l?Yx:Ju,I=l?zx:eh,U=l?k.t("Choose option(s)"):k.t("Choose an option");return w.jsxs("div",{className:mt.selectFlexWrapper,onClick:i,onBlur:s,children:[w.jsx("div",{className:mt.selectFlexItem,children:w.jsx(R,{dense:!0,className:Pe(mt.select,{[mt.selectMulti]:l}),placeholder:U,selected:EH({value:v,multi:l}),onChange:({selected:L})=>{P(L)},onFocus:(...L)=>{i==null||i(...L)},onKeyDown:r,onBlur:s,disabled:o||a,children:p.map(({id:L,code:z,displayName:q})=>w.jsx(I,{label:q,value:z},L))})}),v&&w.jsx(We,{small:!0,secondary:!0,className:Pe(mt.whiteButton,mt.hideForPrint),onClick:()=>{P(""),s()},disabled:o||a,children:k.t("Clear")})]})};KS.propTypes={...Ss,multi:h.bool,optionSetId:h.string};const GS=({deId:t,cocId:e,onKeyDown:n,onFocus:r,onBlur:i,disabled:s,locked:o,initialValue:a,setValueSynced:l})=>{const[c,d]=O.useState(()=>zu(a)),[u,f]=O.useState(()=>zu(a)),[p,m]=O.useState(!1);O.useEffect(()=>{p&&l(c===u)},[c,u,p,l]);const{mutate:v}=bi({deId:t,cocId:e}),b=T=>{m(!0),v({value:T||""},{onSuccess:()=>{f(T)}})},x=()=>{c!==u&&b(c)};return w.jsx("div",{className:mt.checkboxWrapper,onClick:r,children:w.jsx(pc,{dense:!0,checked:c==="true",onFocus:(...T)=>{r==null||r(...T)},onChange:T=>{d(T.checked?"true":"")},onBlur:()=>{x(),i()},onKeyDown:n,disabled:s||o})})};GS.propTypes=Ss;const ZS=({cocId:t,deId:e,disabled:n,locked:r,onFocus:i,onBlur:s,onKeyDown:o,initialValue:a,setValueSynced:l})=>{var M;const[c,d]=O.useState(a),[u,f]=O.useState(a),[p,m]=O.useState(!1);O.useEffect(()=>{p&&l(c===u)},[c,u,p,l]);const{data:v}=Ts(),b=(M=v==null?void 0:v.settings)==null?void 0:M.keyUiLocale,{systemInfo:x}=Jt(),{calendar:T}=x,{mutate:E}=bi({deId:e,cocId:t}),S=P=>{m(!0),E({value:P||""},{onSuccess:()=>{f(P),s()}})},C=P=>{d(P),P!==u&&S(P)};return w.jsx("div",{onClick:()=>{i()},className:mt.dateInputContainer,children:w.jsx(c0,{className:mt.dateInput,autoComplete:"off",onKeyDown:o,disabled:n,readOnly:r,date:c?fa(c,T):"",calendar:T,onDateSelect:P=>{const R=P!=null&&P.calendarDateString?vs(P==null?void 0:P.calendarDateString,T):"";C(R)},locale:b,clearable:!0})})};ZS.propTypes=Ss;const tw=({date:t,time:e})=>`${t}${e===""?"":"T"+e}`,XS=({cocId:t,deId:e,disabled:n,fieldname:r,locked:i,onFocus:s,onBlur:o,onKeyDown:a,initialValue:l,setValueSynced:c})=>{var U;const{data:d}=Ts(),u=(U=d==null?void 0:d.settings)==null?void 0:U.keyUiLocale,{systemInfo:f={}}=Jt(),{calendar:p="gregory"}=f,[m,v]=O.useState(l),[b,x]=O.useState(()=>(l==null?void 0:l.substring(0,10))??""),[T,E]=O.useState(()=>(l==null?void 0:l.substring(11,23))??""),[S,C]=O.useState(!1);O.useEffect(()=>{if(S){const L=tw({date:b,time:T});c(L===m)}},[b,T,m,S,c]);const{mutate:M}=bi({deId:e,cocId:t}),P=L=>{C(!0),M({value:L??""},{onSuccess:()=>{v(L),o()}})},R=({date:L,time:z})=>{const q=tw({date:L,time:z});L===""||z===""||q!==m&&P(q)},I=()=>{x(""),E(""),m!==""&&P("")};return w.jsxs("div",{className:mt.dateTimeInput,onClick:()=>{s()},children:[w.jsx("div",{className:mt.dateTimeInput,children:w.jsx(c0,{label:k.t("Pick a date"),className:mt.dateInput,autoComplete:"off",onKeyDown:a,disabled:n,readOnly:i,date:b===""?"":fa(b,p),calendar:p,onDateSelect:L=>{const z=L!=null&&L.calendarDateString?vs(L==null?void 0:L.calendarDateString,p):"";x(z),R({date:z,time:T})},locale:u})}),w.jsxs("div",{className:mt.dateTimeInput,children:[w.jsx("label",{htmlFor:`${r}-time`,className:mt.timeLabel,children:k.t("Pick a time")}),w.jsx("input",{id:`${r}-time`,readOnly:i,type:"time",value:T,onChange:L=>{var q;const z=((q=L==null?void 0:L.target)==null?void 0:q.value)??"";E(z),R({date:b,time:z})},"data-test":"time-input"})]}),w.jsx("div",{className:mt.dateTimeInput,children:w.jsx(We,{small:!0,onClick:I,children:k.t("Clear")})})]})};XS.propTypes=Ss;const Wu={min:k.t("Min"),max:k.t("Max")};function JS({categoryOptionComboId:t,dataElementId:e,valueType:n,onDone:r,children:i}){const[s]=dr(),{mutate:o}=AW(r),a=async({min:f,max:p})=>await o({categoryOptionCombo:t,dataElement:e,orgUnit:s,minValue:parseFloat(f),maxValue:parseFloat(p)}),l=yH[n],c=ga(jb,l,vH("max",Wu.max)),d=ga(jb,l),u=f=>{let p;const m=c(f.min,f);m&&(p||(p={}),p.min=m);const v=d(f.max,f);return v&&(p||(p={}),p.max=v),p};return w.jsx(yx,{onSubmit:a,validate:u,children:()=>i})}JS.propTypes={categoryOptionComboId:h.string.isRequired,children:h.any.isRequired,dataElementId:h.string.isRequired,valueType:h.string.isRequired,onDone:h.func.isRequired};const CH="_container_1ah61_1",DH={container:CH};function Zm({label:t,name:e,onChange:n,onFocus:r,onBlur:i,value:s,error:o}){return w.jsx(ag,{label:t,name:e,className:DH.container,children:w.jsx(lg,{children:w.jsx(Gw,{dense:!0,onChange:({value:a})=>n(a),name:e,value:s||"",error:o,onFocus:r,onBlur:i})})})}Zm.propTypes={error:h.bool.isRequired,label:h.string.isRequired,name:h.string.isRequired,value:h.string.isRequired,onBlur:h.func.isRequired,onChange:h.func.isRequired,onFocus:h.func.isRequired};const MH="_container_1q6w6_1",PH="_error_1q6w6_7",kH="_errorLabel_1q6w6_11",Sd={container:MH,error:PH,errorLabel:kH};function eC({errors:t}){return!t.min&&!t.max?null:w.jsx("div",{className:Sd.container,children:Object.entries(t).map(([e,n])=>w.jsxs("span",{className:Sd.error,children:[w.jsx("span",{className:Sd.errorLabel,children:Wu[e]}),w.jsx("span",{className:Sd.errorMessage,children:n})]},e))})}eC.propTypes={errors:h.object};function tC({limits:t,categoryOptionComboId:e,dataElementId:n,onCancel:r,canAdd:i,canDelete:s,unsavedLimits:o,cellId:a}){const l=ma(x=>x.setUnsavedLimits),c=vx(),{submitting:d,submitFailed:u,errors:f}=c.getState(),p=Yp("min",{initialValue:(o==null?void 0:o.min)||t.min,format:x=>x!==void 0?x.toString():""}),m=Yp("max",{initialValue:(o==null?void 0:o.max)||t.max,format:x=>x!==void 0?x.toString():""}),v=jS(p.input.value,m.input.value),b=x=>()=>{var T;l(a,{min:p.input.value,max:m.input.value}),(T=x==null?void 0:x.onBlur)==null||T.call(x)};return w.jsxs("form",{onSubmit:x=>{x.preventDefault(),c.submit()},children:[w.jsxs("div",{className:$n.limits,children:[w.jsx(wy,{avg:v}),w.jsxs("div",{className:$n.limitsDisplayWrapper,children:[w.jsx(Zm,{...p.input,onBlur:b(p.input),label:Wu.min,error:u&&!!p.meta.error,disabled:!i}),w.jsx("div",{className:$n.spaceBetween}),w.jsx(Zm,{...m.input,onBlur:b(m.input),label:Wu.max,error:u&&!!m.meta.error,disabled:!i})]})]}),u&&w.jsx(eC,{errors:f}),w.jsxs(ug,{children:[i&&w.jsx(We,{small:!0,primary:!0,type:"submit",loading:d,children:d?k.t("Saving..."):k.t("Save limits")}),w.jsx(We,{small:!0,secondary:!0,disabled:d,onClick:r,children:k.t("Cancel")}),s&&w.jsx(xy,{dataElementId:n,categoryOptionComboId:e,disabled:t.min===void 0&&t.max===void 0})]})]})}tC.propTypes={categoryOptionComboId:h.string.isRequired,cellId:h.string.isRequired,dataElementId:h.string.isRequired,limits:h.shape({max:h.number,min:h.number}).isRequired,onCancel:h.func.isRequired,canAdd:h.bool,canDelete:h.bool,unsavedLimits:h.shape({max:h.string,min:h.string})};function nC({limits:t,categoryOptionComboId:e,dataElementId:n,valueType:r,onDone:i,onCancel:s,canAdd:o,canDelete:a,unsavedLimits:l,cellId:c}){return w.jsx(JS,{categoryOptionComboId:e,dataElementId:n,valueType:r,onDone:i,children:w.jsx(tC,{limits:t,categoryOptionComboId:e,dataElementId:n,onCancel:s,canAdd:o,canDelete:a,unsavedLimits:l,cellId:c})})}nC.propTypes={categoryOptionComboId:h.string.isRequired,cellId:h.string.isRequired,dataElementId:h.string.isRequired,limits:h.shape({max:h.number,min:h.number}).isRequired,valueType:h.string.isRequired,onCancel:h.func.isRequired,onDone:h.func.isRequired,canAdd:h.bool,canDelete:h.bool,unsavedLimits:h.shape({max:h.string,min:h.string})};const Ep=k.t("Min and max limits");function rC({dataValue:t}){const[e,n]=O.useState(!0),[r,i]=O.useState(!1),s=Ac(),o=Gh({item:t,contextSelectionId:s}),a=ma(E=>E.getUnsavedLimits(o)),{valueType:l,dataElement:c,categoryOptionCombo:d,canHaveLimits:u}=t,f=!u,p=AS(c,d),{data:m}=Ts(),v=BL(m),b=UL(m);O.useEffect(()=>{i(!1)},[t]);const x=ma(E=>E.deleteUnsavedLimits),T=()=>{i(!1),x(o)};if(!r&&!a&&!p.min&&!p.max){const E=()=>i(!0);return w.jsx(on,{title:Ep,disabled:f,open:e,onToggle:n,children:w.jsx(US,{onAddLimitsClick:E,canAdd:b})})}return r||a?w.jsx(on,{title:Ep,disabled:f,open:e,onToggle:n,children:w.jsx(nC,{dataElementId:c,categoryOptionComboId:d,limits:p,valueType:l,onCancel:T,onDone:T,canAdd:b,canDelete:v,unsavedLimits:a,cellId:o})}):w.jsx(on,{title:Ep,disabled:f,open:e,onToggle:n,children:w.jsx(FS,{dataElementId:c,categoryOptionComboId:d,max:p.max,min:p.min,onEditClick:()=>i(!0),canAdd:b,canDelete:v})})}rC.propTypes={dataValue:h.shape({canHaveLimits:h.bool.isRequired,categoryOptionCombo:h.string.isRequired,dataElement:h.string.isRequired,valueType:h.string.isRequired}).isRequired};function iC({hide:t}){const e=H0();return O.useEffect(()=>{e||t()},[e,t]),e?w.jsxs(Zh,{children:[w.jsx(Xh,{onClose:t,children:k.t("Details")}),w.jsx(DE,{item:e}),w.jsx(IE,{item:e}),w.jsx(rC,{dataValue:e}),w.jsx(NS,{item:e}),w.jsx(_E,{item:e})]}):null}iC.propTypes=q0;const OH="_wrapper_gifug_1",RH="_formWrapper_gifug_10",IH="_formArea_gifug_16",NH="_footer_gifug_27",AH="_formMessageBox_gifug_32",jH="_hideForPrint_gifug_38 _hideForPrint_9lzdq_20",Rs={wrapper:OH,formWrapper:RH,formArea:IH,footer:NH,formMessageBox:AH,hideForPrint:jH},LH=t=>{let{missingEntryPoint:e,appShortName:n}=t;return D.createElement(D.Fragment,null,D.createElement("p",null,"Plugin unavailable"),e?D.createElement(D.Fragment,null,D.createElement("p",null,`You do not have access to the requested plugin ${n}, or it is not installed`)):null)},$H={apps:{resource:"apps"}},FH=t=>{var e;let{apps:n,appShortName:r}=t;return(e=n.find(i=>{let{short_name:s}=i;return s&&s===r}))===null||e===void 0?void 0:e.pluginLaunchUrl},BH=t=>{let{pluginSource:e,pluginShortName:n,onLoad:r,height:i,width:s,className:o,clientWidth:a,...l}=t;const c=O.useRef(null),{add:d}=O.useContext(WD),{data:u}=dg($H),f=e??FH({apps:(u==null?void 0:u.apps)||[],appShortName:n}),[p,m]=O.useState(!1),[v,b]=O.useState(150),[x,T]=O.useState(500),E=O.useMemo(()=>l,[...Object.keys(l).sort().map(R=>l[R])]),S=O.useRef(f),C=O.useRef(!1);O.useEffect(()=>{f!==S.current&&(C.current=!1,S.current=f)},[f]);const M=!i,P=!s&&a;return O.useEffect(()=>{if(!c.current)return;const R={...E,alertsAdd:d,setPluginHeight:M?b:null,setPluginWidth:P?T:null,setInErrorState:m,clientWidth:a};if(!C.current&&!p){const I=nv.on("getPropsFromParent",{window:c.current.contentWindow},()=>(C.current=!0,R));return()=>I.cancel()}C.current&&c.current.contentWindow&&!p&&nv.send(c.current.contentWindow,"updated",R).catch(I=>{console.error(I)})},[E,p,d,M,P,a]),u&&!f?D.createElement(LH,{missingEntryPoint:!0,appShortName:n}):f?D.createElement("iframe",{ref:c,src:f,className:o,width:a?x:s??"100%",height:i??v,style:{border:"none"},onLoad:r}):D.createElement(D.Fragment,null)},_y={all:["dataSets",{params:{fields:"dataEntryForm[id],formType,version,id"}}],byId:t=>["dataEntry/customForms",{id:t}]},UH=({id:t,version:e})=>{if(!t||!e)throw new Error("Both a version and an id are required");return jr(_y.byId(t),{meta:{version:e,persist:!0},networkMode:"online"})},YH="_customForm_zgtof_1",zH={customForm:YH};var Ty={exports:{}},Lr={},hf={},WH=0;hf.SAME=WH;var HH=1;hf.CAMELCASE=HH;hf.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Lr,"__esModule",{value:!0});function qH(t,e){return VH(t)||QH(t,e)||KH(t,e)||GH()}function VH(t){if(Array.isArray(t))return t}function QH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function KH(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sC=0,Cs=1,ff=2,pf=3,Ey=4,oC=5,aC=6;function ZH(t){return Tn.hasOwnProperty(t)?Tn[t]:null}function Zn(t,e,n,r,i,s,o){this.acceptsBooleans=e===ff||e===pf||e===Ey,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tn={},XH=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];XH.forEach(function(t){Tn[t]=new Zn(t,sC,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=qH(t,2),n=e[0],r=e[1];Tn[n]=new Zn(n,Cs,!1,r,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tn[t]=new Zn(t,ff,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tn[t]=new Zn(t,ff,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(t){Tn[t]=new Zn(t,pf,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tn[t]=new Zn(t,pf,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tn[t]=new Zn(t,Ey,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tn[t]=new Zn(t,aC,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tn[t]=new Zn(t,oC,!1,t.toLowerCase(),null,!1,!1)});var Sy=/[\-\:]([a-z])/g,Cy=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(t){var e=t.replace(Sy,Cy);Tn[e]=new Zn(e,Cs,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(t){var e=t.replace(Sy,Cy);Tn[e]=new Zn(e,Cs,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sy,Cy);Tn[e]=new Zn(e,Cs,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tn[t]=new Zn(t,Cs,!1,t.toLowerCase(),null,!1,!1)});var JH="xlinkHref";Tn[JH]=new Zn("xlinkHref",Cs,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tn[t]=new Zn(t,Cs,!1,t.toLowerCase(),null,!0,!0)});var Dy=hf,eq=Dy.CAMELCASE,tq=Dy.SAME,rw=Dy.possibleStandardNames,nq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",rq=nq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",iq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+rq+"]*$")),sq=Object.keys(rw).reduce(function(t,e){var n=rw[e];return n===tq?t[e]=e:n===eq?t[e.toLowerCase()]=e:t[e]=n,t},{});Lr.BOOLEAN=pf;Lr.BOOLEANISH_STRING=ff;Lr.NUMERIC=oC;Lr.OVERLOADED_BOOLEAN=Ey;Lr.POSITIVE_NUMERIC=aC;Lr.RESERVED=sC;Lr.STRING=Cs;Lr.getPropertyInfo=ZH;Lr.isCustomAttribute=iq;Lr.possibleStandardNames=sq;var lC={},iw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oq=/\n/g,aq=/^\s*/,lq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cq=/^:\s*/,dq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uq=/^[;\s]*/,hq=/^\s+|\s+$/g,fq=`
`,sw="/",ow="*",Fs="",pq="comment",mq="declaration",gq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(m){var v=m.match(oq);v&&(n+=v.length);var b=m.lastIndexOf(fq);r=~b?m.length-b:r+m.length}function s(){var m={line:n,column:r};return function(v){return v.position=new o(m),c(),v}}function o(m){this.start=m,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(m){var v=new Error(e.source+":"+n+":"+r+": "+m);if(v.reason=m,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(m){var v=m.exec(t);if(v){var b=v[0];return i(b),t=t.slice(b.length),v}}function c(){l(aq)}function d(m){var v;for(m=m||[];v=u();)v!==!1&&m.push(v);return m}function u(){var m=s();if(!(sw!=t.charAt(0)||ow!=t.charAt(1))){for(var v=2;Fs!=t.charAt(v)&&(ow!=t.charAt(v)||sw!=t.charAt(v+1));)++v;if(v+=2,Fs===t.charAt(v-1))return a("End of comment missing");var b=t.slice(2,v-2);return r+=2,i(b),t=t.slice(v),r+=2,m({type:pq,comment:b})}}function f(){var m=s(),v=l(lq);if(v){if(u(),!l(cq))return a("property missing ':'");var b=l(dq),x=m({type:mq,property:aw(v[0].replace(iw,Fs)),value:b?aw(b[0].replace(iw,Fs)):Fs});return l(uq),x}}function p(){var m=[];d(m);for(var v;v=f();)v!==!1&&(m.push(v),d(m));return m}return c(),p()};function aw(t){return t?t.replace(hq,Fs):Fs}var yq=gq;function vq(t,e){var n=null;if(!t||typeof t!="string")return n;for(var r,i=yq(t),s=typeof e=="function",o,a,l=0,c=i.length;l<c;l++)r=i[l],o=r.property,a=r.value,s?e(o,a,r):a&&(n||(n={}),n[o]=a);return n}var bq=vq,mf={};mf.__esModule=!0;mf.camelCase=void 0;var wq=/^--[a-zA-Z0-9-]+$/,xq=/-([a-z])/g,_q=/^[^-]+$/,Tq=/^-(webkit|moz|ms|o|khtml)-/,Eq=/^-(ms)-/,Sq=function(t){return!t||_q.test(t)||wq.test(t)},Cq=function(t,e){return e.toUpperCase()},lw=function(t,e){return"".concat(e,"-")},Dq=function(t,e){return e===void 0&&(e={}),Sq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Eq,lw):t=t.replace(Tq,lw),t.replace(xq,Cq))};mf.camelCase=Dq;(function(t){var e=sr&&sr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};t.__esModule=!0;var n=e(bq),r=mf;function i(s,o){var a={};return!s||typeof s!="string"||(0,n.default)(s,function(l,c){l&&c&&(a[(0,r.camelCase)(l,o)]=c)}),a}t.default=i})(lC);var Mq=O,Pq=lC.default;function kq(t,e){if(!t||typeof t!="object")throw new TypeError("First argument must be an object");var n,r,i=typeof e=="function",s={},o={};for(n in t){if(r=t[n],i&&(s=e(n,r),s&&s.length===2)){o[s[0]]=s[1];continue}typeof r=="string"&&(o[r]=n)}return o}function Oq(t,e){if(t.indexOf("-")===-1)return e&&typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rq={reactCompat:!0};function Iq(t,e){if(t!=null)try{e.style=Pq(t,Rq)}catch{e.style={}}}var Nq=Mq.version.split(".")[0]>=16,cC=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function Aq(t){return!cC.has(t.name)}var dC={PRESERVE_CUSTOM_ATTRIBUTES:Nq,invertObject:kq,isCustomComponent:Oq,setStyleProp:Iq,canTextBeChildOfNode:Aq,elementsWithNoTextChildren:cC},El=Lr,cw=dC,uC=function(e){e=e||{};var n={reset:!0,submit:!0},r,i,s,o,a,l={},c=e.type&&n[e.type];for(r in e){if(s=e[r],El.isCustomAttribute(r)){l[r]=s;continue}if(i=r.toLowerCase(),o=dw(i),o){switch(a=El.getPropertyInfo(o),(o==="checked"||o==="value")&&!c&&(o=dw("default"+i)),l[o]=s,a&&a.type){case El.BOOLEAN:l[o]=!0;break;case El.OVERLOADED_BOOLEAN:s===""&&(l[o]=!0);break}continue}cw.PRESERVE_CUSTOM_ATTRIBUTES&&(l[r]=s)}return cw.setStyleProp(e.style,l),l};function dw(t){return El.possibleStandardNames[t]}var jq=O,Lq=uC,Hu=dC,$q=Hu.setStyleProp,Fq=Hu.canTextBeChildOfNode;function hC(t,e){e=e||{};for(var n=e.library||jq,r=n.cloneElement,i=n.createElement,s=n.isValidElement,o=[],a,l,c=typeof e.replace=="function",d,u,f,p=e.trim,m=0,v=t.length;m<v;m++){if(a=t[m],c&&(d=e.replace(a),s(d))){v>1&&(d=r(d,{key:d.key||m})),o.push(d);continue}if(a.type==="text"){if(l=!a.data.trim().length,l&&a.parent&&!Fq(a.parent)||p&&l)continue;o.push(a.data);continue}switch(u=a.attribs,Bq(a)?$q(u.style,u):u&&(u=Lq(u)),f=null,a.type){case"script":case"style":a.children[0]&&(u.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":a.name==="textarea"&&a.children[0]?u.defaultValue=a.children[0].data:a.children&&a.children.length&&(f=hC(a.children,e));break;default:continue}v>1&&(u.key=m),o.push(i(a.name,u,f))}return o.length===1?o[0]:o}function Bq(t){return Hu.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&Hu.isCustomComponent(t.name,t.attribs)}var Uq=hC,Yq=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],zq={CASE_SENSITIVE_TAG_NAMES:Yq},Ae={},Sp={},uw;function fC(){return uw||(uw=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(Sp)),Sp}var Do=sr&&sr.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bl=sr&&sr.__assign||function(){return Bl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bl.apply(this,arguments)};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.cloneNode=Ae.hasChildren=Ae.isDocument=Ae.isDirective=Ae.isComment=Ae.isText=Ae.isCDATA=Ae.isTag=Ae.Element=Ae.Document=Ae.NodeWithChildren=Ae.ProcessingInstruction=Ae.Comment=Ae.Text=Ae.DataNode=Ae.Node=void 0;var Rt=fC(),Wq=new Map([[Rt.ElementType.Tag,1],[Rt.ElementType.Script,1],[Rt.ElementType.Style,1],[Rt.ElementType.Directive,1],[Rt.ElementType.Text,3],[Rt.ElementType.CDATA,4],[Rt.ElementType.Comment,8],[Rt.ElementType.Root,9]]),My=function(){function t(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){var e;return(e=Wq.get(this.type))!==null&&e!==void 0?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Py(this,e)},t}();Ae.Node=My;var gf=function(t){Do(e,t);function e(n,r){var i=t.call(this,n)||this;return i.data=r,i}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(My);Ae.DataNode=gf;var pC=function(t){Do(e,t);function e(n){return t.call(this,Rt.ElementType.Text,n)||this}return e}(gf);Ae.Text=pC;var mC=function(t){Do(e,t);function e(n){return t.call(this,Rt.ElementType.Comment,n)||this}return e}(gf);Ae.Comment=mC;var gC=function(t){Do(e,t);function e(n,r){var i=t.call(this,Rt.ElementType.Directive,r)||this;return i.name=n,i}return e}(gf);Ae.ProcessingInstruction=gC;var yf=function(t){Do(e,t);function e(n,r){var i=t.call(this,n)||this;return i.children=r,i}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(My);Ae.NodeWithChildren=yf;var yC=function(t){Do(e,t);function e(n){return t.call(this,Rt.ElementType.Root,n)||this}return e}(yf);Ae.Document=yC;var vC=function(t){Do(e,t);function e(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?Rt.ElementType.Script:n==="style"?Rt.ElementType.Style:Rt.ElementType.Tag);var o=t.call(this,s,i)||this;return o.name=n,o.attribs=r,o}return Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),e}(yf);Ae.Element=vC;function bC(t){return(0,Rt.isTag)(t)}Ae.isTag=bC;function wC(t){return t.type===Rt.ElementType.CDATA}Ae.isCDATA=wC;function xC(t){return t.type===Rt.ElementType.Text}Ae.isText=xC;function _C(t){return t.type===Rt.ElementType.Comment}Ae.isComment=_C;function TC(t){return t.type===Rt.ElementType.Directive}Ae.isDirective=TC;function EC(t){return t.type===Rt.ElementType.Root}Ae.isDocument=EC;function Hq(t){return Object.prototype.hasOwnProperty.call(t,"children")}Ae.hasChildren=Hq;function Py(t,e){e===void 0&&(e=!1);var n;if(xC(t))n=new pC(t.data);else if(_C(t))n=new mC(t.data);else if(bC(t)){var r=e?Cp(t.children):[],i=new vC(t.name,Bl({},t.attribs),r);r.forEach(function(l){return l.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Bl({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Bl({},t["x-attribsPrefix"])),n=i}else if(wC(t)){var r=e?Cp(t.children):[],s=new yf(Rt.ElementType.CDATA,r);r.forEach(function(c){return c.parent=s}),n=s}else if(EC(t)){var r=e?Cp(t.children):[],o=new yC(r);r.forEach(function(c){return c.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),n=o}else if(TC(t)){var a=new gC(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}Ae.cloneNode=Py;function Cp(t){for(var e=t.map(function(r){return Py(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}var qq=zq,vf=Ae,hw=qq.CASE_SENSITIVE_TAG_NAMES,Vq=vf.Comment,Qq=vf.Element,Kq=vf.ProcessingInstruction,Gq=vf.Text,SC={},Dp;for(var Mp=0,Zq=hw.length;Mp<Zq;Mp++)Dp=hw[Mp],SC[Dp.toLowerCase()]=Dp;function Xq(t){return SC[t]}function Jq(t){for(var e={},n,r=0,i=t.length;r<i;r++)n=t[r],e[n.name]=n.value;return e}function eV(t){t=t.toLowerCase();var e=Xq(t);return e||t}function CC(t,e,n){e=e||null;for(var r=[],i=0,s=t.length;i<s;i++){var o=t[i],a;switch(o.nodeType){case 1:a=new Qq(eV(o.nodeName),Jq(o.attributes)),a.children=CC(o.childNodes,a);break;case 3:a=new Gq(o.nodeValue);break;case 8:a=new Vq(o.nodeValue);break;default:continue}var l=r[i-1]||null;l&&(l.next=a),a.parent=e,a.prev=l,a.next=null,r.push(a)}return n&&(a=new Kq(n.substring(0,n.indexOf(" ")).toLowerCase(),n),a.next=r[0]||null,a.parent=e,r.unshift(a),r[1]&&(r[1].prev=r[0])),r}function tV(){return/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}var DC={formatDOM:CC,isIE:tV},fw="html",pw="head",Cd="body",nV=/<([a-zA-Z]+[0-9]?)/,mw=/<head.*>/i,gw=/<body.*>/i,qu=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Xm=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if(typeof window.DOMParser=="function"){var rV=new window.DOMParser,iV="text/html";Xm=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),rV.parseFromString(t,iV)},qu=Xm}if(document.implementation){var sV=DC.isIE,Dd=document.implementation.createHTMLDocument(sV()?"html-dom-parser":void 0);qu=function(t,e){return e?(Dd.documentElement.getElementsByTagName(e)[0].innerHTML=t,Dd):(Dd.documentElement.innerHTML=t,Dd)}}var Pp=document.createElement("template"),Jm;Pp.content&&(Jm=function(t){return Pp.innerHTML=t,Pp.content.childNodes});function oV(t){var e,n=t.match(nV);n&&n[1]&&(e=n[1].toLowerCase());var r,i,s;switch(e){case fw:return r=Xm(t),mw.test(t)||(i=r.getElementsByTagName(pw)[0],i&&i.parentNode.removeChild(i)),gw.test(t)||(i=r.getElementsByTagName(Cd)[0],i&&i.parentNode.removeChild(i)),r.getElementsByTagName(fw);case pw:case Cd:return s=qu(t).getElementsByTagName(e),gw.test(t)&&mw.test(t)?s[0].parentNode.childNodes:s;default:return Jm?Jm(t):qu(t,Cd).getElementsByTagName(Cd)[0].childNodes}}var aV=oV,lV=aV,cV=DC.formatDOM,dV=/<(![a-zA-Z\s]+)>/;function uV(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(t==="")return[];var e=t.match(dV),n;return e&&e[1]&&(n=e[1]),cV(lV(t),null,n)}var hV=uV,kp={},yw;function fV(){return yw||(yw=1,function(t){var e=sr&&sr.__createBinding||(Object.create?function(l,c,d,u){u===void 0&&(u=d);var f=Object.getOwnPropertyDescriptor(c,d);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,u,f)}:function(l,c,d,u){u===void 0&&(u=d),l[u]=c[d]}),n=sr&&sr.__exportStar||function(l,c){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,l,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=fC(),i=Ae;n(Ae,t);var s=/\s+/g,o={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},a=function(){function l(c,d,u){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(u=d,d=o),typeof c=="object"&&(d=c,c=void 0),this.callback=c??null,this.options=d??o,this.elementCB=u??null}return l.prototype.onparserinit=function(c){this.parser=c},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(c){this.handleCallback(c)},l.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},l.prototype.onopentag=function(c,d){var u=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(c,d,void 0,u);this.addNode(f),this.tagStack.push(f)},l.prototype.ontext=function(c){var d=this.options.normalizeWhitespace,u=this.lastNode;if(u&&u.type===r.ElementType.Text)d?u.data=(u.data+c).replace(s," "):u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{d&&(c=c.replace(s," "));var f=new i.Text(c);this.addNode(f),this.lastNode=f}},l.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var d=new i.Comment(c);this.addNode(d),this.lastNode=d},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var c=new i.Text(""),d=new i.NodeWithChildren(r.ElementType.CDATA,[c]);this.addNode(d),c.parent=d,this.lastNode=c},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(c,d){var u=new i.ProcessingInstruction(c,d);this.addNode(u)},l.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},l.prototype.addNode=function(c){var d=this.tagStack[this.tagStack.length-1],u=d.children[d.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),d.children.push(c),u&&(c.prev=u,u.next=c),c.parent=d,this.lastNode=null},l}();t.DomHandler=a,t.default=a}(kp)),kp}var MC=Uq,pV=uC,Vo=hV;Vo=typeof Vo.default=="function"?Vo.default:Vo;var mV={lowerCaseAttributeNames:!1};function Ya(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");return t===""?[]:(e=e||{},MC(Vo(t,e.htmlparser2||mV),e))}Ya.domToReact=MC;Ya.htmlToDOM=Vo;Ya.attributesToProps=pV;Ya.Element=fV().Element;Ty.exports=Ya;Ty.exports.default=Ya;var gV=Ty.exports;const Hc=Rn(gV);Hc.domToReact;Hc.htmlToDOM;var yV=Hc.attributesToProps;Hc.Element;const vV="_validationTooltip_1mcg2_1",bV="_validationTooltipMessage_1mcg2_6",wV="_dataEntryCell_1mcg2_10",xV="_cellInnerWrapper_1mcg2_21",_V="_disabled_1mcg2_27",TV="_highlighted_1mcg2_27",EV="_active_1mcg2_31",SV="_warning_1mcg2_58",CV="_invalid_1mcg2_67",DV="_synced_1mcg2_76",MV="_topRightIndicator_1mcg2_83",PV="_bottomRightIndicator_1mcg2_88",kV="_topRightTriangle_1mcg2_94",OV="_bottomRightTriangle_1mcg2_102",RV="_topRightAsterisk_1mcg2_111",IV="_locked_1mcg2_116",NV="_hideForPrint_1mcg2_125 _hideForPrint_9lzdq_20",nn={validationTooltip:vV,validationTooltipMessage:bV,dataEntryCell:wV,cellInnerWrapper:xV,disabled:_V,highlighted:TV,active:EV,warning:SV,invalid:CV,synced:DV,topRightIndicator:MV,bottomRightIndicator:PV,topRightTriangle:kV,bottomRightTriangle:OV,topRightAsterisk:RV,locked:IV,hideForPrint:NV},ky=({children:t})=>w.jsx("td",{"data-test":"dhis2-dataentryapp-dataentrycell",className:nn.dataEntryCell,children:t});ky.propTypes={children:h.node};/*!
* tabbable 5.3.3
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var AV=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],eg=AV.join(","),PC=typeof Element>"u",ac=PC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tg=!PC&&Element.prototype.getRootNode?function(t){return t.getRootNode()}:function(t){return t.ownerDocument},jV=function(e,n,r){var i=Array.prototype.slice.apply(e.querySelectorAll(eg));return n&&ac.call(e,eg)&&i.unshift(e),i=i.filter(r),i},LV=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=t(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scope:o,candidates:c})}else{var d=ac.call(o,eg);d&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var u=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!r.shadowRootFilter||r.shadowRootFilter(o);if(u&&f){var p=t(u===!0?o.children:u.children,!0,r);r.flatten?i.push.apply(i,p):i.push({scope:o,candidates:p})}else s.unshift.apply(s,o.children)}}return i},kC=function(e,n){return e.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},$V=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},OC=function(e){return e.tagName==="INPUT"},FV=function(e){return OC(e)&&e.type==="hidden"},BV=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},UV=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},YV=function(e){if(!e.name)return!0;var n=e.form||tg(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=UV(i,e.form);return!s||s===e},zV=function(e){return OC(e)&&e.type==="radio"},WV=function(e){return zV(e)&&!YV(e)},vw=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},HV=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=ac.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(ac.call(o,"details:not([open]) *"))return!0;var a=tg(e).host,l=(a==null?void 0:a.ownerDocument.contains(a))||e.ownerDocument.contains(e);if(!r||r==="full"){if(typeof i=="function"){for(var c=e;e;){var d=e.parentElement,u=tg(e);if(d&&!d.shadowRoot&&i(d)===!0)return vw(e);e.assignedSlot?e=e.assignedSlot:!d&&u!==e.ownerDocument?e=u.host:e=d}e=c}if(l)return!e.getClientRects().length}else if(r==="non-zero-area")return vw(e);return!1},qV=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return ac.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},VV=function(e,n){return!(n.disabled||FV(n)||HV(n,e)||BV(n)||qV(n))},bw=function(e,n){return!(WV(n)||kC(n)<0||!VV(e,n))},QV=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},KV=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scope,a=o?i.scope:i,l=kC(a,o),c=o?t(i.candidates):a;l===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort($V).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},RC=function(e,n){n=n||{};var r;return n.getShadowRoot?r=LV([e],n.includeContainer,{filter:bw.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:QV}):r=jV(e,n.includeContainer,bw.bind(null,n)),KV(r)};function GV(){var s;const t=document.getElementById("data-workspace"),e=RC(t),r=(e.indexOf(document.activeElement)+1)%e.length,i=e[r];i.focus(),(s=i.select)==null||s.call(i)}function ZV(){var s;const t=document.getElementById("data-workspace"),e=RC(t),n=e.indexOf(document.activeElement),r=n===0?e.length-1:n-1,i=e[r];i.focus(),(s=i.select)==null||s.call(i)}function IC({sharedProps:t,de:e}){if(e.optionSet)return w.jsx(KS,{...t,optionSetId:e.optionSet.id,multi:e.valueType==="MULTI_TEXT"});switch(e.valueType){case pe.BOOLEAN:return w.jsx(qS,{...t});case pe.FILE_RESOURCE:return w.jsx(Gm,{...t});case pe.IMAGE:return w.jsx(Gm,{...t,image:!0});case pe.LONG_TEXT:return w.jsx(VS,{...t});case pe.TRUE_ONLY:return w.jsx(GS,{...t});case pe.DATE:return w.jsx(ZS,{...t});case pe.DATETIME:return w.jsx(XS,{...t});default:return w.jsx(HS,{...t,valueType:e.valueType})}}IC.propTypes={de:h.shape({optionSet:h.shape({id:h.string.isRequired}),optionSetValue:h.any,valueType:h.string}).isRequired,sharedProps:h.object.isRequired,initialValue:h.string};function NC({fieldname:t,dataElement:e,categoryOptionCombo:n,disabled:r,locked:i,highlighted:s,setValueSynced:o,setActive:a}){const l=ar(v=>v.getInitialDataValue({dataElementId:e.id,categoryOptionComboId:n.id})),c=Ba(v=>v.setHighlightedField);OF(()=>{s&&c(null)},[s]);const d=ef(),u=O.useCallback(v=>{const{key:b,ctrlKey:x,metaKey:T}=v;x^T&&b==="Enter"?d(Jo):b==="ArrowDown"||b==="Enter"?(v.preventDefault(),GV()):b==="ArrowUp"&&(v.preventDefault(),ZV())},[d]),f=O.useCallback(()=>{c({dataElementId:e.id,categoryOptionComboId:n.id}),a(!0)},[e.id,n.id,c,a]),p=O.useCallback(()=>{a(!1)},[a]),m=O.useMemo(()=>({fieldname:t,deId:e.id,cocId:n.id,disabled:r,locked:i,onFocus:f,onBlur:p,onKeyDown:u,setValueSynced:o,initialValue:l}),[t,e,n,r,i,f,p,u,o,l]);return w.jsx(IC,{sharedProps:m,de:e})}NC.propTypes={categoryOptionCombo:h.shape({id:h.string}),dataElement:h.shape({id:h.string,optionSet:h.shape({id:h.string}),optionSetValue:h.bool,valueType:h.string}),disabled:h.bool,fieldname:h.string,highlighted:h.bool,locked:h.bool,setActive:h.func,setValueSynced:h.func};const AC=D.forwardRef(function({active:e,children:n,enabled:r,onMouseOut:i,onMouseOver:s},o){D.useEffect(()=>{r&&e?s():i()},[r,e]);const a=()=>{r&&s()},l=()=>{r&&!e&&i()};return w.jsx("div",{className:nn.validationTooltip,ref:o,onMouseOver:a,onMouseOut:l,children:n})});AC.propTypes={active:h.bool,children:h.node,enabled:h.bool,onMouseOut:h.func,onMouseOver:h.func};const jC=({children:t,content:e,enabled:n,active:r})=>w.jsx(Nt,{content:e,children:i=>w.jsx(AC,{...i,enabled:n,active:r,children:t})});jC.propTypes={active:h.bool,children:h.node,content:h.string,enabled:h.bool,fieldname:h.string};const LC=({error:t,isLoading:e,isSynced:n,isRequired:r})=>{let i=null;return e?i=w.jsx(pg,{color:y.grey700}):t?i=w.jsx(fc,{color:y.yellow800}):n?i=w.jsx("div",{className:nn.topRightTriangle}):r&&(i=w.jsx("div",{className:nn.topRightAsterisk,children:"*"})),w.jsx("div",{className:Pe(nn.topRightIndicator,nn.hideForPrint),children:i})};LC.propTypes={error:h.object,isLoading:h.bool,isRequired:h.bool,isSynced:h.bool};const $C=({hasComment:t})=>w.jsx("div",{className:Pe(nn.bottomRightIndicator,nn.hideForPrint),children:t&&w.jsx("div",{className:nn.bottomRightTriangle})});$C.propTypes={hasComment:h.bool};function FC({children:t,disabled:e,locked:n,fieldname:r,deId:i,cocId:s,highlighted:o,valueSynced:a,active:l}){const c=ar(P=>P.hasComment({dataElementId:i,categoryOptionComboId:s})),d=ar(P=>P.getDataValue({dataElementId:i,categoryOptionComboId:s})),u=RF({dataElementId:i,categoryOptionComboId:s}),f=ji(P=>P.getCompleteAttempted()),p=Lc({deId:i,cocId:s}),m=wo({mutationKey:Js.all(p)}),v=tc(P=>P.getErrorByDataValueParams(p)),b=tc(P=>P.clearErrorByDataValueParams),x=ji(P=>P.getWarning(r)),T=ji(P=>P.getError(r)),E=T??x,S=T&&v?w.jsxs("div",{className:nn.validationTooltipMessage,children:[w.jsx("div",{children:E}),w.jsx("div",{children:v.displayMessage})]}):E??(v==null?void 0:v.displayMessage),C=a&&(!u||!!d),M=T||u&&!d&&f?nn.invalid:x?nn.warning:m===0&&C?nn.synced:null;return O.useEffect(()=>{a&&b(p)},[b,p,a]),w.jsx(jC,{fieldname:r,active:l,enabled:!!x||!!T||!!v,content:S,children:w.jsxs("div",{className:Pe(nn.cellInnerWrapper,M,{[nn.active]:l,[nn.highlighted]:o,[nn.disabled]:e,[nn.locked]:n}),children:[t,w.jsx(LC,{isRequired:u,isLoading:m>0,isSynced:C,error:v}),w.jsx($C,{hasComment:c})]})})}FC.propTypes={active:h.bool,children:h.node,cocId:h.string,deId:h.string,disabled:h.bool,fieldname:h.string,highlighted:h.bool,locked:h.bool,valueSynced:h.bool};const bf=D.memo(function({dataElement:e,categoryOptionCombo:n,disabled:r}){const i=Ua(e.id,n.id),s=Ba(u=>u.isFieldHighlighted({dataElementId:e.id,categoryOptionComboId:n.id})),{locked:o}=Fa(),[a,l]=O.useState(!1),[c,d]=O.useState(!1);return w.jsx(FC,{fieldname:i,deId:e.id,cocId:n.id,disabled:r,locked:o,highlighted:s,valueSynced:c,active:a,children:w.jsx(NC,{fieldname:i,dataElement:e,categoryOptionCombo:n,disabled:r,locked:o,highlighted:s,setActive:l,setValueSynced:d})})});bf.propTypes={categoryOptionCombo:h.shape({id:h.string.isRequired}).isRequired,dataElement:h.shape({id:h.string.isRequired,valueType:h.string}).isRequired,disabled:h.bool};const BC=()=>{const t=H0()||{},{dataElement:e,categoryOptionCombo:n}=t;return{deId:e,cocId:n}},XV="_cellBase_p1apv_1",JV="_tableHeader_p1apv_9 _cellBase_p1apv_1",eQ="_sectionRowCollapsed_p1apv_15",tQ="_categoryNameHeader_p1apv_19 _tableHeader_p1apv_9 _cellBase_p1apv_1",nQ="_dataElementName_p1apv_25 _cellBase_p1apv_1",rQ="_active_p1apv_31",iQ="_tableCell_p1apv_35 _cellBase_p1apv_1",sQ="_hiddenByFilterCell_p1apv_40 _cellBase_p1apv_1",oQ="_table_p1apv_9",aQ="_paddingCell_p1apv_52 _tableHeader_p1apv_9 _cellBase_p1apv_1",lQ="_totalCell_p1apv_65 _tableCell_p1apv_35 _cellBase_p1apv_1",cQ="_indicatorCell_p1apv_66 _tableCell_p1apv_35 _cellBase_p1apv_1",dQ="_indicatorCellNoncalculable_p1apv_72 _tableCell_p1apv_35 _cellBase_p1apv_1",uQ="_totalHeader_p1apv_79 _totalCell_p1apv_65 _tableCell_p1apv_35 _cellBase_p1apv_1",hQ="_hidden_p1apv_40",fQ="_noWrap_p1apv_89",pQ="_pivotedHeader_p1apv_93 _tableHeader_p1apv_9 _cellBase_p1apv_1",mQ="_dataElementRowHeader_p1apv_98 _cellBase_p1apv_1",gQ="_categoryOption_p1apv_105",yQ="_dataElement_p1apv_25",vQ="_category_p1apv_19",Ze={cellBase:XV,tableHeader:JV,sectionRowCollapsed:eQ,categoryNameHeader:tQ,dataElementName:nQ,active:rQ,tableCell:iQ,hiddenByFilterCell:sQ,table:oQ,paddingCell:aQ,totalCell:lQ,indicatorCell:cQ,indicatorCellNoncalculable:dQ,totalHeader:uQ,hidden:hQ,noWrap:fQ,pivotedHeader:pQ,dataElementRowHeader:mQ,categoryOption:gQ,dataElement:yQ,category:vQ},UC=(t,e)=>{const n=Number(e)||0;return t+n},bQ=(t,e=0)=>t.reduce((n,r)=>UC(n,r[e]),0),wQ=t=>{var e;return((e=t[0])==null?void 0:e.map((n,r)=>bQ(t,r)))||[]},xQ=(t,e=0)=>t[e].reduce(UC,0),_Q=(t,e,n)=>t.map(r=>e.map(i=>{var s,o;return(o=(s=n==null?void 0:n[r==null?void 0:r.id])==null?void 0:s[i==null?void 0:i.id])==null?void 0:o.value})),YC=(t=[],e=[])=>{const n=O.useRef(null),r=c$(),i=ar(o=>o.getDataValues()),s=O.useMemo(()=>new Set(t.flatMap(o=>e.map(a=>Ua(o.id,a.id)))),[t,e]);return O.useMemo(()=>((n.current===null||s.has(r))&&(n.current=_Q(t,e,i)),n.current),[r,s,t,i,e])},na=({children:t})=>w.jsx(Pr,{className:Pe("total-cell",Ze.totalCell),dataTest:"dhis2-dataentry-totalcell",children:t});na.propTypes={children:h.node};const zC=({rowSpan:t})=>w.jsx(hi,{className:Ze.totalHeader,rowSpan:t.toString(),children:k.t("Totals")});zC.propTypes={rowSpan:h.number};const WC=({dataElements:t,categoryOptionCombos:e,row:n})=>{const r=YC(t,e),i=O.useMemo(()=>xQ(r,n),[r,n]);return w.jsx(na,{children:i})};WC.propTypes={categoryOptionCombos:h.array,dataElements:h.array,row:h.number};const HC=({renderTotalSum:t,paddingCells:e,dataElements:n,categoryOptionCombos:r})=>{const i=YC(n,r),s=O.useMemo(()=>wQ(i),[i]);return w.jsxs(vo,{dataTest:"dhis2-dataentry-columntotals",children:[w.jsx(hi,{className:Ze.totalHeader,children:k.t("Totals")}),s.map((o,a)=>w.jsx(na,{children:o},a)),e.map((o,a)=>w.jsx(na,{},a)),t&&w.jsx(na,{children:s.reduce((o,a)=>o+a,0)})]})};HC.propTypes={categoryOptionCombos:h.array,dataElements:h.array,paddingCells:h.array,renderTotalSum:h.bool};const ww=t=>Object.values(t).reduce((e,n)=>{const r=n==null?void 0:n.value;return isNaN(r)||(e=isNaN(e)?r:e+Number(r)),e},null),qC=({dataElementId:t})=>{const e=ar(s=>s.getDataValues()),n=(e==null?void 0:e[t])||{},[r,i]=O.useState(()=>ww(n));return O.useEffect(()=>{i(()=>ww(n))},[n]),w.jsx(na,{children:r})};qC.propTypes={dataElementId:h.string.isRequired};const VC=t=>w.jsx(qC,{dataElementId:t}),Ul={ENTRYFIELD:"ENTRYFIELD",INDICATOR:"INDICATOR",TOTAL:"TOTAL"},TQ=t=>{const{attribs:e}=t;if(e.id.startsWith("total"))return Ul.TOTAL;if(e.id.startsWith("indicator"))return Ul.INDICATOR;{const[n,r,i]=e.id.split("-");if(n&&r&&i==="val")return Ul.ENTRYFIELD}},EQ=(t,e)=>{const n=TQ(t);if(n===Ul.TOTAL&&t.attribs.dataelementid)return VC(t.attribs.dataelementid);if(n!==Ul.ENTRYFIELD)return;const[r,i]=t.attribs.id.split("-"),s=t.attribs.disabled==="disabled"||t.attribs.disabled==="true",o=L0(e,r);return w.jsx(bf,{dataElement:o,categoryOptionCombo:{id:i},disabled:s})};var Sr="INUMBER",za="IOP1",Wa="IOP2",Ha="IOP3",Li="IVAR",fo="IVARNAME",wa="IFUNCALL",wf="IFUNDEF",lr="IEXPR",Oy="IEXPREVAL",Mo="IMEMBER",xf="IENDSTATEMENT",xa="IARRAY";function Ye(t,e){this.type=t,this.value=e??0}Ye.prototype.toString=function(){switch(this.type){case Sr:case za:case Wa:case Ha:case Li:case fo:case xf:return this.value;case wa:return"CALL "+this.value;case wf:return"DEF "+this.value;case xa:return"ARRAY "+this.value;case Mo:return"."+this.value;default:return"Invalid Instruction"}};function _f(t){return new Ye(za,t)}function qi(t){return new Ye(Wa,t)}function QC(t){return new Ye(Ha,t)}function ng(t,e,n,r,i){for(var s=[],o=[],a,l,c,d,u=0;u<t.length;u++){var f=t[u],p=f.type;if(p===Sr||p===fo)Array.isArray(f.value)?s.push.apply(s,ng(f.value.map(function(m){return new Ye(Sr,m)}).concat(new Ye(xa,f.value.length)),e,n,r,i)):s.push(f);else if(p===Li&&i.hasOwnProperty(f.value))f=new Ye(Sr,i[f.value]),s.push(f);else if(p===Wa&&s.length>1)l=s.pop(),a=s.pop(),d=n[f.value],f=new Ye(Sr,d(a.value,l.value)),s.push(f);else if(p===Ha&&s.length>2)c=s.pop(),l=s.pop(),a=s.pop(),f.value==="?"?s.push(a.value?l.value:c.value):(d=r[f.value],f=new Ye(Sr,d(a.value,l.value,c.value)),s.push(f));else if(p===za&&s.length>0)a=s.pop(),d=e[f.value],f=new Ye(Sr,d(a.value)),s.push(f);else if(p===lr){for(;s.length>0;)o.push(s.shift());o.push(new Ye(lr,ng(f.value,e,n,r,i)))}else if(p===Mo&&s.length>0)a=s.pop(),s.push(new Ye(Sr,a.value[f.value]));else{for(;s.length>0;)o.push(s.shift());o.push(f)}}for(;s.length>0;)o.push(s.shift());return o}function KC(t,e,n){for(var r=[],i=0;i<t.length;i++){var s=t[i],o=s.type;if(o===Li&&s.value===e)for(var a=0;a<n.tokens.length;a++){var l=n.tokens[a],c;l.type===za?c=_f(l.value):l.type===Wa?c=qi(l.value):l.type===Ha?c=QC(l.value):c=new Ye(l.type,l.value),r.push(c)}else o===lr?r.push(new Ye(lr,KC(s.value,e,n))):r.push(s)}return r}function Bs(t,e,n){var r=[],i,s,o,a,l,c;if(Ry(t))return Ei(t,n);for(var d=t.length,u=0;u<d;u++){var f=t[u],p=f.type;if(p===Sr||p===fo)r.push(f.value);else if(p===Wa)s=r.pop(),i=r.pop(),f.value==="and"?r.push(i?!!Bs(s,e,n):!1):f.value==="or"?r.push(i?!0:!!Bs(s,e,n)):f.value==="="?(a=e.binaryOps[f.value],r.push(a(i,Bs(s,e,n),n))):(a=e.binaryOps[f.value],r.push(a(Ei(i,n),Ei(s,n))));else if(p===Ha)o=r.pop(),s=r.pop(),i=r.pop(),f.value==="?"?r.push(Bs(i?s:o,e,n)):(a=e.ternaryOps[f.value],r.push(a(Ei(i,n),Ei(s,n),Ei(o,n))));else if(p===Li)if(f.value in e.functions)r.push(e.functions[f.value]);else if(f.value in e.unaryOps&&e.parser.isOperatorEnabled(f.value))r.push(e.unaryOps[f.value]);else{var m=n[f.value];if(m!==void 0)r.push(m);else throw new Error("undefined variable: "+f.value)}else if(p===za)i=r.pop(),a=e.unaryOps[f.value],r.push(a(Ei(i,n)));else if(p===wa){for(c=f.value,l=[];c-- >0;)l.unshift(Ei(r.pop(),n));if(a=r.pop(),a.apply&&a.call)r.push(a.apply(void 0,l));else throw new Error(a+" is not a function")}else if(p===wf)r.push(function(){for(var v=r.pop(),b=[],x=f.value;x-- >0;)b.unshift(r.pop());var T=r.pop(),E=function(){for(var S=Object.assign({},n),C=0,M=b.length;C<M;C++)S[b[C]]=arguments[C];return Bs(v,e,S)};return Object.defineProperty(E,"name",{value:T,writable:!1}),n[T]=E,E}());else if(p===lr)r.push(SQ(f,e));else if(p===Oy)r.push(f);else if(p===Mo)i=r.pop(),r.push(i[f.value]);else if(p===xf)r.pop();else if(p===xa){for(c=f.value,l=[];c-- >0;)l.unshift(r.pop());r.push(l)}else throw new Error("invalid Expression")}if(r.length>1)throw new Error("invalid Expression (parity)");return r[0]===0?0:Ei(r[0],n)}function SQ(t,e,n){return Ry(t)?t:{type:Oy,value:function(r){return Bs(t.value,e,r)}}}function Ry(t){return t&&t.type===Oy}function Ei(t,e){return Ry(t)?t.value(e):t}function Iy(t,e){for(var n=[],r,i,s,o,a,l,c=0;c<t.length;c++){var d=t[c],u=d.type;if(u===Sr)typeof d.value=="number"&&d.value<0?n.push("("+d.value+")"):Array.isArray(d.value)?n.push("["+d.value.map(xw).join(", ")+"]"):n.push(xw(d.value));else if(u===Wa)i=n.pop(),r=n.pop(),o=d.value,e?o==="^"?n.push("Math.pow("+r+", "+i+")"):o==="and"?n.push("(!!"+r+" && !!"+i+")"):o==="or"?n.push("(!!"+r+" || !!"+i+")"):o==="||"?n.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+i+")))"):o==="=="?n.push("("+r+" === "+i+")"):o==="!="?n.push("("+r+" !== "+i+")"):o==="["?n.push(r+"[("+i+") | 0]"):n.push("("+r+" "+o+" "+i+")"):o==="["?n.push(r+"["+i+"]"):n.push("("+r+" "+o+" "+i+")");else if(u===Ha)if(s=n.pop(),i=n.pop(),r=n.pop(),o=d.value,o==="?")n.push("("+r+" ? "+i+" : "+s+")");else throw new Error("invalid Expression");else if(u===Li||u===fo)n.push(d.value);else if(u===za)r=n.pop(),o=d.value,o==="-"||o==="+"?n.push("("+o+r+")"):e?o==="not"?n.push("(!"+r+")"):o==="!"?n.push("fac("+r+")"):n.push(o+"("+r+")"):o==="!"?n.push("("+r+"!)"):n.push("("+o+" "+r+")");else if(u===wa){for(l=d.value,a=[];l-- >0;)a.unshift(n.pop());o=n.pop(),n.push(o+"("+a.join(", ")+")")}else if(u===wf){for(i=n.pop(),l=d.value,a=[];l-- >0;)a.unshift(n.pop());r=n.pop(),e?n.push("("+r+" = function("+a.join(", ")+") { return "+i+" })"):n.push("("+r+"("+a.join(", ")+") = "+i+")")}else if(u===Mo)r=n.pop(),n.push(r+"."+d.value);else if(u===xa){for(l=d.value,a=[];l-- >0;)a.unshift(n.pop());n.push("["+a.join(", ")+"]")}else if(u===lr)n.push("("+Iy(d.value,e)+")");else if(u!==xf)throw new Error("invalid Expression")}return n.length>1&&(e?n=[n.join(",")]:n=[n.join(";")]),String(n[0])}function xw(t){return typeof t=="string"?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function Qo(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function Ny(t,e,n){n=n||{};for(var r=!!n.withMembers,i=null,s=0;s<t.length;s++){var o=t[s];o.type===Li||o.type===fo?!r&&!Qo(e,o.value)?e.push(o.value):(i!==null&&(Qo(e,i)||e.push(i)),i=o.value):o.type===Mo&&r&&i!==null?i+="."+o.value:o.type===lr?Ny(o.value,e,n):i!==null&&(Qo(e,i)||e.push(i),i=null)}i!==null&&!Qo(e,i)&&e.push(i)}function Vr(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}Vr.prototype.simplify=function(t){return t=t||{},new Vr(ng(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)};Vr.prototype.substitute=function(t,e){return e instanceof Vr||(e=this.parser.parse(String(e))),new Vr(KC(this.tokens,t,e),this.parser)};Vr.prototype.evaluate=function(t){return t=t||{},Bs(this.tokens,this,t)};Vr.prototype.toString=function(){return Iy(this.tokens,!1)};Vr.prototype.symbols=function(t){t=t||{};var e=[];return Ny(this.tokens,e,t),e};Vr.prototype.variables=function(t){t=t||{};var e=[];Ny(this.tokens,e,t);var n=this.functions;return e.filter(function(r){return!(r in n)})};Vr.prototype.toJSFunction=function(t,e){var n=this,r=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Iy(this.simplify(e).tokens,!0)+"; }");return function(){return r.apply(n,arguments)}};var lc="TEOF",ut="TOP",Tf="TNUMBER",GC="TSTRING",$i="TPAREN",_a="TBRACKET",Ef="TCOMMA",Ay="TNAME",jy="TSEMICOLON";function ZC(t,e,n){this.type=t,this.value=e,this.index=n}ZC.prototype.toString=function(){return this.type+": "+this.value};function Lt(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Lt.prototype.newToken=function(t,e,n){return new ZC(t,e,n??this.pos)};Lt.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};Lt.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};Lt.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(lc,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};Lt.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if(n==="'"||n==='"')for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,this.expression.charAt(r-1)!=="\\"){var i=this.expression.substring(e+1,r);this.current=this.newToken(GC,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t};Lt.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return t==="("||t===")"?(this.current=this.newToken($i,t),this.pos++,!0):!1};Lt.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return(t==="["||t==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(_a,t),this.pos++,!0):!1};Lt.prototype.isComma=function(){var t=this.expression.charAt(this.pos);return t===","?(this.current=this.newToken(Ef,","),this.pos++,!0):!1};Lt.prototype.isSemicolon=function(){var t=this.expression.charAt(this.pos);return t===";"?(this.current=this.newToken(jy,";"),this.pos++,!0):!1};Lt.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||n!=="_"&&n!=="."&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Tf,this.consts[r]),this.pos+=r.length,!0}return!1};Lt.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||n!=="_"&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(ut,r),this.pos+=r.length,!0}return!1};Lt.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&(r==="$"||r==="_")){r==="_"&&(n=!0);continue}else if(e===this.pos||!n||r!=="_"&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(Ay,i),this.pos+=i.length,!0}return!1};Lt.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);(e===" "||e==="	"||e===`
`||e==="\r")&&(t=!0,this.pos++,!(this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var CQ=/^[0-9a-f]{4}$/i;Lt.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+=`
`;break;case"r":n+="\r";break;case"t":n+="	";break;case"u":var i=t.substring(e+1,e+5);CQ.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var s=t.indexOf("\\",e);n+=t.substring(e,s<0?t.length:s),e=s}return n};Lt.prototype.isComment=function(){var t=this.expression.charAt(this.pos);return t==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};Lt.prototype.isRadixInteger=function(){var t=this.pos;if(t>=this.expression.length-2||this.expression.charAt(t)!=="0")return!1;++t;var e,n;if(this.expression.charAt(t)==="x")e=16,n=/^[0-9a-f]$/i,++t;else if(this.expression.charAt(t)==="b")e=2,n=/^[01]$/i,++t;else return!1;for(var r=!1,i=t;t<this.expression.length;){var s=this.expression.charAt(t);if(n.test(s))t++,r=!0;else break}return r&&(this.current=this.newToken(Tf,parseInt(this.expression.substring(i,t),e)),this.pos=t),r};Lt.prototype.isNumber=function(){for(var t=!1,e=this.pos,n=e,r=e,i=!1,s=!1,o;e<this.expression.length&&(o=this.expression.charAt(e),o>="0"&&o<="9"||!i&&o===".");)o==="."?i=!0:s=!0,e++,t=s;if(t&&(r=e),o==="e"||o==="E"){e++;for(var a=!0,l=!1;e<this.expression.length;){if(o=this.expression.charAt(e),a&&(o==="+"||o==="-"))a=!1;else if(o>="0"&&o<="9")l=!0,a=!1;else break;e++}l||(e=r)}return t?(this.current=this.newToken(Tf,parseFloat(this.expression.substring(n,e))),this.pos=e):this.pos=r,t};Lt.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if(e==="+"||e==="-"||e==="*"||e==="/"||e==="%"||e==="^"||e==="?"||e===":"||e===".")this.current=this.newToken(ut,e);else if(e===""||e==="")this.current=this.newToken(ut,"*");else if(e===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ut,">="),this.pos++):this.current=this.newToken(ut,">");else if(e==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ut,"<="),this.pos++):this.current=this.newToken(ut,"<");else if(e==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(ut,"||"),this.pos++;else return!1;else if(e==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ut,"=="),this.pos++):this.current=this.newToken(ut,e);else if(e==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(ut,"!="),this.pos++):this.current=this.newToken(ut,e);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=t,!1)};Lt.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)};Lt.prototype.getCoordinates=function(){var t=0,e,n=-1;do t++,e=this.pos-n,n=this.expression.indexOf(`
`,n+1);while(n>=0&&n<this.pos);return{line:t,column:e}};Lt.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};function gt(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=n.allowMemberAccess!==!1}gt.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};gt.prototype.tokenMatches=function(t,e){return typeof e>"u"?!0:Array.isArray(e)?Qo(e,t.value):typeof e=="function"?e(t):t.value===e};gt.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};gt.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};gt.prototype.accept=function(t,e){return this.nextToken.type===t&&this.tokenMatches(this.nextToken,e)?(this.next(),!0):!1};gt.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}};gt.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;function n(i){return i.value in e}if(this.accept(Ay)||this.accept(ut,n))t.push(new Ye(Li,this.current.value));else if(this.accept(Tf))t.push(new Ye(Sr,this.current.value));else if(this.accept(GC))t.push(new Ye(Sr,this.current.value));else if(this.accept($i,"("))this.parseExpression(t),this.expect($i,")");else if(this.accept(_a,"["))if(this.accept(_a,"]"))t.push(new Ye(xa,0));else{var r=this.parseArrayList(t);t.push(new Ye(xa,r))}else throw new Error("unexpected "+this.nextToken)};gt.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),!this.parseUntilEndStatement(t,e)&&this.pushExpression(t,e))};gt.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])};gt.prototype.parseUntilEndStatement=function(t,e){return this.accept(jy)?(this.nextToken&&this.nextToken.type!==lc&&!(this.nextToken.type===$i&&this.nextToken.value===")")&&e.push(new Ye(xf)),this.nextToken.type!==lc&&this.parseExpression(e),t.push(new Ye(lr,e)),!0):!1};gt.prototype.parseArrayList=function(t){for(var e=0;!this.accept(_a,"]");)for(this.parseExpression(t),++e;this.accept(Ef);)this.parseExpression(t),++e;return e};gt.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(ut,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type===wa){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,s=e.value+1;i<s;i++){var o=r-i;t[o].type===Li&&(t[o]=new Ye(fo,t[o].value))}this.parseVariableAssignmentExpression(n),t.push(new Ye(lr,n)),t.push(new Ye(wf,e.value));continue}if(e.type!==Li&&e.type!==Mo)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Ye(fo,e.value)),t.push(new Ye(lr,n)),t.push(qi("="))}};gt.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(ut,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(ut,":"),this.parseConditionalExpression(n),t.push(new Ye(lr,e)),t.push(new Ye(lr,n)),t.push(QC("?"))}};gt.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(ut,"or");){var e=[];this.parseAndExpression(e),t.push(new Ye(lr,e)),t.push(qi("or"))}};gt.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(ut,"and");){var e=[];this.parseComparison(e),t.push(new Ye(lr,e)),t.push(qi("and"))}};var DQ=["==","!=","<","<=",">=",">","in"];gt.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(ut,DQ);){var e=this.current;this.parseAddSub(t),t.push(qi(e.value))}};var MQ=["+","-","||"];gt.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(ut,MQ);){var e=this.current;this.parseTerm(t),t.push(qi(e.value))}};var PQ=["*","/","%"];gt.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(ut,PQ);){var e=this.current;this.parseFactor(t),t.push(qi(e.value))}};gt.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;function n(i){return i.value in e}if(this.save(),this.accept(ut,n)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===$i&&this.nextToken.value==="("){this.restore(),this.parseExponential(t);return}else if(this.nextToken.type===jy||this.nextToken.type===Ef||this.nextToken.type===lc||this.nextToken.type===$i&&this.nextToken.value===")"){this.restore(),this.parseAtom(t);return}}var r=this.current;this.parseFactor(t),t.push(_f(r.value))}else this.parseExponential(t)};gt.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(ut,"^");)this.parseFactor(t),t.push(qi("^"))};gt.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(ut,"!");)t.push(_f("!"))};gt.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;function n(s){return s.value in e}if(this.accept(ut,n)){var r=this.current;this.parseAtom(t),t.push(_f(r.value))}else for(this.parseMemberExpression(t);this.accept($i,"(");)if(this.accept($i,")"))t.push(new Ye(wa,0));else{var i=this.parseArgumentList(t);t.push(new Ye(wa,i))}};gt.prototype.parseArgumentList=function(t){for(var e=0;!this.accept($i,")");)for(this.parseExpression(t),++e;this.accept(Ef);)this.parseExpression(t),++e;return e};gt.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(ut,".")||this.accept(_a,"[");){var e=this.current;if(e.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Ay),t.push(new Ye(Mo,this.current.value))}else if(e.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(_a,"]"),t.push(qi("["))}else throw new Error("unexpected symbol: "+e.value)}};function kQ(t,e){return Number(t)+Number(e)}function OQ(t,e){return t-e}function RQ(t,e){return t*e}function IQ(t,e){return t/e}function NQ(t,e){return t%e}function AQ(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function jQ(t,e){return t===e}function LQ(t,e){return t!==e}function $Q(t,e){return t>e}function FQ(t,e){return t<e}function BQ(t,e){return t>=e}function UQ(t,e){return t<=e}function YQ(t,e){return!!(t&&e)}function zQ(t,e){return!!(t||e)}function WQ(t,e){return Qo(e,t)}function HQ(t){return(Math.exp(t)-Math.exp(-t))/2}function qQ(t){return(Math.exp(t)+Math.exp(-t))/2}function VQ(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function QQ(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function KQ(t){return Math.log(t+Math.sqrt(t*t-1))}function GQ(t){return Math.log((1+t)/(1-t))/2}function _w(t){return Math.log(t)*Math.LOG10E}function ZQ(t){return-t}function XQ(t){return!t}function JQ(t){return t<0?Math.ceil(t):Math.floor(t)}function eK(t){return Math.random()*(t||1)}function Tw(t){return Ly(t+1)}function tK(t){return isFinite(t)&&t===Math.round(t)}var nK=4.7421875,Op=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Ly(t){var e,n;if(tK(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return i===0&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Ly(1-t));if(t>=171.35)return 1/0;if(t>85){var s=t*t,o=s*t,a=o*t,l=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*s)-139/(51840*o)-571/(2488320*a)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Op[0];for(var c=1;c<Op.length;++c)n+=Op[c]/(t+c);return e=t+nK+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}function rK(t){return Array.isArray(t)?t.length:String(t).length}function Ew(){for(var t=0,e=0,n=0;n<arguments.length;n++){var r=Math.abs(arguments[n]),i;e<r?(i=e/r,t=t*i*i+1,e=r):r>0?(i=r/e,t+=i*i):t+=r}return e===1/0?1/0:e*Math.sqrt(t)}function Sw(t,e,n){return t?e:n}function iK(t,e){return typeof e>"u"||+e==0?Math.round(t):(t=+t,e=-+e,isNaN(t)||!(typeof e=="number"&&e%1===0)?NaN:(t=t.toString().split("e"),t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+e:e))))}function sK(t,e,n){return n&&(n[t]=e),e}function oK(t,e){return t[e|0]}function aK(t){return arguments.length===1&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function lK(t){return arguments.length===1&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function cK(t,e){if(typeof t!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map(function(n,r){return t(n,r)})}function dK(t,e,n){if(typeof t!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce(function(r,i,s){return t(r,i,s)},e)}function uK(t,e){if(typeof t!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter(function(n,r){return t(n,r)})}function hK(t,e){if(!(Array.isArray(e)||typeof e=="string"))throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function fK(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function pK(t){return(t>0)-(t<0)||+t}var Cw=1/3;function mK(t){return t<0?-Math.pow(-t,Cw):Math.pow(t,Cw)}function gK(t){return Math.exp(t)-1}function yK(t){return Math.log(1+t)}function vK(t){return Math.log(t)/Math.LN2}function Po(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||HQ,cosh:Math.cosh||qQ,tanh:Math.tanh||VQ,asinh:Math.asinh||QQ,acosh:Math.acosh||KQ,atanh:Math.atanh||GQ,sqrt:Math.sqrt,cbrt:Math.cbrt||mK,log:Math.log,log2:Math.log2||vK,ln:Math.log,lg:Math.log10||_w,log10:Math.log10||_w,expm1:Math.expm1||gK,log1p:Math.log1p||yK,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||JQ,"-":ZQ,"+":Number,exp:Math.exp,not:XQ,length:rK,"!":Tw,sign:Math.sign||pK},this.binaryOps={"+":kQ,"-":OQ,"*":RQ,"/":IQ,"%":NQ,"^":Math.pow,"||":AQ,"==":jQ,"!=":LQ,">":$Q,"<":FQ,">=":BQ,"<=":UQ,and:YQ,or:zQ,in:WQ,"=":sK,"[":oK},this.ternaryOps={"?":Sw},this.functions={random:eK,fac:Tw,min:lK,max:aK,hypot:Math.hypot||Ew,pyt:Math.hypot||Ew,pow:Math.pow,atan2:Math.atan2,if:Sw,gamma:Ly,roundTo:iK,map:cK,fold:dK,filter:uK,indexOf:hK,join:fK},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Po.prototype.parse=function(t){var e=[],n=new gt(this,new Lt(this,t),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(e),n.expect(lc,"EOF"),new Vr(e,this)};Po.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var XC=new Po;Po.parse=function(t){return XC.parse(t)};Po.evaluate=function(t,e){return XC.parse(t).evaluate(e)};var Dw={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function bK(t){return Dw.hasOwnProperty(t)?Dw[t]:t}Po.prototype.isOperatorEnabled=function(t){var e=bK(t),n=this.options.operators||{};return!(e in n)||!!n[e]};const Yl="noncalculable_value",JC="mathematically_invalid_value",wK=new Po,Mw=t=>{try{return wK.parse(t).evaluate()}catch{return Yl}},eD=/#\{.+?\}/g,xK=t=>!t||typeof t!="object"?0:Object.values(t).reduce((e,n)=>(isNaN(n==null?void 0:n.value)||(e=e+Number(n==null?void 0:n.value)),e),0),Pw=(t,e)=>{const n=t.match(eD);return!(n!=null&&n.length)>0?t:n.reduce((r,i)=>{var c,d;const s=i.replace(/[#{}]/g,""),{dataElementId:o,categoryOptionComboId:a}=w2(s),l=(a?(d=(c=e==null?void 0:e[o])==null?void 0:c[a])==null?void 0:d.value:xK(e==null?void 0:e[o]))||0;return r.replace(i,l)},t)},_K=(t,e)=>{if(e<0||!Number.isInteger(e))return t;const n=Math.pow(10,e);return Math.round(t*n)/n},TK=({denominator:t,numerator:e,factor:n,dataValues:r,decimals:i})=>{const s=Pw(e,r),o=Pw(t,r),a=Mw(s),l=Mw(o);if(a===Yl||l===Yl)return{value:Yl,numeratorValue:a,denominatorValue:l};const c=a/l*n;return isFinite(c)&&!isNaN(c)?{value:i?_K(c,i):c,numeratorValue:a,denominatorValue:l}:{value:JC,numeratorValue:a,denominatorValue:l}},EK=({denominator:t,factor:e,numerator:n,decimals:r})=>{const i=O.useRef(null),s=ar(c=>c.getDataValues()),a=[...O.useMemo(()=>[t,n].reduce((c,d)=>{const u=d.match(eD);if((u==null?void 0:u.length)>0)for(const f of u){const{dataElementId:p}=w2(f.replace(/[#{}]/g,""));c.add(p)}return c},new Set),[t,n])].map(c=>Object.values(s[c]??{}).sort((d,u)=>{var f;return(f=d==null?void 0:d.categoryOptionCombo)==null?void 0:f.localeCompare(u==null?void 0:u.categoryOptionCombo)}).map(d=>d.value)).flat(),l=JSON.stringify(a);return O.useMemo(()=>(i.current=TK({denominator:t,numerator:n,factor:e,dataValues:s,decimals:r}),i.current),[l,t,n,e,r])},rg=({tooltipText:t,invalid:e})=>w.jsx(Pr,{className:Ze.indicatorCellNoncalculable,children:w.jsx(Nt,{content:t,children:e?w.jsx(lx,{}):w.jsx(Ta,{})})});rg.propTypes={invalid:h.bool,tooltipText:h.string};const $y=({denominator:t,factor:e,numerator:n,decimals:r})=>{const{value:i,numeratorValue:s,denominatorValue:o}=EK({denominator:t,factor:e,numerator:n,decimals:r});return i===Yl?w.jsx(rg,{tooltipText:k.t("This value cannot be calculated in this app")}):i===JC?w.jsx(rg,{tooltipText:k.t("This expression is not mathematically calculable {{numeratorValue}}/{{denominatorValue}}",{numeratorValue:s,denominatorValue:o}),invalid:!0}):w.jsx(Pr,{className:Ze.indicatorCell,children:i})};$y.propTypes={denominator:h.string.isRequired,factor:h.number.isRequired,numerator:h.string.isRequired,decimals:h.number};const SK=(t,e)=>{const{denominator:n,numerator:r,indicatorType:{factor:i},decimals:s}=e.indicators[t];return w.jsx($y,{denominator:n,numerator:r,factor:i,decimals:s})},CK=t=>{const e=t.children[0].nodeValue.trim(),n=yV(t.attribs);return e.length===0?w.jsx("td",{...n}):w.jsx("td",{...n,className:"dhis2-data-entry-app-custom-form-label-cell",children:e})},DK=(t,e)=>{const n=t.children.length===1&&t.children[0];if(n&&n.type==="text")return CK(t);const r=n.type==="tag"&&n.name==="input";if(n&&r&&n.attribs.name==="indicator"&&n.attribs.indicatorid)return SK(n.attribs.indicatorid,e);if(n&&r&&n.attribs.name==="total"&&n.attribs.dataelementid)return VC(n.attribs.dataelementid)},MK=(t,e)=>Hc(t,{replace:n=>{switch(n.name){case"input":return EQ(n,e);case"td":return DK(n,e);case"script":return w.jsx(w.Fragment,{});default:return}}});function PK(t,e){const n=t.split(","),r=n[0].match(/:(.*?);/)[1],i=atob(n[n.length-1]);let s=i.length;const o=new Uint8Array(s);for(;s--;)o[s]=i.charCodeAt(s);return new File([o],e,{type:r})}const kw={},kK=()=>{const t=gr(),{mutate:e}=p2(kw),{mutate:n}=m2(kw),r=O.useCallback((a,{fileName:l,dataValueParams:c,onSuccess:d})=>{const u=PK(a,l);e({...c,file:u},{onSuccess:d})},[e]),i=O.useCallback(async a=>await t.fetchQuery([`fileResources/${a}`],{params:{id:a}}),[t]),s=O.useCallback((a,{onSuccess:l})=>{n({...a},{onSuccess:l})},[n]);return O.useMemo(()=>({uploadFile:r,loadFileMetadata:i,deleteFile:s}),[r,i,s])},OK={},tD=({dataSet:t})=>{var E;const{data:e}=yE(),{data:n}=UH({id:t.id,version:t.version}),r=ar(S=>S.getDataValues),i=D.useMemo(()=>r(),[r]),{data:s}=et(),[{dataSetId:o,orgUnitId:a,periodId:l,attributeOptionComboSelection:c}]=Yi(),d=Ba(S=>S.setHighlightedField),u=ef(),f=D.useCallback(()=>{u(Jo)},[u]),{mutate:p}=bi(OK),m=kK(),v=D.useMemo(()=>[],[]),b=D.useCallback((S,C)=>{C!=null&&C.onSuccess&&v.push(C.onSuccess),p(S,{onSuccess:()=>{let M=v.pop();for(;M;)M==null||M(),M=v.pop()},onError:C==null?void 0:C.onError})},[v,p]),x=n==null?void 0:n.form;return!x||!e?null:!(x!=null&&x.match("<script"))&&!(x!=null&&x.match("<!-- NO_MODERN_HTML_ONLY_RENDERING -->"))?w.jsx("div",{className:zH.customForm,children:MK((E=e==null?void 0:e.dataEntryForm)==null?void 0:E.htmlCode,s)}):w.jsx(BH,{width:"100%",pluginSource:"plugin.html",htmlCode:x,initialValues:i,metadata:s,dataSet:t,saveValue:b,dataSetId:o,orgUnitId:a,periodId:l,attributeOptionComboSelection:c,setHighlightedField:d,showDetailsBar:f,fileHelper:m})};tD.propTypes={dataSet:h.shape({id:h.string,version:h.number})};const Sf=({hiddenItemsCount:t})=>w.jsx(vo,{children:w.jsx(Pr,{className:Ze.hiddenByFilterCell,colSpan:"100%",children:t===1?k.t("1 item hidden by filter"):k.t("{{count}} items hidden by filter",{count:t})})});Sf.propTypes={hiddenItemsCount:h.number.isRequired};const Ow=()=>w.jsx(Pr,{className:Ze.paddingCell,dataTest:"dhis2-dataentry-paddingcell"}),RK=(t,e)=>{const{data:n}=et();return O.useMemo(()=>{let r=e;return t.map(i=>{const s=qT(n,i.id),o=i.categoryOptions.length;if(o>0&&r>=o){r=r/o;const a=e/(r*o),l=new Array(a).fill(0).flatMap(()=>s);return{span:r,columns:l,category:i}}else console.warn(`Category ${i.displayFormName} malformed. Number of options: ${o}, span: ${r}`);return i})},[n,t,e])},nD=({renderRowTotals:t,paddingCells:e,categoryOptionCombos:n,categories:r,checkTableActive:i,hideRowTotalsDueToNonNumberValueTypes:s})=>{const{deId:o,cocId:a}=BC(),l=RK(r,n.length),c=(d,u)=>{const p=n.findIndex(m=>a===m.id)-d*u;return i(o)&&p<u&&p>=0};return l.map((d,u)=>{const{span:f,columns:p,category:m}=d;return w.jsxs(Zl,{children:[w.jsx(hi,{className:Ze.categoryNameHeader,colSpan:"1",children:m.displayFormName!=="default"&&m.displayFormName}),p.map((v,b)=>w.jsx(hi,{className:Pe(Ze.tableHeader,{[Ze.active]:c(b,f)}),colSpan:f.toString(),children:v.isDefault?k.t("Value"):v.displayFormName},b)),e.map((v,b)=>w.jsx(Ow,{},b)),t&&u===0&&w.jsx(w.Fragment,{children:s?w.jsx(Ow,{},"total_header_padding"):w.jsx(zC,{rowSpan:r.length})})]},m.id)})};nD.propTypes={categories:h.array,categoryOptionCombos:h.arrayOf(h.shape({id:h.string})),checkTableActive:h.func,hideRowTotalsDueToNonNumberValueTypes:h.bool,paddingCells:h.array,renderRowTotals:h.bool};const rD=({dataElement:t})=>{const{deId:e}=BC();return w.jsx(Pr,{dataTest:"dhis2-dataentryapp-dataelementcell",className:Pe(Ze.dataElementName,{[Ze.active]:t.id===e}),children:t.displayFormName})};rD.propTypes={dataElement:h.shape({id:h.string.isRequired,categoryCombo:h.shape({id:h.string}),displayFormName:h.string,valueType:h.string})};const Fy=D.memo(function({categoryCombo:e,dataElements:n,filterText:r,globalFilterText:i,greyedFields:s,maxColumnsInSection:o,renderRowTotals:a,renderColumnTotals:l,collapsed:c}){const{data:d}=et(),u=Ic(d,e.id),f=GT(d,e.id),p=O.useCallback(E=>n.some(({id:S})=>S===E),[n]),m=o>0?new Array(o-f.length).fill(0):[],v=new Set;n.forEach(E=>{const S=E.displayFormName.toLowerCase();(r&&!S.includes(r.toLowerCase())||i&&!S.includes(i.toLowerCase()))&&v.add(E.id)});const b=v.size,{hasNonNumberValueType:x,allAreNonNumberValueType:T}=O.useMemo(()=>{const E=n.map(({valueType:C})=>C).some(C=>!Nl.includes(C)),S=n.map(({valueType:C})=>C).every(C=>!Nl.includes(C));return{hasNonNumberValueType:E,allAreNonNumberValueType:S}},[n]);return w.jsxs(vh,{className:Pe({[Ze.sectionRowCollapsed]:c}),children:[w.jsx(nD,{categoryOptionCombos:f,categories:u,renderRowTotals:a,hideRowTotalsDueToNonNumberValueTypes:T,paddingCells:m,checkTableActive:p}),n.map((E,S)=>{const C=v.has(E.id);return w.jsxs(vo,{dataTest:Pe("dhis2-dataentry-tableinputrow",{"dhis2-dataentry-tableinputrow-hidden":C}),className:Pe({[Ze.hidden]:C}),children:[w.jsx(rD,{dataElement:E}),f.map(M=>w.jsx(ky,{children:w.jsx(bf,{dataElement:E,categoryOptionCombo:M,disabled:s==null?void 0:s.has(Ua(E.id,M.id))})},M.id)),m.map((M,P)=>w.jsx(Rw,{className:Ze.tableCell},P)),a&&w.jsx(w.Fragment,{children:Nl.includes(E.valueType)?w.jsx(WC,{dataElements:n,categoryOptionCombos:f,row:S}):w.jsx(Rw,{className:Ze.tableCell},"total_replacement_padding")})]},E.id)}),l&&!x&&w.jsx(HC,{paddingCells:m,renderTotalSum:a&&l,dataElements:n,categoryOptionCombos:f}),b>0&&w.jsx(Sf,{hiddenItemsCount:b})]})});Fy.propTypes={categoryCombo:h.shape({id:h.string.isRequired}),collapsed:h.bool,dataElements:h.arrayOf(h.shape({id:h.string.isRequired,categoryCombo:h.shape({id:h.string}),displayFormName:h.string,valueType:h.string})),filterText:h.string,globalFilterText:h.string,greyedFields:h.instanceOf(Set),maxColumnsInSection:h.number,renderColumnTotals:h.bool,renderRowTotals:h.bool};const Rw=()=>w.jsx(Pr,{className:Ze.paddingCell,dataTest:"dhis2-dataentry-paddingcell"}),IK="_table_1eyg3_1",NK="_filterWrapper_1eyg3_8",AK="_filterField_1eyg3_14",jK="_hideForPrint_1eyg3_19 _hideForPrint_9lzdq_20",Gd={table:IK,filterWrapper:NK,filterField:AK,hideForPrint:jK},By=({indicators:t,maxColumnsInSection:e,renderRowTotals:n,filterText:r,globalFilterText:i})=>{const s=t.filter(c=>{const d=c.displayFormName.toLowerCase();return(!r||d.includes(r.toLowerCase()))&&(!i||d.includes(i.toLowerCase()))}),o=t.length-s.length,a=e-(n?0:1),l=a>0?Array(a).fill(0):[];return w.jsxs(vh,{children:[w.jsxs(Zl,{children:[w.jsx(hi,{className:Ze.categoryNameHeader,children:k.t("Indicators")}),w.jsx(hi,{className:Ze.tableHeader,children:k.t("Values")}),l.map((c,d)=>w.jsx(Pr,{className:Ze.paddingCell},d))]}),s.map(c=>w.jsxs(vo,{dataTest:"dhis2-dataentry-indicatorstablerow",children:[w.jsx(Pr,{className:Pe(Ze.dataElementName),children:c.displayFormName}),w.jsx($y,{denominator:c.denominator,numerator:c.numerator,factor:c.indicatorType.factor,decimals:c.decimals}),l.map((d,u)=>w.jsx(Pr,{className:Ze.paddingCell,dataTest:"dhis2-dataentry-indicatorspaddingcell"},u))]},c.id)),o>0&&w.jsx(Sf,{hiddenItemsCount:o})]})};By.propTypes={indicators:h.arrayOf(h.shape({id:h.string.isRequired,displayFormName:h.string})).isRequired,filterText:h.string,globalFilterText:h.string,maxColumnsInSection:h.number,renderRowTotals:h.bool};function iD({dataSet:t,globalFilterText:e}){const{data:n}=et(),r=vL(n,t.id),i=bL(n,t.id),s=QT(n,r),o=O.useMemo(()=>{const a=s.map(l=>KT(n,l.categoryCombo.id));return Math.max(...a)},[n,s]);return w.jsxs("section",{className:"wrapper",children:[s.length<1&&w.jsx(kr,{title:k.t("This data set has no assigned Data Elements"),warning:!0,children:k.t("There are no Data Elements in this data set. Adds some Data Elements to use this data set.")}),w.jsxs(h0,{className:Gd.table,suppressZebraStriping:!0,children:[s.map(({categoryCombo:a,dataElements:l})=>w.jsx(Fy,{categoryCombo:a,dataElements:l,globalFilterText:e,maxColumnsInSection:o},a.id)),i.length>0&&w.jsx(By,{indicators:i,maxColumnsInSection:o,globalFilterText:e})]})]})}iD.propTypes={dataSet:h.shape({displayName:h.string,id:h.string}),globalFilterText:h.string};function sD({value:t,setFilterText:e,formType:n}){const r=Pe(Gd.filterWrapper,Gd.hideForPrint);return w.jsxs("div",{className:r,children:[w.jsx(cg,{name:"filter-input",className:Gd.filterField,type:"text",dense:!0,placeholder:n===bE.SECTION?k.t("Filter data elements in all sections"):k.t("Filter fields"),value:t,onChange:({value:i})=>e(i)}),t&&w.jsx(We,{secondary:!0,small:!0,name:"Clear",onClick:()=>e(""),children:k.t("Clear filter")})]})}sD.propTypes={formType:h.string,setFilterText:h.func,value:h.string};const Iw={beforeSectionText:"",pivotMode:"n/a",afterSectionText:"",pivotCategory:null},Uy=t=>{if(!t)return Iw;try{const{displayOptions:e}=t;return JSON.parse(e??"{}")}catch(e){return console.error(`Failed to parse displayOptions for section ${t==null?void 0:t.displayName}(${t==null?void 0:t.id})`,e),Iw}},LK=(t,e)=>{const n=FK(t,e),r=n.flat().flat().filter(s=>{var o;return(o=s.parentCategoryOptions)==null?void 0:o.length}),i=$K(t,e,r);return{columnHeaders:n,rowHeaders:i}},$K=(t,e=[],n=[])=>{const{categoryOptionsDetails:r,sortedCOCs:i,categories:s,dataElements:o}=t,a=s.filter(d=>e.includes(d.id)),l=[],c={};return o.forEach(d=>{a.forEach(u=>{u.categoryOptions.forEach(f=>{const p=[];c[d.id]||(p.push({id:d.id,displayFormName:d.displayFormName,type:"rowHeader",rowSpan:a.reduce((v,b)=>v*b.categoryOptions.length,1),metadataType:"dataElement"}),c[d.id]=!0);const m=r.find(v=>v.id===f);p.push({id:m==null?void 0:m.id,displayFormName:m==null?void 0:m.displayFormName,type:"rowHeader",metadataType:"categoryOption"}),n.forEach(v=>{const b=[...v.parentCategoryOptions,f],x=i.find(T=>b.every(E=>T.categoryOptions.includes(E)));p.push({id:d.id+(x==null?void 0:x.id),type:"de",dataElement:d,coc:x,metadataType:"categoryOptionCombo"})}),l.push(p)})})}),l},FK=(t,e)=>{var d,u,f,p,m,v,b,x;const{categoryOptionsDetails:n,categories:r}=t,i=[...r.filter(T=>!e.includes(T.id))],s=r.filter(T=>e.includes(T.id)),o=r.filter(T=>!e.includes(T.id)),a=[],l=((d=o[o.length-1])==null?void 0:d.categoryOptions.length)*(o.length>1?(u=o[0])==null?void 0:u.categoryOptions.length:1),c=o.length*2;if(i.length===1){const[T]=i,E={id:T==null?void 0:T.id,displayFormName:T==null?void 0:T.displayFormName,type:"columnHeader",metadataType:"category"},S={id:-1,type:"empty",colSpan:(r.length-i.length)*2-s.length};a.push([{...S,colSpan:S.colSpan+1},{...E,colSpan:(f=T.categoryOptions)==null?void 0:f.length}]);const C=[S,{id:(p=s[0])==null?void 0:p.id,displayFormName:(m=s[0])==null?void 0:m.displayFormName,type:"columnHeader",metadataType:"category"}];return(v=T.categoryOptions)==null||v.forEach(M=>{const P=n.find(R=>R.id===M);C.push({id:P==null?void 0:P.id,displayFormName:P==null?void 0:P.displayFormName,type:"columnHeader",metadataType:"categoryOption",parentCategoryOptions:[M]})}),a.push(C),a}return i.forEach((T,E)=>{var R,I,U;const S=E===i.length-1,C={id:T==null?void 0:T.id,displayFormName:T==null?void 0:T.displayFormName,type:"columnHeader",metadataType:"category"},M=[];M.push({id:-1,type:"empty",colSpan:(r.length-i.length)*2-s.length},C);const P=((I=(R=i[E-1])==null?void 0:R.categoryOptions)==null?void 0:I.length)??1;for(let L=0;L<P;L++)(U=T.categoryOptions)==null||U.forEach(z=>{var ne;const q=n.find(J=>J.id===z),W=l/T.categoryOptions.length/P,B=(ne=i[E-1])==null?void 0:ne.categoryOptions[L],Z=S?B?[z,B]:[z]:[];M.push({id:q==null?void 0:q.id,displayFormName:q==null?void 0:q.displayFormName,type:"columnHeader",metadataType:"categoryOption",colSpan:W,parentCategoryOptions:Z})});a.push(M)}),a.push([{id:-1,type:"empty",colSpan:(r.length-i.length)*2-s.length},{id:(b=s[0])==null?void 0:b.id,displayFormName:(x=s[0])==null?void 0:x.displayFormName,type:"columnHeader",metadataType:"category"},{id:-1,type:"empty",colSpan:c}]),a},BK=t=>{const{metadata:e,categoryOptionsDetails:n,sortedCOCs:r,categories:i,dataElements:s,totalRows:o}=t,l=[[...[...i,...s].map(d=>({id:d==null?void 0:d.id,name:d.name,displayFormName:d==null?void 0:d.displayFormName,type:"columnHeader",metadataType:d.valueType?"dataElement":"category"}))]],c=[];return r.forEach((d,u)=>{const f=[];let p=o;d.categoryOptions.forEach((v,b)=>{const x=n.find(E=>E.id===v),T=i[b];p=p/T.categoryOptions.length,u%p===0&&f.push({id:x==null?void 0:x.id,displayFormName:(x==null?void 0:x.name)==="default"?k.t("Value"):x==null?void 0:x.displayName,rowSpan:p,type:"rowHeader"})}),s.forEach(v=>{const b=L0(e,v.id);f.push({id:v.id,displayName:v.displayName,rowSpan:1,type:"de",dataElement:b,coc:YT(e,b.categoryCombo.id,d.id)})}),c.push(f)}),{columnHeaders:l,rowHeaders:c}},UK=(t,e)=>{const n=e.pivotMode==="move_categories"?[e.pivotedCategory]:[],i=e.pivotMode==="pivot"?BK:LK,{rowHeaders:s,columnHeaders:o}=i(t,n);return[...o,...s]},oD=D.memo(function({categoryCombo:e,dataElements:n,greyedFields:r,filterText:i,globalFilterText:s,displayOptions:o,collapsed:a}){const{data:l}=et(),c=Ic(l,e.id),d=GT(l,e.id),u=c.map(E=>[...qT(l,E.id)]).flat(),f=E=>{const S=o.pivotMode!=="move_categories"&&i.toLowerCase();return S?E.toLowerCase().includes(S):!0},p=E=>{const S=o.pivotMode==="move_categories"&&i.toLowerCase(),C=s.toLowerCase();return S||C?S&&E.toLowerCase().includes(S)||C&&E.toLowerCase().includes(C):!0},m=n.filter(E=>p(E.displayFormName)),v=d.filter(E=>f(E.displayName)),b={metadata:l,categoryOptionsDetails:u,sortedCOCs:v,totalRows:d.length,categories:c,dataElements:m},x=UK(b,o),T=o.pivotMode==="move_categories"?n.length-m.length:d.length-v.length;return w.jsxs(w.Fragment,{children:[x.map((E,S)=>w.jsx(vo,{className:Pe({[Ze.sectionRowCollapsed]:a}),children:E.map(C=>C.type==="columnHeader"||C.type==="rowHeader"?w.jsx(hi,{className:Pe([Ze.pivotedHeader,Ze.noWrap,Ze[C.metadataType]],{[Ze.dataElementRowHeader]:C.metadataType==="dataElement"}),colSpan:C.colSpan,rowSpan:C.rowSpan,children:C.name!=="default"&&C.displayFormName},C.id):C.type==="empty"?w.jsx(Pr,{className:[Ze.categoryNameHeader,Ze.noWrap],colSpan:C.colSpan,rowSpan:C.rowSpan},C.id):C.type==="de"?w.jsx(ky,{children:w.jsx(bf,{dataElement:C.dataElement,categoryOptionCombo:C.coc,disabled:r==null?void 0:r.has(Ua(C.dataElement.id,C.coc.id))})},C.id):w.jsx(w.Fragment,{children:"unsupported field"}))},S)),T>0&&w.jsx(Sf,{hiddenItemsCount:T})]})});oD.propTypes={categoryCombo:h.shape({id:h.string.isRequired}),collapsed:h.bool,dataElements:h.arrayOf(h.shape({id:h.string.isRequired,displayFormName:h.string,headerCombo:h.shape({id:h.string}),valueType:h.string})),displayOptions:h.shape({afterSectionText:h.string,beforeSectionText:h.string,pivotMode:h.oneOf(["move_categories","pivot"]),pivotedCategory:h.string}),filterText:h.string,globalFilterText:h.string,greyedFields:h.instanceOf(Set)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:aD,setPrototypeOf:Nw,isFrozen:YK,getPrototypeOf:zK,getOwnPropertyDescriptor:WK}=Object;let{freeze:Qn,seal:Nr,create:lD}=Object,{apply:ig,construct:sg}=typeof Reflect<"u"&&Reflect;Qn||(Qn=function(e){return e});Nr||(Nr=function(e){return e});ig||(ig=function(e,n,r){return e.apply(n,r)});sg||(sg=function(e,n){return new e(...n)});const Md=Kn(Array.prototype.forEach),HK=Kn(Array.prototype.lastIndexOf),Aw=Kn(Array.prototype.pop),cl=Kn(Array.prototype.push),qK=Kn(Array.prototype.splice),Zd=Kn(String.prototype.toLowerCase),Rp=Kn(String.prototype.toString),jw=Kn(String.prototype.match),dl=Kn(String.prototype.replace),VK=Kn(String.prototype.indexOf),QK=Kn(String.prototype.trim),Yr=Kn(Object.prototype.hasOwnProperty),Ln=Kn(RegExp.prototype.test),ul=KK(TypeError);function Kn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ig(t,e,r)}}function KK(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sg(t,n)}}function Re(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zd;Nw&&Nw(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(YK(e)||(e[r]=s),i=s)}t[i]=!0}return t}function GK(t){for(let e=0;e<t.length;e++)Yr(t,e)||(t[e]=null);return t}function js(t){const e=lD(null);for(const[n,r]of aD(t))Yr(t,n)&&(Array.isArray(r)?e[n]=GK(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=js(r):e[n]=r);return e}function hl(t,e){for(;t!==null;){const r=WK(t,e);if(r){if(r.get)return Kn(r.get);if(typeof r.value=="function")return Kn(r.value)}t=zK(t)}function n(){return null}return n}const Lw=Qn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ip=Qn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Np=Qn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZK=Qn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ap=Qn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XK=Qn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$w=Qn(["#text"]),Fw=Qn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jp=Qn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Bw=Qn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pd=Qn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),JK=Nr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eG=Nr(/<%[\w\W]*|[\w\W]*%>/gm),tG=Nr(/\$\{[\w\W]*/gm),nG=Nr(/^data-[\-\w.\u00B7-\uFFFF]+$/),rG=Nr(/^aria-[\-\w]+$/),cD=Nr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iG=Nr(/^(?:\w+script|data):/i),sG=Nr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dD=Nr(/^html$/i),oG=Nr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Uw=Object.freeze({__proto__:null,ARIA_ATTR:rG,ATTR_WHITESPACE:sG,CUSTOM_ELEMENT:oG,DATA_ATTR:nG,DOCTYPE_NAME:dD,ERB_EXPR:eG,IS_ALLOWED_URI:cD,IS_SCRIPT_OR_DATA:iG,MUSTACHE_EXPR:JK,TMPLIT_EXPR:tG});const fl={element:1,text:3,progressingInstruction:7,comment:8,document:9},aG=function(){return typeof window>"u"?null:window},lG=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Yw=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function uD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aG();const e=ue=>uD(ue);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==fl.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:p}=t,m=l.prototype,v=hl(m,"cloneNode"),b=hl(m,"remove"),x=hl(m,"nextSibling"),T=hl(m,"childNodes"),E=hl(m,"parentNode");if(typeof o=="function"){const ue=n.createElement("template");ue.content&&ue.content.ownerDocument&&(n=ue.content.ownerDocument)}let S,C="";const{implementation:M,createNodeIterator:P,createDocumentFragment:R,getElementsByTagName:I}=n,{importNode:U}=r;let L=Yw();e.isSupported=typeof aD=="function"&&typeof E=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:z,ERB_EXPR:q,TMPLIT_EXPR:W,DATA_ATTR:B,ARIA_ATTR:Z,IS_SCRIPT_OR_DATA:ne,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:G}=Uw;let{IS_ALLOWED_URI:K}=Uw,Q=null;const A=Re({},[...Lw,...Ip,...Np,...Ap,...$w]);let F=null;const H=Re({},[...Fw,...jp,...Bw,...Pd]);let V=Object.seal(lD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,de=null,Se=!0,De=!0,Oe=!1,pt=!0,Ct=!1,Nn=!0,En=!1,kt=!1,yt=!1,ur=!1,Ds=!1,Ms=!1,$r=!0,Zr=!1;const vr="user-content-";let ko=!0,Fr=!1,Xn={},An=null;const Vi=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qc=null;const Vc=Re({},["audio","video","img","source","image","track"]);let qa=null;const zy=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qc="http://www.w3.org/1998/Math/MathML",Kc="http://www.w3.org/2000/svg",wi="http://www.w3.org/1999/xhtml";let Oo=wi,Mf=!1,Pf=null;const TD=Re({},[Qc,Kc,wi],Rp);let Gc=Re({},["mi","mo","mn","ms","mtext"]),Zc=Re({},["annotation-xml"]);const ED=Re({},["title","style","font","a","script"]);let Va=null;const SD=["application/xhtml+xml","text/html"],CD="text/html";let tn=null,Ro=null;const DD=n.createElement("form"),Wy=function($){return $ instanceof RegExp||$ instanceof Function},kf=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ro&&Ro===$)){if((!$||typeof $!="object")&&($={}),$=js($),Va=SD.indexOf($.PARSER_MEDIA_TYPE)===-1?CD:$.PARSER_MEDIA_TYPE,tn=Va==="application/xhtml+xml"?Rp:Zd,Q=Yr($,"ALLOWED_TAGS")?Re({},$.ALLOWED_TAGS,tn):A,F=Yr($,"ALLOWED_ATTR")?Re({},$.ALLOWED_ATTR,tn):H,Pf=Yr($,"ALLOWED_NAMESPACES")?Re({},$.ALLOWED_NAMESPACES,Rp):TD,qa=Yr($,"ADD_URI_SAFE_ATTR")?Re(js(zy),$.ADD_URI_SAFE_ATTR,tn):zy,qc=Yr($,"ADD_DATA_URI_TAGS")?Re(js(Vc),$.ADD_DATA_URI_TAGS,tn):Vc,An=Yr($,"FORBID_CONTENTS")?Re({},$.FORBID_CONTENTS,tn):Vi,se=Yr($,"FORBID_TAGS")?Re({},$.FORBID_TAGS,tn):{},de=Yr($,"FORBID_ATTR")?Re({},$.FORBID_ATTR,tn):{},Xn=Yr($,"USE_PROFILES")?$.USE_PROFILES:!1,Se=$.ALLOW_ARIA_ATTR!==!1,De=$.ALLOW_DATA_ATTR!==!1,Oe=$.ALLOW_UNKNOWN_PROTOCOLS||!1,pt=$.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ct=$.SAFE_FOR_TEMPLATES||!1,Nn=$.SAFE_FOR_XML!==!1,En=$.WHOLE_DOCUMENT||!1,ur=$.RETURN_DOM||!1,Ds=$.RETURN_DOM_FRAGMENT||!1,Ms=$.RETURN_TRUSTED_TYPE||!1,yt=$.FORCE_BODY||!1,$r=$.SANITIZE_DOM!==!1,Zr=$.SANITIZE_NAMED_PROPS||!1,ko=$.KEEP_CONTENT!==!1,Fr=$.IN_PLACE||!1,K=$.ALLOWED_URI_REGEXP||cD,Oo=$.NAMESPACE||wi,Gc=$.MATHML_TEXT_INTEGRATION_POINTS||Gc,Zc=$.HTML_INTEGRATION_POINTS||Zc,V=$.CUSTOM_ELEMENT_HANDLING||{},$.CUSTOM_ELEMENT_HANDLING&&Wy($.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=$.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$.CUSTOM_ELEMENT_HANDLING&&Wy($.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=$.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$.CUSTOM_ELEMENT_HANDLING&&typeof $.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=$.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ct&&(De=!1),Ds&&(ur=!0),Xn&&(Q=Re({},$w),F=[],Xn.html===!0&&(Re(Q,Lw),Re(F,Fw)),Xn.svg===!0&&(Re(Q,Ip),Re(F,jp),Re(F,Pd)),Xn.svgFilters===!0&&(Re(Q,Np),Re(F,jp),Re(F,Pd)),Xn.mathMl===!0&&(Re(Q,Ap),Re(F,Bw),Re(F,Pd))),$.ADD_TAGS&&(Q===A&&(Q=js(Q)),Re(Q,$.ADD_TAGS,tn)),$.ADD_ATTR&&(F===H&&(F=js(F)),Re(F,$.ADD_ATTR,tn)),$.ADD_URI_SAFE_ATTR&&Re(qa,$.ADD_URI_SAFE_ATTR,tn),$.FORBID_CONTENTS&&(An===Vi&&(An=js(An)),Re(An,$.FORBID_CONTENTS,tn)),ko&&(Q["#text"]=!0),En&&Re(Q,["html","head","body"]),Q.table&&(Re(Q,["tbody"]),delete se.tbody),$.TRUSTED_TYPES_POLICY){if(typeof $.TRUSTED_TYPES_POLICY.createHTML!="function")throw ul('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof $.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ul('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=$.TRUSTED_TYPES_POLICY,C=S.createHTML("")}else S===void 0&&(S=lG(p,i)),S!==null&&typeof C=="string"&&(C=S.createHTML(""));Qn&&Qn($),Ro=$}},Hy=Re({},[...Ip,...Np,...ZK]),qy=Re({},[...Ap,...XK]),MD=function($){let ee=E($);(!ee||!ee.tagName)&&(ee={namespaceURI:Oo,tagName:"template"});const ae=Zd($.tagName),vt=Zd(ee.tagName);return Pf[$.namespaceURI]?$.namespaceURI===Kc?ee.namespaceURI===wi?ae==="svg":ee.namespaceURI===Qc?ae==="svg"&&(vt==="annotation-xml"||Gc[vt]):!!Hy[ae]:$.namespaceURI===Qc?ee.namespaceURI===wi?ae==="math":ee.namespaceURI===Kc?ae==="math"&&Zc[vt]:!!qy[ae]:$.namespaceURI===wi?ee.namespaceURI===Kc&&!Zc[vt]||ee.namespaceURI===Qc&&!Gc[vt]?!1:!qy[ae]&&(ED[ae]||!Hy[ae]):!!(Va==="application/xhtml+xml"&&Pf[$.namespaceURI]):!1},Xr=function($){cl(e.removed,{element:$});try{E($).removeChild($)}catch{b($)}},Xc=function($,ee){try{cl(e.removed,{attribute:ee.getAttributeNode($),from:ee})}catch{cl(e.removed,{attribute:null,from:ee})}if(ee.removeAttribute($),$==="is")if(ur||Ds)try{Xr(ee)}catch{}else try{ee.setAttribute($,"")}catch{}},Vy=function($){let ee=null,ae=null;if(yt)$="<remove></remove>"+$;else{const dn=jw($,/^[\r\n\t ]+/);ae=dn&&dn[0]}Va==="application/xhtml+xml"&&Oo===wi&&($='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$+"</body></html>");const vt=S?S.createHTML($):$;if(Oo===wi)try{ee=new f().parseFromString(vt,Va)}catch{}if(!ee||!ee.documentElement){ee=M.createDocument(Oo,"template",null);try{ee.documentElement.innerHTML=Mf?C:vt}catch{}}const Sn=ee.body||ee.documentElement;return $&&ae&&Sn.insertBefore(n.createTextNode(ae),Sn.childNodes[0]||null),Oo===wi?I.call(ee,En?"html":"body")[0]:En?ee.documentElement:Sn},Qy=function($){return P.call($.ownerDocument||$,$,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Of=function($){return $ instanceof u&&(typeof $.nodeName!="string"||typeof $.textContent!="string"||typeof $.removeChild!="function"||!($.attributes instanceof d)||typeof $.removeAttribute!="function"||typeof $.setAttribute!="function"||typeof $.namespaceURI!="string"||typeof $.insertBefore!="function"||typeof $.hasChildNodes!="function")},Ky=function($){return typeof a=="function"&&$ instanceof a};function xi(ue,$,ee){Md(ue,ae=>{ae.call(e,$,ee,Ro)})}const Gy=function($){let ee=null;if(xi(L.beforeSanitizeElements,$,null),Of($))return Xr($),!0;const ae=tn($.nodeName);if(xi(L.uponSanitizeElement,$,{tagName:ae,allowedTags:Q}),$.hasChildNodes()&&!Ky($.firstElementChild)&&Ln(/<[/\w]/g,$.innerHTML)&&Ln(/<[/\w]/g,$.textContent)||$.nodeType===fl.progressingInstruction||Nn&&$.nodeType===fl.comment&&Ln(/<[/\w]/g,$.data))return Xr($),!0;if(!Q[ae]||se[ae]){if(!se[ae]&&Xy(ae)&&(V.tagNameCheck instanceof RegExp&&Ln(V.tagNameCheck,ae)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ae)))return!1;if(ko&&!An[ae]){const vt=E($)||$.parentNode,Sn=T($)||$.childNodes;if(Sn&&vt){const dn=Sn.length;for(let Jn=dn-1;Jn>=0;--Jn){const Jr=v(Sn[Jn],!0);Jr.__removalCount=($.__removalCount||0)+1,vt.insertBefore(Jr,x($))}}}return Xr($),!0}return $ instanceof l&&!MD($)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&Ln(/<\/no(script|embed|frames)/i,$.innerHTML)?(Xr($),!0):(Ct&&$.nodeType===fl.text&&(ee=$.textContent,Md([z,q,W],vt=>{ee=dl(ee,vt," ")}),$.textContent!==ee&&(cl(e.removed,{element:$.cloneNode()}),$.textContent=ee)),xi(L.afterSanitizeElements,$,null),!1)},Zy=function($,ee,ae){if($r&&(ee==="id"||ee==="name")&&(ae in n||ae in DD))return!1;if(!(De&&!de[ee]&&Ln(B,ee))){if(!(Se&&Ln(Z,ee))){if(!F[ee]||de[ee]){if(!(Xy($)&&(V.tagNameCheck instanceof RegExp&&Ln(V.tagNameCheck,$)||V.tagNameCheck instanceof Function&&V.tagNameCheck($))&&(V.attributeNameCheck instanceof RegExp&&Ln(V.attributeNameCheck,ee)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(ee))||ee==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Ln(V.tagNameCheck,ae)||V.tagNameCheck instanceof Function&&V.tagNameCheck(ae))))return!1}else if(!qa[ee]){if(!Ln(K,dl(ae,J,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&$!=="script"&&VK(ae,"data:")===0&&qc[$])){if(!(Oe&&!Ln(ne,dl(ae,J,"")))){if(ae)return!1}}}}}}return!0},Xy=function($){return $!=="annotation-xml"&&jw($,G)},Jy=function($){xi(L.beforeSanitizeAttributes,$,null);const{attributes:ee}=$;if(!ee||Of($))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let vt=ee.length;for(;vt--;){const Sn=ee[vt],{name:dn,namespaceURI:Jn,value:Jr}=Sn,Qa=tn(dn);let jn=dn==="value"?Jr:QK(Jr);if(ae.attrName=Qa,ae.attrValue=jn,ae.keepAttr=!0,ae.forceKeepAttr=void 0,xi(L.uponSanitizeAttribute,$,ae),jn=ae.attrValue,Zr&&(Qa==="id"||Qa==="name")&&(Xc(dn,$),jn=vr+jn),Nn&&Ln(/((--!?|])>)|<\/(style|title)/i,jn)){Xc(dn,$);continue}if(ae.forceKeepAttr||(Xc(dn,$),!ae.keepAttr))continue;if(!pt&&Ln(/\/>/i,jn)){Xc(dn,$);continue}Ct&&Md([z,q,W],tv=>{jn=dl(jn,tv," ")});const ev=tn($.nodeName);if(Zy(ev,Qa,jn)){if(S&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Jn)switch(p.getAttributeType(ev,Qa)){case"TrustedHTML":{jn=S.createHTML(jn);break}case"TrustedScriptURL":{jn=S.createScriptURL(jn);break}}try{Jn?$.setAttributeNS(Jn,dn,jn):$.setAttribute(dn,jn),Of($)?Xr($):Aw(e.removed)}catch{}}}xi(L.afterSanitizeAttributes,$,null)},PD=function ue($){let ee=null;const ae=Qy($);for(xi(L.beforeSanitizeShadowDOM,$,null);ee=ae.nextNode();)xi(L.uponSanitizeShadowNode,ee,null),Gy(ee),Jy(ee),ee.content instanceof s&&ue(ee.content);xi(L.afterSanitizeShadowDOM,$,null)};return e.sanitize=function(ue){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,ae=null,vt=null,Sn=null;if(Mf=!ue,Mf&&(ue="<!-->"),typeof ue!="string"&&!Ky(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw ul("dirty is not a string, aborting")}else throw ul("toString is not a function");if(!e.isSupported)return ue;if(kt||kf($),e.removed=[],typeof ue=="string"&&(Fr=!1),Fr){if(ue.nodeName){const Jr=tn(ue.nodeName);if(!Q[Jr]||se[Jr])throw ul("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof a)ee=Vy("<!---->"),ae=ee.ownerDocument.importNode(ue,!0),ae.nodeType===fl.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?ee=ae:ee.appendChild(ae);else{if(!ur&&!Ct&&!En&&ue.indexOf("<")===-1)return S&&Ms?S.createHTML(ue):ue;if(ee=Vy(ue),!ee)return ur?null:Ms?C:""}ee&&yt&&Xr(ee.firstChild);const dn=Qy(Fr?ue:ee);for(;vt=dn.nextNode();)Gy(vt),Jy(vt),vt.content instanceof s&&PD(vt.content);if(Fr)return ue;if(ur){if(Ds)for(Sn=R.call(ee.ownerDocument);ee.firstChild;)Sn.appendChild(ee.firstChild);else Sn=ee;return(F.shadowroot||F.shadowrootmode)&&(Sn=U.call(r,Sn,!0)),Sn}let Jn=En?ee.outerHTML:ee.innerHTML;return En&&Q["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&Ln(dD,ee.ownerDocument.doctype.name)&&(Jn="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+Jn),Ct&&Md([z,q,W],Jr=>{Jn=dl(Jn,Jr," ")}),S&&Ms?S.createHTML(Jn):Jn},e.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kf(ue),kt=!0},e.clearConfig=function(){Ro=null,kt=!1},e.isValidAttribute=function(ue,$,ee){Ro||kf({});const ae=tn(ue),vt=tn($);return Zy(ae,vt,ee)},e.addHook=function(ue,$){typeof $=="function"&&cl(L[ue],$)},e.removeHook=function(ue,$){if($!==void 0){const ee=HK(L[ue],$);return ee===-1?void 0:qK(L[ue],ee,1)[0]}return Aw(L[ue])},e.removeHooks=function(ue){L[ue]=[]},e.removeAllHooks=function(){L=Yw()},e}var hD=uD();hD.addHook("afterSanitizeAttributes",function(t){t.tagName.toLowerCase()==="a"&&(t.setAttribute("target","_blank"),t.setAttribute("rel","noreferrer"))});const cc=({children:t,className:e})=>{if(!t)return null;const n=hD.sanitize(t,{ALLOWED_TAGS:["a","b","strong","u","em"]});return w.jsx("p",{className:e,dangerouslySetInnerHTML:{__html:n}})};cc.propTypes={children:h.node,className:h.string};const cG="_table_22dkh_1",dG="_labelWrapper_22dkh_9",uG="_title_22dkh_12",hG="_description_22dkh_13",fG="_headerCell_22dkh_17",pG="_collapseIcon_22dkh_32",mG="_filterWrapper_22dkh_67",gG="_filterInput_22dkh_74",yG="_sectionsTitle_22dkh_94",vG="_sectionsSubtitle_22dkh_101",bG="_sectionsCustomText_22dkh_108",wG="_sectionTab_22dkh_126",xG="_textStartLine_22dkh_136",_G="_textCenter_22dkh_140",TG="_textEndLine_22dkh_144",EG="_verticalSectionTabWrapper_22dkh_149",SG="_sectionTabWrapper_22dkh_158",CG="_hideForPrint_22dkh_170 _hideForPrint_9lzdq_20",DG="_sectionDescription_22dkh_176",Ft={table:cG,labelWrapper:dG,title:uG,description:hG,headerCell:fG,collapseIcon:pG,filterWrapper:mG,filterInput:gG,sectionsTitle:yG,sectionsSubtitle:vG,sectionsCustomText:bG,sectionTab:wG,textStartLine:xG,textCenter:_G,textEndLine:TG,verticalSectionTabWrapper:EG,sectionTabWrapper:SG,hideForPrint:CG,sectionDescription:DG};function Cf({section:t,dataSetId:e,globalFilterText:n,collapsible:r}){const[i,s]=O.useState(""),[o,a]=O.useState(!0),{data:l}=et(),c=wL(l,e,t.id),d=xL(l,e,t.id),u=t.disableDataElementAutoGroup?_L(l,c):QT(l,c),f=O.useMemo(()=>{if(u.length===0)return 0;const P=u.map(R=>KT(l,R.categoryCombo.id));return Math.max(...P)},[l,u]),p=O.useMemo(()=>new Set(t.greyedFields.map(P=>Ua(P.dataElement.id,P.categoryOptionCombo.id))),[t.greyedFields]),m=`filter-input-${t.id}`,v=Pe(Ft.headerCell,Ft.hideForPrint),b=Uy(t),T=(b==null?void 0:b.pivotMode)==="move_categories"||(b==null?void 0:b.pivotMode)==="pivot"?oD:Fy,{beforeSectionText:E,afterSectionText:S}=b,C=()=>{r&&a(P=>!P)},M=P=>{P.key==="Enter"&&C()};return w.jsxs("div",{children:[w.jsx(cc,{className:Ft.sectionDescription,children:E}),w.jsxs(h0,{className:Ft.table,suppressZebraStriping:!0,children:[w.jsxs(f0,{children:[w.jsx(Zl,{children:w.jsx(hi,{colSpan:"100%",className:Ft.headerCell,children:w.jsxs("div",{className:Ft.labelWrapper,children:[w.jsx("div",{className:Ft.collapseIcon,tabIndex:r?0:-1,onClick:C,onKeyDown:M,children:r&&(o?w.jsx(tx,{color:"var(--colors-white)"}):w.jsx(hg,{color:"var(--colors-white)"}))}),w.jsxs("div",{children:[w.jsx("div",{className:Ft.title,children:t.displayName}),t.description&&w.jsx("div",{className:Ft.description,children:t.description||"Placeholder section description"})]})]})})}),o&&w.jsx(Zl,{children:w.jsx(hi,{colSpan:"100%",className:v,children:w.jsxs("label",{htmlFor:m,className:Ft.filterWrapper,children:[w.jsx(rx,{color:y.grey600}),w.jsx("input",{name:m,id:m,type:"text",placeholder:k.t("Type here to filter rows in this section"),value:i,onChange:({target:P})=>s(P.value),className:Ft.filterInput})]})})})]}),u.map(({categoryCombo:P,dataElements:R},I)=>w.jsx(T,{categoryCombo:P,dataElements:R,filterText:i,globalFilterText:n,maxColumnsInSection:f,renderRowTotals:t.showRowTotals,renderColumnTotals:t.showColumnTotals,greyedFields:p,displayOptions:b,collapsed:!o},I)),d.length>0&&o&&w.jsx(By,{indicators:d,renderRowTotals:t.showRowTotals,maxColumnsInSection:f,filterText:i,globalFilterText:n})]}),w.jsx(cc,{className:Ft.sectionDescription,children:S})]})}Cf.propTypes={collapsible:h.bool,dataSetId:h.string,globalFilterText:h.string,section:h.shape({dataSet:h.shape({id:h.string}),description:h.string,disableDataElementAutoGroup:h.bool,displayName:h.string,displayOptions:h.string,greyedFields:h.array,id:h.string,showColumnTotals:h.bool,showRowTotals:h.bool})};Cf.defaultProps={collapsible:!1};const fD=({dataSet:t,globalFilterText:e})=>{const[n]=Nc(),r=n?t.sections.filter(s=>s.id===n):t.sections,i=Uy(t);return t.renderAsTabs?w.jsx(pD,{globalFilterText:e,sections:t.sections,dataSetId:t.id,direction:i==null?void 0:i.tabsDirection}):r.map(s=>w.jsx(Cf,{section:s,dataSetId:t.id,globalFilterText:e,collapsible:!0},s.id))};fD.propTypes={dataSet:h.shape({displayOptions:h.string,id:h.string,renderAsTabs:h.bool,sections:h.arrayOf(h.shape({dataSet:h.shape({id:h.string}),description:h.string,disableDataElementAutoGroup:h.bool,displayName:h.string,id:h.string}))}),globalFilterText:h.string};const pD=({dataSetId:t,sections:e,globalFilterText:n,direction:r})=>{const[i,s]=Nc(),o=i?e.find(a=>a.id===i):e[0];return w.jsxs("div",{className:Pe(Ft.sectionTabWrapper,{[Ft.verticalSectionTabWrapper]:r==="vertical"}),children:[w.jsx(w_,{className:Ft.sectionTab,children:e.map(a=>w.jsx(u0,{selected:a.id===o.id,onClick:()=>s(a.id),children:a.displayName},a.id))}),w.jsx(Cf,{section:o,dataSetId:t,globalFilterText:n},o.id)]})};pD.propTypes={dataSetId:h.string,direction:h.oneOf(["vertical","horizontal"]),globalFilterText:h.string,sections:h.arrayOf(h.shape({dataSet:h.shape({id:h.string}),description:h.string,disableDataElementAutoGroup:h.bool,displayName:h.string,id:h.string}))};const MG={[Wn.LOCKED_DATA_INPUT_PERIOD]:k.t("Data cannot be added or changed outside of the data input period."),[Wn.LOCKED_ORGANISATION_UNIT]:k.t("Data cannot be added or changed because organisation unit is closed for the selected period."),[Wn.LOCKED_EXPIRY_DAYS]:k.t("Data cannot be added or changed because data entry has concluded."),[Wn.LOCKED_APPROVED]:k.t("Data cannot be added or changed because data has been approved."),[Wn.LOCKED_NO_AUTHORITY]:k.t("You do not have the authority to edit entry forms")},PG={DEFAULT:iD,SECTION:fD,CUSTOM:tD},mD=D.memo(function({dataSet:e}){var c,d,u,f,p,m,v;const[n,r]=D.useState(""),{locked:i,lockStatus:{state:s}}=Fa(),o=e.formType,a=PG[o],l=Uy(e);return w.jsxs(w.Fragment,{children:[i&&w.jsx(kr,{title:k.t("Data set locked"),children:MG[s]}),o!==bE.CUSTOM&&w.jsx(sD,{value:n,setFilterText:r,formType:o}),w.jsxs("div",{className:Pe(Ft.sectionsCustomText,{[Ft.textStartLine]:((c=l.customText)==null?void 0:c.align)==="line-start",[Ft.textCenter]:((d=l.customText)==null?void 0:d.align)==="center",[Ft.textEndLine]:!l.customText||((u=l.customText)==null?void 0:u.align)==="line-end"}),children:[((f=l.customText)==null?void 0:f.header)&&w.jsx(cc,{className:Ft.sectionsTitle,children:(p=l.customText)==null?void 0:p.header}),((m=l.customText)==null?void 0:m.subheader)&&w.jsx(cc,{className:Ft.sectionsSubtitle,children:(v=l.customText)==null?void 0:v.subheader})]}),w.jsx(a,{dataSet:e,globalFilterText:n})]})});mD.propTypes={dataSet:h.shape({displayName:h.string,formType:h.string,id:h.string})};const kG="_wrapperDiv_xtk07_1",OG="_innerDiv_xtk07_8",RG="_svgWrapper_xtk07_13",IG="_headingText_xtk07_18",NG="_instructionsText_xtk07_27",AG="_linkText_xtk07_35",Fo={wrapperDiv:kG,innerDiv:OG,svgWrapper:RG,headingText:IG,instructionsText:NG,linkText:AG},jG=()=>w.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("path",{d:"M3 17V3H61V17",stroke:"#6C7787",strokeWidth:"2"}),w.jsx("path",{d:"M61 47L61 61L3 61L3 47",stroke:"#6C7787",strokeWidth:"2"}),w.jsx("rect",{x:"3",y:"20",width:"58",height:"24",fill:"#FBFCFD",stroke:"#404B5A",strokeWidth:"2"}),w.jsx("path",{d:"M8 32L22 32",stroke:"#404B5A",strokeWidth:"2"}),w.jsx("path",{d:"M16 38L22 32L16 26",stroke:"#404B5A",strokeWidth:"2"}),w.jsx("path",{d:"M28 26L56 26",stroke:"#404B5A",strokeWidth:"2"}),w.jsx("path",{d:"M8 9L56 9",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M8 49L35 49",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M37 49L47 49",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M49 49L53 49",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M8 15L20 15",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M22 15L30 15",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M8 55H28",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M30 55L34 55",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M36 55L38 55",stroke:"#A0ADBA",strokeWidth:"2"}),w.jsx("path",{d:"M28 38L56 38",stroke:"#404B5A",strokeWidth:"2"}),w.jsx("path",{d:"M32 32L56 32",stroke:"#404B5A",strokeWidth:"2"})]}),LG="https://docs.dhis2.org/en/use/user-guides/dhis-core-version-master/collecting-data/data-entry-beta.html",$G=()=>w.jsx("div",{className:Fo.wrapperDiv,children:w.jsxs("div",{className:Fo.innerDiv,children:[w.jsx("div",{className:Fo.svgWrapper,children:w.jsx(jG,{})}),w.jsx("span",{className:Fo.headingText,children:k.t("Get started with data entry")}),w.jsx("span",{className:Fo.instructionsText,children:k.t("Choose a data set, organisation unit, and period from the top bar to start entering data")}),w.jsx("a",{className:Fo.linkText,target:"_blank",rel:"noreferrer noopener",href:LG,children:k.t("Learn more about data entry")})]})});function zw(t,e){return Object.fromEntries(Object.entries(t).map(e))}function FG(t){return t?zw(t,([e,n])=>[e,zw(n,([r,{value:i}])=>[r,i])]):{}}function gD({children:t,dataValueSet:e,validFormKey:n}){var a;const[r]=O.useState(()=>FG(e)),i=ar(l=>l.setInitialDataValues),s=((a=ar(l=>l.getInitialDataValues()))==null?void 0:a.formKey)===n,o=ji(l=>l.reset);return O.useEffect(()=>{i&&r&&n&&i(r,n)},[r,i,n]),O.useEffect(()=>{o()},[o]),s?w.jsx(w.Fragment,{children:t}):null}gD.propTypes={children:h.node,dataValueSet:h.object,validFormKey:h.string};const BG=2e3,UG=200,YG=()=>{const t=wo(),{onlineStatusMessage:e,setOnlineStatusMessage:n}=HD(),r=!!e;O.useEffect(()=>{const s=r!==!!t?BG:UG,o=t?t===1?k.t("{{pendingMutations}} change saved locally",{pendingMutations:t}):k.t("{{pendingMutations}} changes saved locally",{pendingMutations:t}):null,a=setTimeout(()=>n(o),s);return()=>{clearTimeout(a)}},[t,r,n])},yD=({selectionHasNoFormMessage:t})=>{var p,m;const e=gr(),{data:n}=et();YG(),Q5();const r=ar(v=>v.setDataValueSet),i=qh();O.useEffect(()=>{r(i.data)},[r,i.data]);const s=ji(v=>v.setCompleteAttempted),o=Yh(),[a]=jt(),l=Ac(),c=o?l:!1;if(O.useEffect(()=>{c&&(e.invalidateQueries(B0.all,{type:"active"},{cancelRefetch:!1}),s(!1))},[c,e,s]),t){const v=k.t("The current selection does not have a form");return w.jsx(kr,{title:v,className:Rs.formMessageBox,error:!0,children:t})}if(!o)return w.jsx($G,{});if(i.error)return w.jsx(kr,{title:k.t("There was a problem loading data values"),className:Rs.formMessageBox,error:!0,children:(p=i.error)==null?void 0:p.message});if(i.isFetching||i.isInitialLoading)return w.jsx(Jw,{children:w.jsx(xs,{})});if(!n||!a)return null;const d=Wt(n,a),u=Pe(Rs.footer,Rs.hideForPrint),f=(m=i.data)==null?void 0:m.dataValues;return w.jsx(gD,{dataValueSet:f,validFormKey:c,children:w.jsxs("div",{className:Rs.wrapper,children:[w.jsx("main",{id:"data-workspace",className:Rs.formWrapper,children:w.jsx("div",{className:Rs.formArea,children:w.jsx(mD,{dataSet:d})})}),w.jsx("footer",{className:u,children:w.jsx(a8,{})})]})},l)};yD.propTypes={selectionHasNoFormMessage:h.string};const zG="_wrapper_16oor_1",WG="_showSidebar_16oor_22",HG="_header_16oor_26",qG="_main_16oor_30",VG="_sidebar_16oor_35",Bo={wrapper:zG,showSidebar:WG,header:HG,main:qG,sidebar:VG},vD=({header:t,main:e,sidebar:n,showSidebar:r,showFooter:i})=>{const s=Pe(Bo.wrapper,{[Bo.showSidebar]:r,[Bo.showFooter]:i});return w.jsxs("div",{className:s,children:[w.jsx("header",{className:Bo.header,children:t}),w.jsx("div",{className:Bo.main,children:e}),w.jsx("aside",{className:Bo.sidebar,children:n})]})};vD.propTypes={header:es.node,main:es.node,showFooter:es.bool,showSidebar:es.bool,sidebar:es.node};const QG=t=>t.dataSets,KG=_o(QG,t=>t.filter(e=>e.formType==="CUSTOM").map(e=>({id:e.id,version:e.version,dataSet:e.dataSet}))),GG=()=>jr(_y.all,{select:KG});function ZG(){return{warning:!0}}const XG=()=>{const{show:t}=Ar(o=>o,ZG),e=gr(),{isSuccess:n,isError:r,error:i,data:s}=GG();if(r)t(k.t("Custom forms couldn't be made available offline. {{error}}",{error:i}));else if(n)for(const o of s){const a=_y.byId(o.id);e.getQueryData(a,{predicate:c=>{var d;return o.version===((d=c==null?void 0:c.meta)==null?void 0:d.version)}})||e.prefetchQuery(a,{meta:{version:o.version,persist:!0}})}},JG="_center_fsnu2_1",eZ="_noticeBoxWrapper_fsnu2_5",Lp={center:JG,noticeBoxWrapper:eZ},bD=({children:t})=>{XG();const e=et(),n=Ts();return e.isLoading||n.isLoading?w.jsx(Jw,{className:Lp.center,position:"top",children:w.jsx(xs,{})}):e.isError?(console.error(e.error.message,e.error.details),w.jsx(kr,{error:!0,className:Lp.noticeBoxWrapper,title:k.t("There was a problem loading metadata"),children:e.error.message})):n.isError?(console.error(n.error.message,n.error.details),w.jsx(kr,{error:!0,className:Lp.noticeBoxWrapper,title:k.t("There was a problem loading the user's information"),children:n.error.message})):t};bD.propTypes={children:es.node};const tZ={[n2]:V2,[Jo]:iC,[ec]:H2},nZ=()=>{const{id:t}=So(),[e,n]=O.useState(""),r=w.jsx(vE,{setSelectionHasNoFormMessage:n}),i=w.jsx(yD,{selectionHasNoFormMessage:e});return w.jsx(bD,{children:w.jsx(vD,{header:r,main:i,sidebar:w.jsx(O2,{idSidebarMap:tZ}),showSidebar:!!t})})},rZ=["added","removed","updated"];function Ww(t){return rZ.includes(t)}async function iZ({queryClient:t,persister:e,maxAge:n=1e3*60*60*24,buster:r="",hydrateOptions:i}){try{const s=await e.restoreClient();if(s)if(s.timestamp){const o=Date.now()-s.timestamp>n,a=s.buster!==r;o||a?e.removeClient():BN(t,s.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function Hw({queryClient:t,persister:e,buster:n="",dehydrateOptions:r}){const i={buster:n,timestamp:Date.now(),clientState:FN(t,r)};await e.persistClient(i)}function sZ(t){const e=t.queryClient.getQueryCache().subscribe(r=>{Ww(r.type)&&Hw(t)}),n=t.queryClient.getMutationCache().subscribe(r=>{Ww(r.type)&&Hw(t)});return()=>{e(),n()}}function oZ(t){let e=!1,n;const r=()=>{e=!0,n==null||n()},i=iZ(t).then(()=>{e||(n=sZ(t))});return[r,i]}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}const aZ=({client:t,children:e,persistOptions:n,onSuccess:r,...i})=>{const[s,o]=O.useState(!0),a=O.useRef({persistOptions:n,onSuccess:r});return O.useEffect(()=>{a.current={persistOptions:n,onSuccess:r}}),O.useEffect(()=>{let l=!1;o(!0);const[c,d]=oZ({...a.current.persistOptions,queryClient:t});return d.then(()=>{l||(a.current.onSuccess==null||a.current.onSuccess(),o(!1))}),()=>{l=!0,c()}},[t]),O.createElement(UN,og({client:t},i),O.createElement(YN,{value:s},e))};function Df(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function lZ(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Df(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let $p;function Yy(){return $p||($p=lZ("keyval-store","keyval")),$p}function cZ(t,e=Yy()){return e("readonly",n=>Df(n.get(t)))}function dZ(t,e,n=Yy()){return n("readwrite",r=>(r.put(e,t),Df(r.transaction)))}function uZ(t,e=Yy()){return e("readwrite",n=>(n.delete(t),Df(n.transaction)))}var wD="Expected a function",qw=NaN,hZ="[object Symbol]",fZ=/^\s+|\s+$/g,pZ=/^[-+]0x[0-9a-f]+$/i,mZ=/^0b[01]+$/i,gZ=/^0o[0-7]+$/i,yZ=parseInt,vZ=typeof sr=="object"&&sr&&sr.Object===Object&&sr,bZ=typeof self=="object"&&self&&self.Object===Object&&self,wZ=vZ||bZ||Function("return this")(),xZ=Object.prototype,_Z=xZ.toString,TZ=Math.max,EZ=Math.min,Fp=function(){return wZ.Date.now()};function SZ(t,e,n){var r,i,s,o,a,l,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(wD);e=Vw(e)||0,Vu(n)&&(d=!!n.leading,u="maxWait"in n,s=u?TZ(Vw(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(M){var P=r,R=i;return r=i=void 0,c=M,o=t.apply(R,P),o}function m(M){return c=M,a=setTimeout(x,e),d?p(M):o}function v(M){var P=M-l,R=M-c,I=e-P;return u?EZ(I,s-R):I}function b(M){var P=M-l,R=M-c;return l===void 0||P>=e||P<0||u&&R>=s}function x(){var M=Fp();if(b(M))return T(M);a=setTimeout(x,v(M))}function T(M){return a=void 0,f&&r?p(M):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:T(Fp())}function C(){var M=Fp(),P=b(M);if(r=arguments,i=this,l=M,P){if(a===void 0)return m(l);if(u)return a=setTimeout(x,e),p(l)}return a===void 0&&(a=setTimeout(x,e)),o}return C.cancel=E,C.flush=S,C}function CZ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(wD);return Vu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),SZ(t,e,{leading:r,maxWait:e,trailing:i})}function Vu(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function DZ(t){return!!t&&typeof t=="object"}function MZ(t){return typeof t=="symbol"||DZ(t)&&_Z.call(t)==hZ}function Vw(t){if(typeof t=="number")return t;if(MZ(t))return qw;if(Vu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(fZ,"");var n=mZ.test(t);return n||gZ.test(t)?yZ(t.slice(2),n?2:8):pZ.test(t)?qw:+t}var PZ=CZ;const kZ=Rn(PZ),OZ=(t="reactQuery")=>({persistClient:kZ(n=>dZ(t,n),1e3),restoreClient:()=>cZ(t),removeClient:()=>uZ(t)}),RZ=OZ(),IZ={persister:RZ,maxAge:1/0,dehydrateOptions:{dehydrateMutations:!0,dehydrateQueries:!0,shouldDehydrateQuery:t=>{var r;const e=t.state.status==="success",n=((r=t==null?void 0:t.meta)==null?void 0:r.persist)===!0;return e&&n},shouldDehydrateMutation:t=>{const e=t.state.status==="error"&&s5(t.state.error);return t.state.isPaused||e}},hydrateOptions:{defaultOptions:{queries:{meta:{persist:!0,isHydrated:!0}}}}},xD=({queryClient:t,children:e})=>w.jsx(aZ,{client:t,persistOptions:IZ,onSuccess:()=>{t.resumePausedMutations()},children:e});xD.propTypes={queryClient:h.instanceOf(b0).isRequired,children:h.node};const NZ=t=>({queryKey:e})=>{const[n,r]=e,i={[n]:{resource:n}};return r!=null&&r.id&&(i[n].id=r.id),r!=null&&r.params&&(i[n].params=r.params),t.query(i).then(s=>s[n])},AZ=()=>Ar(k.t("Session Expired. Please reload to log in again. You will not lose any data."),{critical:!0,actions:[{label:"Reload now",onClick:()=>location.reload()}]}),jZ={log:console.log,warn:console.warn,error:()=>{}},kd=new b0({logger:jZ});Rr.setEventListener(t=>{const e=({type:n})=>{t(n==="online")};return window.addEventListener("online",e,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}});let Qw=Rr.isOnline();Rr.subscribe(()=>{const t=Rr.isOnline(),e=t?"online":"offline";Qw!==t&&(Qw=t,window.dispatchEvent(new Event(e)))});const LZ=()=>{const t=hc(),e=NZ(t),{onError:n}=c2(),{show:r}=AZ();return kd.setDefaultOptions({queries:{networkMode:"offlineFirst",queryFn:e,refetchOnWindowFocus:!1,cacheTime:1/0},mutations:{networkMode:"offlineFirst",retry:(i,s)=>{const o=i5(s);return o&&(Rr.setOnline(!1),Rr.onOnline(!1)),i===0&&(s==null?void 0:s.details.httpStatusCode)===401&&r(),!!o},onError:n,onSuccess:Rm}}),z5(kd,t),n5(kd,t),kd};var $Z={};const FZ=$Z.REACT_APP_ENABLE_RQ_DEVTOOLS==="true";function _D({children:t,router:e=UA,queryClient:n}){const r=LZ();return w.jsxs(w.Fragment,{children:[w.jsx(qD,{}),w.jsx(h_,{colors:!0,spacers:!0,theme:!0}),w.jsxs(xD,{queryClient:n||r,children:[FZ&&w.jsx(VN,{}),w.jsx(e,{children:w.jsx(fj,{ReactRouterRoute:MA,children:w.jsx(v2,{children:w.jsx(R2,{children:w.jsx(TT,{children:t})})})})})]})]})}_D.propTypes={children:h.any.isRequired,queryClient:h.instanceOf(b0).isRequired,router:h.elementType};const QZ=()=>w.jsx(_D,{children:w.jsx(nZ,{})});export{_D as OuterComponents,QZ as default};
//# sourceMappingURL=app-wrapper-Z1PsQ7mk.js.map
